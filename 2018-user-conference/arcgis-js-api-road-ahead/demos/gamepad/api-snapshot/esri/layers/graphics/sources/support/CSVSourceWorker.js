// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(a,b){function r(a){return function(b){return d([a,b])}}function d(g){if(n)throw new TypeError("Generator is already executing.");for(;h;)try{if(n=1,m&&(c=m[g[0]&2?"return":g[0]?"throw":"next"])&&!(c=c.call(m,g[1])).done)return c;if(m=0,c)g=[0,c.value];switch(g[0]){case 0:case 1:c=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++;m=g[1];g=[0];continue;case 7:g=h.ops.pop();h.trys.pop();
continue;default:if(!(c=h.trys,c=0<c.length&&c[c.length-1])&&(6===g[0]||2===g[0])){h=0;continue}if(3===g[0]&&(!c||g[1]>c[0]&&g[1]<c[3]))h.label=g[1];else if(6===g[0]&&h.label<c[1])h.label=c[1],c=g;else if(c&&h.label<c[2])h.label=c[2],h.ops.push(g);else{c[2]&&h.ops.pop();h.trys.pop();continue}}g=b.call(a,h)}catch(f){g=[6,f],m=0}finally{n=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}var h={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},n,m,c,k;return k=
{next:r(0),"throw":r(1),"return":r(2)},"function"===typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k}})},"@dojo/shim/Set":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./support/has ./Symbol".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var r=a("tslib"),d=a("./global"),h=a("./iterator"),
n=a("./support/has");a("./Symbol");b.Set=d.default.Set;n.default("es6-set")||(b.Set=(m=function(){function a(a){this._setData=[];this[Symbol.toStringTag]="Set";if(a)if(h.isArrayLike(a))for(var b=0;b<a.length;b++)this.add(a[b]);else try{for(var b=r.__values(a),c=b.next();!c.done;c=b.next())this.add(c.value)}catch(p){k={error:p}}finally{try{c&&!c.done&&(x=b.return)&&x.call(b)}finally{if(k)throw k.error;}}var k,x}a.prototype.add=function(a){if(this.has(a))return this;this._setData.push(a);return this};
a.prototype.clear=function(){this._setData.length=0};a.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;this._setData.splice(a,1);return!0};a.prototype.entries=function(){return new h.ShimIterator(this._setData.map(function(a){return[a,a]}))};a.prototype.forEach=function(a,b){for(var c=this.values(),g=c.next();!g.done;)a.call(b,g.value,g.value,this),g=c.next()};a.prototype.has=function(a){return-1<this._setData.indexOf(a)};a.prototype.keys=function(){return new h.ShimIterator(this._setData)};
Object.defineProperty(a.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});a.prototype.values=function(){return new h.ShimIterator(this._setData)};a.prototype[Symbol.iterator]=function(){return new h.ShimIterator(this._setData)};return a}(),m[Symbol.species]=m,m));b.default=b.Set;var m})},"tslib/tslib":function(){var a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y;(function(a){function e(e,a){e!==l&&("function"===typeof Object.create?Object.defineProperty(e,"__esModule",
{value:!0}):e.__esModule=!0);return function(l,b){return e[l]=a?a(l,b):b}}var l="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(b){a(e(l,e(b)))}):"object"===typeof module&&"object"===typeof module.exports?a(e(l,e(module.exports))):a(e(l))})(function(u){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var l in a)a.hasOwnProperty(l)&&
(e[l]=a[l])};a=function(l,a){function b(){this.constructor=l}e(l,a);l.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)};b=Object.assign||function(e){for(var l,a=1,b=arguments.length;a<b;a++){l=arguments[a];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c])}return e};r=function(e,a){var l={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>a.indexOf(b)&&(l[b]=e[b]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<
b.length;c++)0>a.indexOf(b[c])&&(l[b[c]]=e[b[c]])}return l};d=function(e,a,b,c){var l=arguments.length,g=3>l?a:null===c?c=Object.getOwnPropertyDescriptor(a,b):c,f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(e,a,b,c);else for(var u=e.length-1;0<=u;u--)if(f=e[u])g=(3>l?f(g):3<l?f(a,b,g):f(a,b))||g;return 3<l&&g&&Object.defineProperty(a,b,g),g};h=function(e,a){return function(l,b){a(l,b,e)}};n=function(e,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,
a)};m=function(e,a,b,c){return new (b||(b=Promise))(function(l,g){function f(e){try{p(c.next(e))}catch(ga){g(ga)}}function u(e){try{p(c["throw"](e))}catch(ga){g(ga)}}function p(e){e.done?l(e.value):(new b(function(l){l(e.value)})).then(f,u)}p((c=c.apply(e,a||[])).next())})};c=function(e,a){function l(e){return function(l){return b([e,l])}}function b(l){if(g)throw new TypeError("Generator is already executing.");for(;c;)try{if(g=1,f&&(u=f[l[0]&2?"return":l[0]?"throw":"next"])&&!(u=u.call(f,l[1])).done)return u;
if(f=0,u)l=[0,u.value];switch(l[0]){case 0:case 1:u=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++;f=l[1];l=[0];continue;case 7:l=c.ops.pop();c.trys.pop();continue;default:if(!(u=c.trys,u=0<u.length&&u[u.length-1])&&(6===l[0]||2===l[0])){c=0;continue}if(3===l[0]&&(!u||l[1]>u[0]&&l[1]<u[3]))c.label=l[1];else if(6===l[0]&&c.label<u[1])c.label=u[1],u=l;else if(u&&c.label<u[2])c.label=u[2],c.ops.push(l);else{u[2]&&c.ops.pop();c.trys.pop();continue}}l=a.call(e,c)}catch(ga){l=[6,
ga],f=0}finally{g=u=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}var c={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},g,f,u,p;return p={next:l(0),"throw":l(1),"return":l(2)},"function"===typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p};k=function(e,a){for(var l in e)a.hasOwnProperty(l)||(a[l]=e[l])};g=function(e){var l="function"===typeof Symbol&&e[Symbol.iterator],a=0;return l?l.call(e):{next:function(){e&&a>=e.length&&(e=void 0);return{value:e&&
e[a++],done:!e}}}};f=function(e,a){var l="function"===typeof Symbol&&e[Symbol.iterator];if(!l)return e;e=l.call(e);var b,c=[],g;try{for(;(void 0===a||0<a--)&&!(b=e.next()).done;)c.push(b.value)}catch(I){g={error:I}}finally{try{b&&!b.done&&(l=e["return"])&&l.call(e)}finally{if(g)throw g.error;}}return c};v=function(){for(var e=[],a=0;a<arguments.length;a++)e=e.concat(f(arguments[a]));return e};x=function(e){return this instanceof x?(this.v=e,this):new x(e)};p=function(e,a,b){function l(e){p[e]&&(k[e]=
function(l){return new Promise(function(a,b){1<B.push([e,l,a,b])||c(e,l)})})}function c(e,l){try{var a=p[e](l);a.value instanceof x?Promise.resolve(a.value.v).then(g,f):u(B[0][2],a)}catch(aa){u(B[0][3],aa)}}function g(e){c("next",e)}function f(e){c("throw",e)}function u(e,l){(e(l),B.shift(),B.length)&&c(B[0][0],B[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p=b.apply(e,a||[]),k,B=[];return k={},l("next"),l("throw"),l("return"),k[Symbol.asyncIterator]=
function(){return this},k};A=function(e){function l(l,c){e[l]&&(a[l]=function(a){return(b=!b)?{value:x(e[l](a)),done:"return"===l}:c?c(a):a})}var a,b;return a={},l("next"),l("throw",function(e){throw e;}),l("return"),a[Symbol.iterator]=function(){return this},a};w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=e[Symbol.asyncIterator];return l?l.call(e):"function"===typeof g?g(e):e[Symbol.iterator]()};y=function(e,a){Object.defineProperty?Object.defineProperty(e,
"raw",{value:a}):e.raw=a;return e};u("__extends",a);u("__assign",b);u("__rest",r);u("__decorate",d);u("__param",h);u("__metadata",n);u("__awaiter",m);u("__generator",c);u("__exportStar",k);u("__values",g);u("__read",f);u("__spread",v);u("__await",x);u("__asyncGenerator",p);u("__asyncDelegator",A);u("__asyncValues",w);u("__makeTemplateObject",y)})},"@dojo/shim/global":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=
a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){if("undefined"!==typeof global)return global;if("undefined"!==typeof window)return window;if("undefined"!==typeof self)return self}();b.default=a})},"@dojo/shim/iterator":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&
define(["require","exports","./Symbol","./string"],a)})(function(a,b){function r(a){return a&&"function"===typeof a[Symbol.iterator]}function d(a){return a&&"number"===typeof a.length}function h(a){if(r(a))return a[Symbol.iterator]();if(d(a))return new c(a)}Object.defineProperty(b,"__esModule",{value:!0});a("./Symbol");var n=a("./string"),m={done:!0,value:void 0},c=function(){function a(a){this._nextIndex=-1;r(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?
this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:m:m};a.prototype[Symbol.iterator]=function(){return this};return a}();b.ShimIterator=c;b.isIterable=r;b.isArrayLike=d;b.get=h;b.forOf=function(a,b,c){function g(){f=!0}var f=!1;if(d(a)&&"string"===typeof a)for(var p=a.length,k=0;k<p;++k){var m=a[k];if(k+1<p){var y=m.charCodeAt(0);y>=n.HIGH_SURROGATE_MIN&&y<=n.HIGH_SURROGATE_MAX&&(m+=a[++k])}b.call(c,m,a,g);if(f)break}else if(p=h(a))for(k=
p.next();!k.done;){b.call(c,k.value,a,g);if(f)break;k=p.next()}}})},"@dojo/shim/Symbol":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./support/has","./global","./support/util"],a)})(function(a,b){function r(a){return a&&("symbol"===typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(b,"__esModule",{value:!0});var d=a("./support/has"),
h=a("./global"),n=a("./support/util");b.Symbol=h.default.Symbol;if(!d.default("es6-symbol")){var m=function(a){if(!r(a))throw new TypeError(a+" is not a symbol");return a},c=Object.defineProperties,k=Object.defineProperty,g=Object.create,f=Object.prototype,v={},x=function(){var a=g(null);return function(b){for(var c=0,g;a[String(b)+(c||"")];)++c;b+=String(c||"");a[b]=!0;g="@@"+b;Object.getOwnPropertyDescriptor(f,g)||k(f,g,{set:function(e){k(this,g,n.getValueDescriptor(e))}});return g}}(),p=function w(a){if(this instanceof
p)throw new TypeError("TypeError: Symbol is not a constructor");return w(a)};b.Symbol=h.default.Symbol=function y(a){if(this instanceof y)throw new TypeError("TypeError: Symbol is not a constructor");var e=Object.create(p.prototype);a=void 0===a?"":String(a);return c(e,{__description__:n.getValueDescriptor(a),__name__:n.getValueDescriptor(x(a))})};k(b.Symbol,"for",n.getValueDescriptor(function(a){return v[a]?v[a]:v[a]=b.Symbol(String(a))}));c(b.Symbol,{keyFor:n.getValueDescriptor(function(a){var b;
m(a);for(b in v)if(v[b]===a)return b}),hasInstance:n.getValueDescriptor(b.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:n.getValueDescriptor(b.Symbol.for("isConcatSpreadable"),!1,!1),iterator:n.getValueDescriptor(b.Symbol.for("iterator"),!1,!1),match:n.getValueDescriptor(b.Symbol.for("match"),!1,!1),observable:n.getValueDescriptor(b.Symbol.for("observable"),!1,!1),replace:n.getValueDescriptor(b.Symbol.for("replace"),!1,!1),search:n.getValueDescriptor(b.Symbol.for("search"),!1,!1),species:n.getValueDescriptor(b.Symbol.for("species"),
!1,!1),split:n.getValueDescriptor(b.Symbol.for("split"),!1,!1),toPrimitive:n.getValueDescriptor(b.Symbol.for("toPrimitive"),!1,!1),toStringTag:n.getValueDescriptor(b.Symbol.for("toStringTag"),!1,!1),unscopables:n.getValueDescriptor(b.Symbol.for("unscopables"),!1,!1)});c(p.prototype,{constructor:n.getValueDescriptor(b.Symbol),toString:n.getValueDescriptor(function(){return this.__name__},!1,!1)});c(b.Symbol.prototype,{toString:n.getValueDescriptor(function(){return"Symbol ("+m(this).__description__+
")"}),valueOf:n.getValueDescriptor(function(){return m(this)})});k(b.Symbol.prototype,b.Symbol.toPrimitive,n.getValueDescriptor(function(){return m(this)}));k(b.Symbol.prototype,b.Symbol.toStringTag,n.getValueDescriptor("Symbol",!1,!1,!0));k(p.prototype,b.Symbol.toPrimitive,n.getValueDescriptor(b.Symbol.prototype[b.Symbol.toPrimitive],!1,!1,!0));k(p.prototype,b.Symbol.toStringTag,n.getValueDescriptor(b.Symbol.prototype[b.Symbol.toStringTag],!1,!1,!0))}b.isSymbol=r;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){b.Symbol[a]||
Object.defineProperty(b.Symbol,a,n.getValueDescriptor(b.Symbol.for(a),!1,!1))});b.default=b.Symbol})},"@dojo/shim/support/has":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib @dojo/has/has ../global @dojo/has/has".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var r=a("tslib"),d=a("@dojo/has/has"),h=a("../global");
b.default=d.default;r.__exportStar(a("@dojo/has/has"),b);d.add("es6-array",function(){return["from","of"].every(function(a){return a in h.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in h.default.Array.prototype})},!0);d.add("es6-array-fill",function(){return"fill"in h.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);d.add("es7-array",function(){return"includes"in h.default.Array.prototype},!0);d.add("es6-map",function(){if("function"===
typeof h.default.Map)try{var a=new h.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&d.default("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(c){}return!1},!0);d.add("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof h.default.Math[a]})},!0);d.add("es6-math-imul",function(){return"imul"in h.default.Math?-5===Math.imul(4294967295,
5):!1},!0);d.add("es6-object",function(){return d.default("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);d.add("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);d.add("es-observable",function(){return"undefined"!==typeof h.default.Observable},!0);d.add("es6-promise",function(){return"undefined"!==typeof h.default.Promise&&
d.default("es6-symbol")},!0);d.add("es6-set",function(){if("function"===typeof h.default.Set){var a=new h.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&d.default("es6-symbol")}return!1},!0);d.add("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof h.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);d.add("es6-string-raw",
function(){function a(a){for(var b=1;b<arguments.length;b++);b=r.__spread(a);b.raw=a.raw;return b}if("raw"in h.default.String){var b=a(n||(n=r.__makeTemplateObject(["a\n",""],["a\\n",""])),1);b.raw=["a\\n"];return"a:\\n"===h.default.String.raw(b,42)}return!1},!0);d.add("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);d.add("es6-symbol",function(){return"undefined"!==typeof h.default.Symbol&&"symbol"===typeof Symbol()},
!0);d.add("es6-weakmap",function(){if("undefined"!==typeof h.default.WeakMap){var a={},b={},k=new h.default.WeakMap([[a,1]]);Object.freeze(a);return 1===k.get(a)&&k.set(b,2)===k&&d.default("es6-symbol")}return!1},!0);d.add("microtasks",function(){return d.default("es6-promise")||d.default("host-node")||d.default("dom-mutationobserver")},!0);d.add("postmessage",function(){return"undefined"!==typeof h.default.window&&"function"===typeof h.default.postMessage},!0);d.add("raf",function(){return"function"===
typeof h.default.requestAnimationFrame},!0);d.add("setimmediate",function(){return"undefined"!==typeof h.default.setImmediate},!0);d.add("dom-mutationobserver",function(){if(d.default("host-browser")&&(h.default.MutationObserver||h.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (h.default.MutationObserver||h.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);d.add("dom-webanimation",
function(){return d.default("host-browser")&&void 0!==h.default.Animation&&void 0!==h.default.KeyframeEffect},!0);var n})},"@dojo/has/has":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){function r(a){a=a.toLowerCase();return!!(a in c||a in b.testCache||b.testFunctions[a])}function d(a,g,f){void 0===f&&(f=!1);var k=a.toLowerCase();
if(r(k)&&!f&&!(k in c))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof g?b.testFunctions[k]=g:g&&g.then?n[a]=g.then(function(c){b.testCache[a]=c;delete n[a]},function(){delete n[a]}):(b.testCache[k]=g,delete b.testFunctions[k])}function h(a){var g=a.toLowerCase();if(g in c)a=c[g];else if(b.testFunctions[g])a=b.testCache[g]=b.testFunctions[g].call(null),delete b.testFunctions[g];else if(g in b.testCache)a=b.testCache[g];else{if(a in n)return!1;throw new TypeError('Attempt to detect unregistered has feature "'+
a+'"');}return a}Object.defineProperty(b,"__esModule",{value:!0});b.testCache={};b.testFunctions={};var n={};a="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};var m=(a.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in a&&delete a.DojoHasEnvironment;var c=m?"function"===typeof m?m.apply(a):m:{};b.load=function(a,b,c,v){a?b([a],c):c()};b.normalize=function(a,b){function c(a){var b=g[k++];if(":"===b)return null;if("?"===g[k++]){if(!a&&
h(b))return c();c(!0);return c(a)}return b}var g=a.match(/[\?:]|[^:\?]*/g)||[],k=0;return(a=c())&&b(a)};b.exists=r;b.add=d;b.default=h;d("debug",!0);d("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);d("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node})})},"@dojo/shim/support/util":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=
a)):"function"===typeof define&&define.amd&&define(["require","exports"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.getValueDescriptor=function(a,b,h,n){void 0===b&&(b=!1);void 0===h&&(h=!0);void 0===n&&(n=!0);return{value:a,enumerable:b,writable:h,configurable:n}};b.wrapNative=function(a){return function(b){for(var d=[],n=1;n<arguments.length;n++)d[n-1]=arguments[n];return a.apply(b,d)}}})},"@dojo/shim/string":function(){(function(a){"object"===typeof module&&"object"===
typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var r=a("tslib"),d=a("./global"),h=a("./support/has");a=a("./support/util");b.HIGH_SURROGATE_MIN=55296;b.HIGH_SURROGATE_MAX=56319;b.LOW_SURROGATE_MIN=56320;b.LOW_SURROGATE_MAX=57343;if(h.default("es6-string")&&h.default("es6-string-raw"))b.fromCodePoint=
d.default.String.fromCodePoint,b.raw=d.default.String.raw,b.codePointAt=a.wrapNative(d.default.String.prototype.codePointAt),b.endsWith=a.wrapNative(d.default.String.prototype.endsWith),b.includes=a.wrapNative(d.default.String.prototype.includes),b.normalize=a.wrapNative(d.default.String.prototype.normalize),b.repeat=a.wrapNative(d.default.String.prototype.repeat),b.startsWith=a.wrapNative(d.default.String.prototype.startsWith);else{var n=function(a,b,k,g,f){void 0===f&&(f=!1);if(null==b)throw new TypeError("string."+
a+" requires a valid string to search against.");a=b.length;return[b,String(k),Math.min(Math.max(g!==g?f?a:0:g,0),a)]};b.fromCodePoint=function(){for(var a=0;a<arguments.length;a++);a=arguments.length;if(!a)return"";for(var c=String.fromCharCode,k=[],g=-1,f="";++g<a;){var v=Number(arguments[g]);if(!(isFinite(v)&&Math.floor(v)===v&&0<=v&&1114111>=v))throw RangeError("string.fromCodePoint: Invalid code point "+v);65535>=v?k.push(v):(v-=65536,k.push((v>>10)+b.HIGH_SURROGATE_MIN,v%1024+b.LOW_SURROGATE_MIN));
if(g+1===a||16384<k.length)f+=c.apply(null,k),k.length=0}return f};b.raw=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];var k=a.raw,g="",f=b.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var v=0,x=k.length;v<x;v++)g+=k[v]+(v<f&&v<x-1?b[v]:"");return g};b.codePointAt=function(a,c){void 0===c&&(c=0);if(null==a)throw new TypeError("string.codePointAt requries a valid string.");var k=a.length;c!==c&&(c=0);
if(!(0>c||c>=k)){var g=a.charCodeAt(c);return g>=b.HIGH_SURROGATE_MIN&&g<=b.HIGH_SURROGATE_MAX&&k>c+1&&(a=a.charCodeAt(c+1),a>=b.LOW_SURROGATE_MIN&&a<=b.LOW_SURROGATE_MAX)?1024*(g-b.HIGH_SURROGATE_MIN)+a-b.LOW_SURROGATE_MIN+65536:g}};b.endsWith=function(a,b,k){null==k&&(k=a.length);k=r.__read(n("endsWith",a,b,k,!0),3);a=k[0];b=k[1];k=k[2];var c=k-b.length;return 0>c?!1:a.slice(c,k)===b};b.includes=function(a,b,k){void 0===k&&(k=0);k=r.__read(n("includes",a,b,k),3);a=k[0];b=k[1];k=k[2];return-1!==
a.indexOf(b,k)};b.repeat=function(a,b){void 0===b&&(b=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");b!==b&&(b=0);if(0>b||Infinity===b)throw new RangeError("string.repeat requires a non-negative finite count.");for(var c="";b;)b%2&&(c+=a),1<b&&(a+=a),b>>=1;return c};b.startsWith=function(a,b,k){void 0===k&&(k=0);b=String(b);k=r.__read(n("startsWith",a,b,k),3);a=k[0];b=k[1];k=k[2];var c=k+b.length;return c>a.length?!1:a.slice(k,c)===b}}h.default("es2017-string")?(b.padEnd=
a.wrapNative(d.default.String.prototype.padEnd),b.padStart=a.wrapNative(d.default.String.prototype.padStart)):(b.padEnd=function(a,c,k){void 0===k&&(k=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===c)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===c||void 0===c||0>c)c=0;a=String(a);c-=a.length;0<c&&(a+=b.repeat(k,Math.floor(c/k.length))+k.slice(0,c%k.length));return a},b.padStart=function(a,c,k){void 0===
k&&(k=" ");if(null===a||void 0===a)throw new TypeError("string.repeat requires a valid string.");if(Infinity===c)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===c||void 0===c||0>c)c=0;a=String(a);c-=a.length;0<c&&(a=b.repeat(k,Math.floor(c/k.length))+k.slice(0,c%k.length)+a);return a})})},"dstore/Csv":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(a,b){function r(a,b){var c={},g=a.length,f;for(f=0;f<g;f++)c[a[f]]=b[f];return c}var d=/^\s*"([\S\s]*)"\s*$/,
h=/""/g,n=/"/g;return b(null,{fieldNames:null,delimiter:",",newline:"\r\n",trim:!1,parse:function(b){var c=[];b=b.split(this.newline);var k=this.fieldNames,g=0,f=[],v="",x="",p,m,n,y,u,e,l;u=0;n=b.length;a:for(;u<n;u++)if(a.trim(b[u])){p=b[u].split(this.delimiter);e=0;for(y=p.length;e<y;e++){m=p[e];l=-1;v+=x+m;for(x="";0<=(l=m.indexOf('"',l+1));)g++;if(0===g%2){if(0<g)if(g=d.exec(v))f.push(g[1].replace(h,'"'));else{console.warn("Csv: discarding row with invalid value: "+v);f=[];v="";g=0;continue a}else f.push(this.trim||
!k?a.trim(v):v);v="";g=0}else x=this.delimiter}0===g?(k?c.push(r(k,f)):k=this.fieldNames=f,f=[]):x=this.newline}return c},toCsv:function(a){return this.stringify(this.data,a)},stringify:function(a,b){b=b||{};var c=b.alwaysQuote,g=this.fieldNames,f=this.delimiter,v=this.newline,x="",p,d,h,m;for(p=-1;p<a.length;p++)for(-1<p&&(x+=v),d=0;d<g.length;d++){h=0>p?g[d]:a[p][g[d]];if(null===h||void 0===h)h="";"string"!==typeof h&&(h=h.toString());m=c||0<=h.indexOf('"')||0<=h.indexOf(f);x+=(0<d?f:"")+(m?'"'+
h.replace(n,'""')+'"':h)}b.trailingNewline&&(x+=v);return x}})})},"esri/geometry":function(){define("require exports ./geometry/Extent ./geometry/Geometry ./geometry/Mesh ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/ScreenPoint ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=r;b.BaseGeometry=d;b.Mesh=h;b.Multipoint=n;b.Point=m;b.Polygon=c;b.Polyline=
k;b.ScreenPoint=g;b.SpatialReference=f;b.isGeometry=function(a){return a instanceof b.BaseGeometry};b.fromJSON=v.fromJSON})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x){function p(a,
b,c){return null==b?c:null==c?b:a(b,c)}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}r(b,a);m=b;b.prototype.normalizeCtorArgs=function(a,e,l,b,c){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null!=a.spatialReference?a.spatialReference:k.WGS84,a):{xmin:a,ymin:e,xmax:l,ymax:b,spatialReference:null!=
c?c:k.WGS84}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(b.prototype,"center",{get:function(){var a=new c({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=
function(a){var e=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-e.x,a.y-e.y,a.z-e.z):this.offset(a.x-e.x,a.y-e.y)};b.prototype.clone=function(){var a=new m;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var e=this.spatialReference,l=a.spatialReference;e&&l&&!e.equals(l)&&
x.canProject(e,l)&&(a=e.isWebMercator?x.geographicToWebMercator(a):x.webMercatorToGeographic(a,!0));return"point"===a.type?g.extentContainsPoint(this,a):"extent"===a.type?g.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var e=this.spatialReference,l=a.spatialReference;e&&l&&!e.equals(l)&&x.canProject(e,l)&&(a=e.isWebMercator?x.geographicToWebMercator(a):x.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&
this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var e=this.width*a,l=this.height*a;this.xmin+=e;this.ymin+=l;this.xmax-=e;this.ymax-=l;this.hasZ&&(e=(this.zmax-this.zmin)*a,this.zmin+=e,this.zmax-=e);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(!a)return!1;var e=this.spatialReference,l=a.spatialReference;e&&l&&!e.equals(l)&&x.canProject(e,l)&&(a=e.isWebMercator?
x.geographicToWebMercator(a):x.webMercatorToGeographic(a,!0));e=f.getExtentIntersector(a.type);return"mesh"!==a.type?e(this,a):e(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,e,l){this.xmin+=a;this.ymin+=e;this.xmax+=a;this.ymax+=e;null!=l&&(this.zmin+=l,this.zmax+=l);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,
a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=p(Math.min,this.zmin,a.zmin),this.zmax=p(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=p(Math.min,this.mmin,a.mmin),this.mmax=p(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,
a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=p(Math.max,this.zmin,a.zmin),this.zmax=p(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=p(Math.max,this.mmin,a.mmin),this.mmax=p(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=v.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var e=this.spatialReference,l=this._getCM(a);if(l){var b=e.isWebMercator?
x.webMercatorToGeographic(l):l;this.xmin-=l.x;this.xmax-=l.x;e.isWebMercator||(b.x=this._normalizeX(b.x,a).x);this.spatialReference=new k(h.substitute({Central_Meridian:b.x},e.isWGS84?a.altTemplate:a.wkTemplate))}return this};b.prototype._getCM=function(a){var e=null,l=a.valid;a=l[0];var l=l[1],b=this.xmin,c=this.xmax;b>=a&&b<=l&&c>=a&&c<=l||(e=this.center);return e};b.prototype._normalize=function(a,e,l){var b=this.spatialReference;if(!b)return this;l=l||v.getInfo(b);if(!l)return this;var c=this._getParts(l).map(function(e){return e.extent});
if(2>c.length)return c[0]||this;if(2<c.length)return a?this._shiftCM(l):this.set({xmin:l.valid[0],xmax:l.valid[1]});if(a)return this._shiftCM(l);if(e)return c;var g=!0,f=!0;c.forEach(function(e){e.hasZ||(g=!1);e.hasM||(f=!1)});return{rings:c.map(function(e){var a=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(g)for(var l=(e.zmax-e.zmin)/2,b=0;b<a.length;b++)a[b].push(l);if(f)for(e=(e.mmax-e.mmin)/2,b=0;b<a.length;b++)a[b].push(e);return a}),hasZ:g,hasM:f,spatialReference:b}};
b.prototype._getParts=function(a){var e=this.cache._parts;if(!e){var e=[],l=this.ymin,b=this.ymax,c=this.spatialReference,g=this.width,f=this.xmin,p=this.xmax,k=void 0;a=a||v.getInfo(c);var u=a.valid,x=u[0],d=u[1],k=this._normalizeX(this.xmin,a),h=k.x,u=k.frameId,k=this._normalizeX(this.xmax,a),A=k.x;a=k.frameId;k=h===A&&0<g;if(g>2*d){g=new m(f<p?h:A,l,d,b,c);f=new m(x,l,f<p?A:h,b,c);p=new m(0,l,d,b,c);l=new m(x,l,0,b,c);b=[];c=[];g.contains(p)&&b.push(u);g.contains(l)&&c.push(u);f.contains(p)&&b.push(a);
f.contains(l)&&c.push(a);for(x=u+1;x<a;x++)b.push(x),c.push(x);e.push({extent:g,frameIds:[u]},{extent:f,frameIds:[a]},{extent:p,frameIds:b},{extent:l,frameIds:c})}else h>A||k?e.push({extent:new m(h,l,d,b,c),frameIds:[u]},{extent:new m(x,l,A,b,c),frameIds:[a]}):e.push({extent:new m(h,l,A,b,c),frameIds:[u]});this.cache._parts=e}a=this.hasZ;l=this.hasM;if(a||l)for(u={},a&&(u.zmin=this.zmin,u.zmax=this.zmax),l&&(u.mmin=this.mmin,u.mmax=this.mmax),a=0;a<e.length;a++)e[a].extent.set(u);return e};b.prototype._normalizeX=
function(a,e){var l=e.valid;e=l[0];var b=l[1],l=2*b,c=0;a>b?(e=Math.ceil(Math.abs(a-b)/l),a-=e*l,c=e):a<e&&(e=Math.ceil(Math.abs(a-e)/l),a+=e*l,c=-e);return{x:a,frameId:c}};d([n.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);d([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);d([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);d([n.property({readOnly:!0,dependsOn:["mmin","mmax"],
json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);d([n.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);d([n.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);d([n.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);d([n.property({type:Number,json:{write:!0}})],b.prototype,"xmin",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"ymin",
void 0);d([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);d([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);d([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);d([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=m=d([n.subclass("esri.geometry.Extent")],b);var m}(n.declared(m));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(a,b){return function(a,b){a.__bases__=
b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(a,b,r,d){var h=arguments.length,n=3>h?b:null===d?d=Object.getOwnPropertyDescriptor(b,r):d,m;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(a,b,r,d);else for(var c=a.length-1;0<=c;c--)if(m=a[c])n=(3>h?m(n):3<h?m(b,r,n):m(b,r))||n;return 3<h&&n&&Object.defineProperty(b,r,n),n}})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f){function v(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0});v(r);v(d);v(h);v(n);v(m);v(c);v(k);v(g);v(f)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(a){return function(b,d){r.getPropertyMetadata(b,d).aliasOf=a}}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports"],function(a,b){function r(a){return null!=a.__accessorMetadata__}function d(a){return r(a)&&null!=h(a).properties}function h(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function n(a){a=h(a);var b=a.properties;b||(b=a.properties={});return b}function m(a,b){var c=h(a);a=c.parameters;a||(a=c.parameters={});c=a[b];c||(c=[],a[b]=c);return c}Object.defineProperty(b,"__esModule",{value:!0});
b.hasMetadata=r;b.hasPropertiesMetadata=d;b.hasPropertyMetadata=function(a,b){return d(a)&&null!=n(a)[b]};b.hasParametersMetadata=function(a,b){return r(a)&&null!=h(a).parameters&&null!=h(a).parameters[b]};b.getMetadata=h;b.getPropertiesMetadata=n;b.getPropertyMetadata=function(a,b){a=n(a);var c=a[b];c||(c=a[b]={});return c};b.setPropertyMetadata=function(a,b,g){n(a)[b]=g};b.getParametersMetadata=m;b.getParameterMetadata=function(a,b,g){var c=m(a,b)[g];c||(m(a,b)[g]=c={index:g});return c}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(a,b,n){r.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(a,b,r,d){function h(a){var b="_meta"in a?r.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?m.apply(this,a):n.apply(this,
a)}}function n(a,b,c,k){d.getPropertyMetadata(a,b).cast=k}function m(a,b,c,k){d.getParameterMetadata(a,b,c).cast=k}function c(a){return function(b,c,g){d.getPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(b,"__esModule",{value:!0});var k=Object.prototype.toString;b.autocastMethod=function(a,b,c){if(d.hasParametersMetadata(a,b)){var g=d.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(g.length){var f=c.value;c.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];for(b=0;b<g.length;b++){var c=g[b];a[c.index]=c.cast(a[c.index])}return f.apply(this,a)};return c}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===k.call(a[0]))return h(a[0]);if(1===a.length&&"string"===typeof a[0])return c(a[0])}}})},"esri/core/accessorSupport/ensureType":function(){define(["require",
"exports","../Logger"],function(a,b,r){function d(e,a){return a.isInstanceOf?a.isInstanceOf(e):a instanceof e}function h(e){return null==e?e:new Date(e)}function n(e){return null==e?e:!!e}function m(e){return null==e?e:e.toString()}function c(e){return null==e?e:parseFloat(e)}function k(e){return null==e?e:Math.round(parseFloat(e))}function g(e){return e&&e.constructor&&void 0!==e.constructor._meta}function f(e,a){return null!=a&&e&&!d(e,a)}function v(a,l){f(a,l)&&(g(l)?e.error("Accessor#set","Assigning an instance of '"+
(l.declaredClass||"unknown")+"' which is not a subclass of '"+(a&&a.prototype&&a.prototype.declaredClass||"unknown")+"'"):l=new a(l));return l}function x(e){switch(e){case Number:return c;case l:return k;case Boolean:return n;case String:return m;case Date:return h;default:return v.bind(null,e)}}function p(e,a){var l=x(e);return 1===arguments.length?l:l(a)}function A(e,a){return 1===arguments.length?A.bind(null,e):a?Array.isArray(a)?a.map(e):[e(a)]:a}function w(e,a,l){return 0!==a&&Array.isArray(l)?
l.map(function(l){return w(e,a-1,l)}):e(l)}function y(e,a,l){if(2===arguments.length)return y.bind(null,e,a);if(!l)return l;l=w(e,a,l);for(var b=a,c=l;0<b&&Array.isArray(c);)b--,c=c[0];if(void 0!==c)for(c=0;c<b;c++)l=[l];return l}function u(a,l){if(2===arguments.length)return u(a).call(null,l);var b={},c=[],k=[],B;for(B in a.typeMap){var v=a.typeMap[B];b[B]=p(v);c.push(v&&v.prototype&&v.prototype.declaredClass||"unknown");k.push(B)}var x="string"===typeof a.key?function(e){return e[a.key]}:a.key;
return function(l){if(a.base&&!f(a.base,l))return l;var p=x(l)||a.defaultKeyValue,u=b[p];if(!u)return e.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+c.join("', '")+"'")+", or a plain object that can auto-cast (having .type \x3d "+("'"+k.join("', '")+"'")+")"),null;if(!f(a.typeMap[p],l))return l;if("string"!==typeof a.key||g(l))return u(l);var p={},B;for(B in l)B!==a.key&&(p[B]=l[B]);return u(p)}}Object.defineProperty(b,"__esModule",{value:!0});var e=r.getLogger("esri.core.Accessor");
b.isInstanceOf=d;b.ensureDate=h;b.ensureBoolean=n;b.ensureString=m;b.ensureNumber=c;b.ensureInteger=k;b.isClassedType=g;b.requiresType=f;b.ensureClass=v;b.ensureType=p;b.ensureArrayTyped=A;b.ensureArray=function(e,a){return 1===arguments.length?A(p.bind(null,e)):A(p.bind(null,e),a)};b.ensureNArrayTyped=y;b.ensureNArray=function(e,a,l){return 2===arguments.length?y(p.bind(null,e),a):y(p.bind(null,e),a,l)};b.ensureOneOfType=u;var l=function(){return function(){}}();b.Integer=l;b.default=p})},"esri/core/Logger":function(){define(["require",
"exports","dojo/has"],function(a,b,r){var d={info:0,warn:1,error:2};a=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,b)))}a.prototype.log=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];this._isEnabled()&&this._matchLevel(a)&&(c=this._inheritedWriter())&&
c.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=
function(b){var d=a._loggers[b];d||(d=new a({module:b}));return d};a.prototype._parentWithMember=function(a,b){for(var c=this;c&&null==c[a];)c=c.parent;return c?c[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var c=[],k=2;k<arguments.length;k++)c[k-2]=arguments[k];console[a].apply(console,["["+b+"]"].concat(c))};a.prototype._matchLevel=function(a){return d[this._parentWithMember("level","error")]<=
d[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a.getLogger("esri").level="warn";return a})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(a){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];h=function(){return this||{}};h.__bases__=[a].concat(b);return h}})},"esri/core/accessorSupport/decorators/property":function(){define("require exports dojo/has ../../lang ../../Logger ../metadata".split(" "),
function(a,b,r,d,h,n){Object.defineProperty(b,"__esModule",{value:!0});h.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===a&&(a={});return function(b,k){var c=b.constructor.prototype;if(c!==Function.prototype){(b=Object.getOwnPropertyDescriptor(b,k))&&(b.get||b.set)?(a=d.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=d.clone(a),a.value=b.value);k=n.getPropertyMetadata(c,k);for(var f in a)c=a[f],Array.isArray(c)?k[f]=(k[f]||
[]).concat(c):k[f]=c}}};b.propertyJSONMeta=function(a,b,k){a=n.getPropertyMetadata(a.constructor.prototype,k);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(a,b,m){var c,k;void 0===b||Array.isArray(b)?(k=a,m=b,c=[void 0]):
(k=b,c=Array.isArray(a)?a:[a]);return function(a,b,v){var f=a.constructor.prototype;c.forEach(function(c){c=d.propertyJSONMeta(a,c,k);c.read&&"object"!==typeof c.read&&(c.read={});r.setDeepValue("read.reader",f[b],c);m&&(c.read.source=(c.read.source||[]).concat(m))})}}})},"esri/core/object":function(){define(["require","exports"],function(a,b){function r(a,b,n){for(var d=0;d<a.length;d++){var c=a[d];if(!(c in n))if(b)n[c]={};else return;n=n[c]}return n}Object.defineProperty(b,"__esModule",{value:!0});
b.getDeepValue=function(a,b){return r(a.split("."),!1,b)};b.setDeepValue=function(a,b,n){var d=a.split(".");a=d.pop();(n=r(d,!0,n))&&a&&(n[a]=b)}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(a){return function(b,h){b[h]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports","../../declare","../metadata"],function(a,b,r,d){function h(a,
b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function n(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function m(a){var b=[];a=d.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var g=a[c];g.cast&&b.push(g.cast);g.copy&&b.push(g.copy);if(g=g.json)if(h(g,b),n(g,b),g=g.origins)for(var f in g){var k=g[f];h(k,b);n(k,b)}}return b}function c(a){var b=
{values:{},descriptors:{}},c=["__bases__"],f=d.getPropertiesMetadata(a.prototype),k=m(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||f&&f.hasOwnProperty(b)||!g(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==k.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var f=Object.getOwnPropertyDescriptor(a.prototype,c);g(f)?b.descriptors[c]=f:b.values[c]=a.prototype[c]});return b}function k(a){var b=Object.getOwnPropertyNames(a),c=Object.getPrototypeOf(a.prototype).constructor,
f=Object.getOwnPropertyNames(Function);f.push("__bases__");var k=Object.getOwnPropertyNames(c),d={values:{},descriptors:{}};b.filter(function(b){return-1!==f.indexOf(b)?!1:-1===k.indexOf(b)||c[b]!==a[b]?!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(a,b);g(c)?d.descriptors[b]=c:d.values[b]=a[b]});return d}function g(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",{value:!0});b.subclass=function(a){return function(b){var g=c(b),f=k(b);null!=a&&(g.values.declaredClass=
a);b=r(b.__bases__,g.values);Object.defineProperties(b.prototype,g.descriptors);for(var v in f.values)b[v]=f.values[v];Object.defineProperties(b,f.descriptors);return b}}})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(a,b,r){function d(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return h([this].concat(a),b)}function h(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);
b=b||{};var c,f;c=0;for(f=n.length;c<f;c++)n[c](a,b);a=r(a,b);a.createSubclass=d;c=0;for(f=m.length;c<f;c++)m[c](a);return a}var n=[],m=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return r.safeMixin(a,b)};a.before=function(a){n.push(a)};
a.after=function(a){m.push(a)}})(h||(h={}));return h})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(a,b,m){var c,k;void 0===b?(k=a,c=[void 0]):"string"!==typeof b?(k=a,c=[void 0],m=b):(k=b,c=Array.isArray(a)?a:[a]);return function(a,b,v){var g=a.constructor.prototype;c.forEach(function(c){c=d.propertyJSONMeta(a,c,k);c.write&&"object"!==typeof c.write&&
(c.write={});m&&r.setDeepValue("write.target",m,c);r.setDeepValue("write.writer",g[b],c)})}}})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,r,d,h,n,m){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=m.WGS84;return b}r(b,a);Object.defineProperty(b.prototype,
"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};d([n.property()],b.prototype,"type",void 0);d([n.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);d([n.property({readOnly:!0,
dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);d([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);d([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);d([n.property({type:m,json:{write:!0}})],b.prototype,"spatialReference",void 0);return b=d([n.subclass("esri.geometry.Geometry")],b)}(n.declared(h))})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,b,r,d,h,n,m,c,k){function g(a,b){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(a,b);return c}var f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);b.prototype.read=function(a,b){c.default(this,a,b);return this};b.prototype.write=function(a,b){return k.default(this,a||{},b)};b.prototype.toJSON=function(a){return this.write(null,a)};b.fromJSON=function(a,b){return g.call(this,a,b)};return b=d([m.subclass("esri.core.JSONSupport")],
b)}(m.declared(h));f.prototype.toJSON.isDefaultToJSON=!0;n.after(function(a){n.hasMixin(a,f)&&(a.fromJSON=g.bind(a))});return f})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(a,b,r,d,h,n){b=b.default;a.before(function(b,k){a.hasMixin(b,m)&&d.processPrototype(k)});a.after(function(b){a.hasMixin(b,m)&&(d.processClass(b),Object.defineProperties(b.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var m=a(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===m)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],k=0;k<arguments.length;k++)a.push(arguments[k]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;var c;null!=this.getDefaults&&(c=this.getDefaults(a||{}),this.set(c));b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(c){console.warn(c.stack)}else n.removeTarget(this),this.__accessor__.destroy()},get:function(a){return r.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){h.set(this,a,b);return this},watch:function(a,b,g){return n.watch(this,a,b,g)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return m})},"esri/core/accessorSupport/Properties":function(){define("require exports dojo/has ../Logger ./extensions ./PropertyOrigin ./Store".split(" "),function(a,b,r,d,h,n,m){Object.defineProperty(b,
"__esModule",{value:!0});d.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=n.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new m.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;h.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=
2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(this.cursors)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var v=c[b],d=a[v];if(d){for(;0<d.length;)d.pop().propertyDestroyed(this,v);a[v]=null}}if(this.autoDestroy)for(v in this.metadatas)(a=this.internalGet(v))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[v].nonNullable||this.internalSet(v,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,
configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var c=b.get;return c?(b=c.call(this.host),this.store.set(a,b,n.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":
n.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){this.metadatas[a]&&(this.propertyInvalidated(a),this.initialized?this.store.set(a,b,this._origin):this.store.set(a,b,n.OriginId.DEFAULTS),this.propertyCommitted(a))};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};
a.prototype.keys=function(){return this.store.keys()};a.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden={});var c=this.metadatas[a];c.nonNullable&&null==b||((c=c.cast)&&(b=c.call(this.host,b)),this.overridden[a]=!0,this.internalSet(a,b))}};a.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var g=c.set;(c=c.cast)&&(b=c.call(this.host,b));g?g.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=
function(a){this._origin=n.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,c=this.isOverridden(a),v=this.cursors&&this.cursors[a],d=this.metadatas[a].computes;if(v)for(var p=0;p<v.length;p++)v[p].propertyInvalidated(this,a);c||(b[a]=!0);if(d)for(a=0;a<d.length;a++)this.propertyInvalidated(d[a])};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=
function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};return a}();b.default=a})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(a,b,r,d,h){Object.defineProperty(b,"__esModule",
{value:!0});var n=[r.default,d.default,h.default];b.processPrototypeMetadatas=function(a,b){for(var c=Object.getOwnPropertyNames(a),g=0;g<n.length;g++){var f=n[g];if(f.processPrototypePropertyMetadata)for(var v=0,d=c;v<d.length;v++){var p=d[v];f.processPrototypePropertyMetadata(p,a[p],a,b)}}};b.processClassMetadatas=function(a,b){for(var c=Object.getOwnPropertyNames(a),g=0;g<n.length;g++){var f=n[g];if(f.processClassPropertyMetadata)for(var v=0,d=c;v<d.length;v++){var p=d[v];f.processClassPropertyMetadata(p,
a[p],a,b)}}};b.instanceCreated=function(a,b){for(var c=Object.getOwnPropertyNames(b),g=0;g<n.length;g++){var f=n[g];f.instanceCreated&&f.instanceCreated(a,b,c)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports dojo/has ../get ../set ../utils ../wire".split(" "),function(a,b,r,d,h,n,m){function c(a,b,c){var g=n.getProperties(a);return m.wire(a,c.aliasOf,function(){g.propertyInvalidated(b)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension=
{processClassPropertyMetadata:function(a,b,c,v){var f=b.aliasOf;if(f&&(a=f.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var g;b.get=function(){var a=d.default(this,f);if("function"===typeof a){g||(g=f.split(".").slice(0,-1).join("."));var b=d.default(this,g);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return h.default(this,f,a)})}},instanceCreated:function(a,b,f){for(var g=0;g<f.length;g++){var d=f[g],p=b[d];p.aliasOf&&c(a,d,p)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require",
"exports","./utils"],function(a,b,r){function d(a,b,g){if(null!=g.getItemAt||Array.isArray(g)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(g)?g[c]:g.getItemAt(c)}c=r.getProperties(g);return b?r.isPropertyDeclared(c,a)?c.get(a):g[a]:r.isPropertyDeclared(c,a)?c.internalGet(a):g[a]}function h(a,b,g,f){if(null==a)return a;if((a=d(b[f],g,a))||!(f<b.length-1))return f===b.length-1?a:h(a,b,g,f+1)}function n(a,b,g,f){void 0===g&&(g=!1);void 0===f&&(f=0);return"string"===typeof b&&-1===b.indexOf(".")?
d(b,g,a):h(a,r.pathToArray(b),g,f)}function m(a,b){return n(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=n;b.get=m;b.exists=function(a,b){return void 0!==n(b,a,!0)};b.default=m})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(a,b,r){function d(a,b){return b?Object.keys(b).reduce(function(a,c){if("value"===c)return a[c]=b[c],a;if(void 0===a[c])return a[c]=r.clone(b[c]),a;var g=a[c],f=b[c];if(g===f)return a;if(Array.isArray(f)||Array.isArray(a))g=
g?Array.isArray(g)?a[c]=g.concat():a[c]=[g]:a[c]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}));else if(f&&"object"===typeof f)a[c]=d(g,f);else if(!a.hasOwnProperty(c)||b.hasOwnProperty(c))a[c]=f;return a},a||{}):a}function h(a){return Array.isArray(a)?a:a.split(".")}function n(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function m(a){var b=
!1;return function(){b||(b=!0,a())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};b.merge=d;b.pathToStringOrArray=function(a){return a?"string"===typeof a&&-1===a.indexOf(".")?a:h(a):a};b.pathToArray=h;b.splitPath=n;b.parse=function(a,b,g,f){b=n(b);if(Array.isArray(b)){var c=b.map(function(b){return f(a,b.trim(),g)});
return{remove:m(function(){return c.forEach(function(a){return a.remove()})})}}return f(a,b.trim(),g)};b.once=m})},"esri/core/accessorSupport/set":function(){define(["require","exports","dojo/has","../Logger","./get"],function(a,b,r,d,h){function n(a,b,d){if(a&&b)if("object"===typeof b){d=0;for(var c=Object.getOwnPropertyNames(b);d<c.length;d++){var f=c[d];n(a,f,b[f])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),f=b.splice(b.length-1,1)[0],n(h.default(a,b),f,d)):a[b]=d)}Object.defineProperty(b,
"__esModule",{value:!0});d.getLogger("esri.core.accessorSupport.set");b.set=n;b.default=n})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(a,b,r){function d(a,b,d){b=r.splitPath(b);if(Array.isArray(b)){for(var g=[],f=0;f<b.length;f++)g.push((new h(b[f],d)).install(a));return new c(g)}a=(new h(b,d)).install(a);return new k(a)}Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){this.path=a;this.callback=b;this.chain=null;this.path=
a;-1<a.indexOf(".")&&(this.chain=r.pathToArray(a));this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new m(this,a):new n(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),n=function(){function a(a,b){this.binding=a;this.target=b;r.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(r.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=
function(a,b){r.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),m=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=r.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();
return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,
b){for(var c=this.stack,g=c[c.length-1];g.properties!==a&&g.propertyName!==b;)g.properties.removeCursor(g.propertyName,this),c.pop(),g=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1],b=b.properties.internalGet(b.propertyName);(b=r.getProperties(b))&&a.length<this.binding.chain.length&&(a=this.binding.chain[a.length],this.stack.push({properties:b,propertyName:a}),b.addCursor(a,this),this.moveForward())};return a}(),c=function(){function a(a){this.cursors=a}a.prototype.remove=
function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),k=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();b.create=function(a,b){a=r.splitPath(a);if(Array.isArray(a)){for(var g=[],f=0;f<a.length;f++)g.push(new h(a[f],b));return function(a){for(var b=[],f=0;f<g.length;f++)b[f]=g[f].install(a);return new c(b)}}var p=new h(a,b);return function(a){return new k(p.install(a))}};b.wire=d;b.default=
d})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports dojo/has ../../Logger ../utils ../wire".split(" "),function(a,b,r,d,h,n){Object.defineProperty(b,"__esModule",{value:!0});d.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,d,g){b.dependsOn&&(d=void 0,d=b.dependsOn.slice())&&(b.wire=n.create(d,function(b){return h.getProperties(b).propertyInvalidated(a)}))},instanceCreated:function(a,
b,d){for(var c=0;c<d.length;c++){var f=b[d[c]];f.wire&&f.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,r,d,h,n){function m(a,b,g){var c=a&&a.json;a&&a.json&&a.json.origins&&g&&(a=a.json.origins[g.origin])&&b in a&&(c=a);return c}Object.defineProperty(b,
"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,b){return m(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return m(a,"write",b)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,g,f){if(h.process(b)){r.process(b);g=b.type;for(f=0;Array.isArray(g);)g=g[0],f++;if(b.json.origins)for(var c in b.json.origins){var x=b.json.origins[c];d.create(g,f,a,x);n.create(g,f,a,x)}d.create(g,f,a,b.json);n.create(g,f,a,b.json)}}};b.default=
b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,h={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var c=b[a];h[a].forEach(function(a){b[a]=c});delete b[a]}};for(var n in h)a(n)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(a,b,r,d){function h(a,b,f,d){if(1<b)return c(a,b);if(1===b)return k(a);if(g(a)){var p=k(a.prototype.itemType.Type);return function(b,c,e){return(b=p(b,c,e))?new a(b):b}}return n(a)}function n(a){return a.prototype.read?function(b,c,g){return null==b?b:(new a).read(b,g)}:a.fromJSON}function m(a,b,c,g){return 0!==g&&Array.isArray(b)?b.map(function(b){return m(a,b,c,g-1)}):a(b,null,c)}function c(a,b){a=n(a);var c=m.bind(null,a);return function(a,g,f){if(null==
a)return a;a=c(a,f,b);g=b;for(f=a;0<g&&Array.isArray(f);)g--,f=f[0];if(void 0!==f)for(f=0;f<g;f++)a=[a];return a}}function k(a){var b=n(a);return function(a,c,g){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,g)}):[b(a,null,g)]}}function g(a){return d.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?f(a.Type):!1:!1}function f(a){return!!a&&(!!a.prototype.read||!!a.fromJSON||g(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,
b,c,g){(!g.read||!g.read.reader&&!1!==g.read.enabled)&&f(a)&&r.setDeepValue("read.reader",h(a,b,c,g),g)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(a){return!!a&&!!a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
"exports"],function(a,b){function r(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function d(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=
function(a){a.json||(a.json={});r(a.json);d(a.json);if(a.json.origins)for(var b in a.json.origins)r(a.json.origins[b]),d(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(a,b,r,d){function h(a,b,c,d){r.setDeepValue(c,n(a,d),b)}function n(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:
Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function m(a,b,c,d){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return n(a,d)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[n(a,d)];r.setDeepValue(c,a,b)}function c(a,b,d){return 0!==d&&Array.isArray(a)?a.map(function(a){return c(a,b,d-1)}):n(a,b)}function k(a){return function(b,g,d,p){if(null===b)b=null;else{b=c(b,p,a);p=a;for(var f=b;0<p&&Array.isArray(f);)p--,f=f[0];if(void 0!==f)for(f=0;f<p;f++)b=[b]}r.setDeepValue(d,
b,g)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,c,x){x.write&&!x.write.writer&&!1!==x.write.enabled&&(1===b||d.isCollection(a)?x.write.writer=m:x.write.writer=1<b?k(b):h)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(a,b){function r(a){switch(a){case "defaults":return h.DEFAULTS;case "service":return h.SERVICE;case "portal-item":return h.PORTAL_ITEM;case "web-scene":return h.WEB_SCENE;case "web-map":return h.WEB_MAP;case "user":return h.USER}}
function d(a){switch(a){case h.DEFAULTS:return"defaults";case h.SERVICE:return"service";case h.PORTAL_ITEM:return"portal-item";case h.WEB_SCENE:return"web-scene";case h.WEB_MAP:return"web-map";case h.USER:return"user"}}Object.defineProperty(b,"__esModule",{value:!0});var h;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(h=b.OriginId||
(b.OriginId={}));b.nameToId=r;b.idToName=d;b.readableNameToId=function(a){return r(a)};b.idToReadableName=function(a){return d(a)};b.writableNameToId=function(a){return r(a)};b.idToWritableName=function(a){return d(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return r.OriginId.USER};
a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();b.default=a})},"esri/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(a,b,r,d,h,n,m,c){Object.defineProperty(b,"__esModule",{value:!0});var k=Object.prototype.hasOwnProperty,
g=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,f={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},v=/^_(set|get)([a-zA-Z0-9]+)Attr$/;b.processPrototype=function(a){for(var b=a.declaredClass,c=a.properties||{},x=0,y=Object.getOwnPropertyNames(c);x<y.length;x++){var u=y[x],e=c[u],l=typeof e;null==e?n.setPropertyMetadata(a,u,{value:e}):Array.isArray(e)?n.setPropertyMetadata(a,u,{type:[e[0]],value:null}):"object"===l?m.getProperties(e)||e instanceof
Date?n.setPropertyMetadata(a,u,{type:e.constructor,value:e}):n.setPropertyMetadata(a,u,e):"boolean"===l?n.setPropertyMetadata(a,u,{type:Boolean,value:e}):"string"===l?n.setPropertyMetadata(a,u,{type:String,value:e}):"number"===l?n.setPropertyMetadata(a,u,{type:Number,value:e}):"function"===l&&n.setPropertyMetadata(a,u,{type:e,value:null})}x=0;for(y=Object.getOwnPropertyNames(a);x<y.length;x++){var l=y[x],e=a[l],c=u=void 0,B=g.exec(l);if(B)u=B[1],c=f[B[2]];else if(B=v.exec(l))u=B[2][0].toLowerCase()+
B[2].substr(1),c=B[1].toLowerCase();u&&c&&(u=n.getPropertyMetadata(a,u),r.setDeepValue(c,e,u))}x=0;for(y=Object.getOwnPropertyNames(n.getPropertiesMetadata(a));x<y.length;x++)if(u=y[x],e=n.getPropertyMetadata(a,u),c=e.type,l=e.types,void 0===e.value&&k.call(a,u)&&(e.value=a[u]),!e.cast&&c){u=e;e=0;for(l=c;Array.isArray(l);)l=l[0],e++;c=1===e?d.ensureArray(l):1<e?d.ensureNArray(l,e):d.ensureType(c);u.cast=c}else!e.cast&&l&&(Array.isArray(l)?e.cast=d.ensureArrayTyped(d.ensureOneOfType(l[0])):e.cast=
d.ensureOneOfType(l));h.processPrototypeMetadatas(n.getPropertiesMetadata(a),b);return n.getPropertiesMetadata(a)};b.processClass=function(a){for(var b=a.prototype,g=b.declaredClass,f=a._meta.bases,d={},u=f.length-1;0<=u;u--)m.merge(d,n.getMetadata(f[u].prototype));var e=d.properties;h.processClassMetadatas(e,g);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:e,autoDestroy:!!d.autoDestroy}});for(var l={},g=function(a){var b=e[a];l[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?
this.__accessor__.get(a):b.value},set:function(e){var l=this.__accessor__;if(!l)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:e});else if(!Object.isFrozen(this)){if(l.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===l.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);l.set(a,e)}}}},f=0,u=Object.getOwnPropertyNames(e);f<
u.length;f++)g(u[f]);Object.defineProperties(a.prototype,l);if(d.parameters)for(a=0,g=Object.getOwnPropertyNames(d.parameters);a<g.length;a++)f=g[a],u=Object.getOwnPropertyDescriptor(b,f)||{value:b[f]},(u=c.autocastMethod(b,f,u))&&Object.defineProperty(b,f,u);return d}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(a,b,r,d,h,n,m,c,k){function g(a){u.has(a)?e.splice(e.indexOf(a),1):u.add(a);
e.push(a);l||(l=n.schedule(v))}function f(a){if(!a.removed){var e=a.callback,b=a.path,l=a.oldValue,c=a.target,g=m.valueOf(c,a.propertyPath,!0);d.equals(l,g)||(a.oldValue=g,e.call(c,g,l,b,c))}}function v(){if(l){l=null;var a=e;e=y.acquire();u.clear();for(var b=y.acquire(),c=0;c<a.length;c++){var g=a[c];f(g);g.removed&&b.push(g)}for(c=0;c<e.length;c++)g=e[c],g.removed&&(b.push(g),u.delete(g),e.splice(c,1),--c);for(c=0;c<b.length;c++)w.pool.release(b[c]);y.release(a);y.release(b);B.forEach(function(a){return a()})}}
function x(a,e,b){var l=c.parse(a,e,b,function(a,e,b){var f=m.valueOf(a,e,!0),p,u=k.wire(a,e,function(a,e){a.__accessor__.destroyed?l.remove():(p||(p=w.pool.acquire(a,e,f,b),f=null),g(p))});return{remove:c.once(function(){u.remove();p&&(p.removed=!0,g(p),p=null);l=u=f=null})}});return l}function p(a,e,b){var l=c.parse(a,e,b,function(a,e,b){var c=m.valueOf(a,e,!0),g=!1;return k.wire(a,e,function(a,e){if(a.__accessor__.destroyed)l.remove();else if(!g){g=!0;var f=m.valueOf(a,e,!0);d.equals(c,f)||b.call(a,
f,c,e,a);c=m.valueOf(a,e,!0);g=!1}})});return l}function A(a,e,b,l){void 0===l&&(l=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:l?p(a,e,b):x(a,e,b)}Object.defineProperty(b,"__esModule",{value:!0});var w=function(){function a(a,e,b,l){this.target=a;this.path=e;this.oldValue=b;this.callback=l;this.removed=!1;this.propertyPath=c.pathToStringOrArray(e)}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.removed=!0};
a.pool=new h(a,!0);return a}(),y=new r,u=new Set,e=y.acquire(),l;b.dispatchTarget=function(a){for(var b=y.copy(e),l=0;l<b.length;l++){var c=b[l];c.target===a&&(f(c),u.delete(c),e.splice(e.indexOf(c),1))}};b.removeTarget=function(a){for(var b=0;b<e.length;b++){var l=e[b];l.target===a&&(l.removed=!0)}};b.dispatch=v;var B=new Set;b.afterDispatch=function(a){B.add(a);return{remove:function(){B.delete(a)}}};b.watch=A;b.isValueInUse=function(a){return e.some(function(e){return e.oldValue===a})};b.default=
A})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(a,b,r){function d(a){a.length=0}var h=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new r(Array,!1,d,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);h.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return n.acquire()};
a.copy=function(a){return n.copy(a)};a.release=function(a){return n.release(a)};return a}();var n=new a(100);return a})},"esri/core/ObjectPool":function(){define(["require","exports"],function(a,b){var r=function(){return function(){}}();return function(){function a(a,b,d,c,k){void 0===c&&(c=1);void 0===k&&(k=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=d;this.growthSize=c;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&
(this.acquireFunction=b);this._pool=Array(k);this._set=new Set;this._initialSize=k;for(a=0;a<k;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(c,1)}a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||r;if(0===this._pool.length)for(var d=this.growthSize,c=0;c<d;c++)this._pool[c]=new b;b=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,[b].concat(a)):b&&b.acquire&&"function"===typeof b.acquire&&
b.acquire.apply(b,a);this._set.delete(b);return b};a.prototype.release=function(a){a&&!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(){if(!(this._pool.length<=this._initialSize))for(var a;this._initialSize>this._pool.length;)a=this._pool.shift(),this._set.delete(a),a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=
function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];(c=this.classConstructor).call.apply(c,[a].concat(b));var c};return a}()})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(a,b,r,d,h){function n(a){void 0===a&&(a=b.now());b.debug.rafId=null;0<l.length&&(b.debug.rafId=m());if(0<x){var e=a-x;w=Math.min(e,w);if(e<p)return}b.debug.executeFrameTasks(a)}function m(){return b.debug.requestNextFrame?b.debug.requestNextFrame(g):
g()}function c(){for(var a=0;a<l.length;){var e=l[a];a++;if(e.removed){l.splice(a-1,1);for(var b=0;b<u.length;b++){var c=u[b];if(e.phases[c]){var c=B[c],g=c.indexOf(e);-1!==g&&c.splice(g,1)}}}}}function k(){for(;e.length;){var a=e.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function g(){return h(n)}Object.defineProperty(b,"__esModule",{value:!0});b.now=d;var f=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=
-1;this.removed=!1}}(),v=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),x=-1,p=0,A=0,w=Number.POSITIVE_INFINITY,y={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},u=["prepare","preRender","render","postRender","update"],e=[],l=[],B={prepare:[],preRender:[],render:[],postRender:[],update:[]},z=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused||
(this._task.paused=!0,this._task.pausedAt=b.now())};a.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return a}();b.FrameTaskHandle=z;b.debug={frameTasks:l,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);for(var e=0;e<l.length;e++)l[e].removed=!0;a&&c()},dispatch:k,executeFrameTasks:function(a){void 0===a&&(a=b.now());0>x&&(x=a);var e=a-x;x=a;for(var g=0;g<
l.length;g++){var f=l[g];-1!==f.epoch&&(f.dt=e)}for(g=0;g<u.length;g++)for(var e=u[g],p=B[e],d=0;d<p.length;d++)f=p[d],f.paused||f.removed||(0===g&&f.ticks++,-1===f.epoch&&(f.epoch=a),y.time=a,y.deltaTime=f.dt,y.elapsedFrameTime=b.now()-a,y.frameDuration=0<A?A:w,y.spendInTask=a-f.epoch,f.phases[e].call(f,y));c()}};b.schedule=function(a){a=new v(a);e.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,r(k));return a};b.addFrameTask=function(a){var e=new f(a);l.push(e);for(var c=0,g=u;c<g.length;c++){var p=
g[c];a[p]&&B[p].push(e)}b.debug.rafId||(x=-1,b.debug.rafId=m());return new z(e)};b.setFrameRate=function(a){if(0>=a)p=0,A=w;else{var e=1.05*w;a=Math.ceil(1E3/a/e);p=(a-1)*e;A=a*w}};b.requestNextFrame=m})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(a,b,r){function d(){if(r.postMessage&&!r.importScripts){var a=r.onmessage,b=!0;r.onmessage=function(){b=!1};r.postMessage("","*");r.onmessage=a;return b}return!1}var h=r.MutationObserver||r.WebKitMutationObserver;return function(){var a;
if(r.process&&r.process.nextTick)a=function(a){r.process.nextTick(a)};else if(r.Promise)a=function(a){r.Promise.resolve().then(a)};else if(h){var b=[],c=document.createElement("div");(new h(function(){for(;0<b.length;)b.shift()()})).observe(c,{attributes:!0});a=function(a){b.push(a);c.setAttribute("queueStatus","1")}}else if(d()){var k=[];r.addEventListener("message",function(a){if(a.source===r&&"esri-nexttick-message"===a.data)for(a.stopPropagation();k.length;)k.shift()()},!0);a=function(a){k.push(a);
r.postMessage("esri-nexttick-message","*")}}else a=r.setImmediate?function(a){return r.setImmediate(a)}:function(a){return r.setTimeout(a,0)};return a}()})},"esri/core/now":function(){define(["require","exports","./global"],function(a,b,r){return function(){var a=r.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};
var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(a,b,r,d){var h=d();a=r.requestAnimationFrame;if(!a){b=["ms","moz","webkit","o"];for(var n=0;n<b.length&&!a;++n)a=r[b[n]+"RequestAnimationFrame"];a||(a=function(a){var b=d(),k=Math.max(0,16-(b-h)),g=r.setTimeout(function(){a(d())},k);h=b+k;return g})}return a})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),
function(a,b,r,d,h,n){function m(a,b,f){void 0===f&&(f=c);for(var g=h.getProperties(a),k=g.metadatas,p={},m=0,w=Object.getOwnPropertyNames(b);m<w.length;m++){var y=p,u=k,e=w[m],l=b,B=f,z=n.originSpecificReadPropertyDefinition(u[e],B);z&&(!z.read||!1!==z.read.enabled&&!z.read.source)&&(y[e]=!0);for(var C=0,F=Object.getOwnPropertyNames(u);C<F.length;C++){var G=F[C],z=n.originSpecificReadPropertyDefinition(u[G],B),r;a:{r=e;var E=l;if(z&&z.read&&!1!==z.read.enabled&&z.read.source)if(z=z.read.source,"string"===
typeof z){if(z===r||-1<z.indexOf(".")&&0===z.indexOf(r)&&d.exists(z,E)){r=!0;break a}}else for(var M=0;M<z.length;M++){var ma=z[M];if(ma===r||-1<ma.indexOf(".")&&0===ma.indexOf(r)&&d.exists(ma,E)){r=!0;break a}}r=!1}r&&(y[G]=!0)}}g.setDefaultOrigin(f.origin);w=0;for(y=Object.getOwnPropertyNames(p);w<y.length;w++)m=y[w],e=(u=n.originSpecificReadPropertyDefinition(k[m],f).read)&&u.source,l=void 0,l=e&&"string"===typeof e?d.valueOf(b,e):b[m],u&&u.reader&&(l=u.reader.call(a,l,b,f)),void 0!==l&&g.set(m,
l);b=0;for(k=Object.getOwnPropertyNames(k);b<k.length;b++)m=k[b],p[m]||(w=a,y=g,u=f,e=(e=n.originSpecificReadPropertyDefinition(y.metadatas[m],u))&&e.read&&e.read.default,void 0!==e&&(w="function"===typeof e?e.call(w,m,u):e,void 0!==w&&y.set(m,w)));g.setDefaultOrigin("user")}Object.defineProperty(b,"__esModule",{value:!0});var c={origin:"service"};b.read=m;b.readLoadable=function(a,b,f,d){void 0===d&&(d=c);b=r({},d,{messages:[]});f(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?d&&
d.messages.push(b):a.loadWarnings.push(b)})};b.default=m})},"esri/core/accessorSupport/write":function(){define("require exports ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,r,d,h,n,m){function c(a,b,c,p,d,k){if(!p||!p.write)return!1;var f=a.get(c);if(void 0===f)return!1;if(!d&&p.write.overridePolicy){var u=p.write.overridePolicy.call(a,f,c,k);void 0!==u&&(d=u)}d||(d=p.write);if(!d||!1===d.enabled)return!1;if(null===f){if(d.allowNull)return!0;
d.isRequired&&((a=new r("web-document-write:property-required","Missing value for required property '"+c+"' on '"+a.declaredClass+"'",{propertyName:c,target:a}),k)&&k.messages?k.messages.push(a):a&&!k&&g.error(a.name,a.message));return!1}return!d.ignoreOrigin&&k&&k.origin&&b.store.originOf(c)<h.nameToId(k.origin)?!1:!0}function k(a,b,g){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return n.merge(b,a.toJSON());var f=n.getProperties(a),d=f.metadatas,k;for(k in d){var v=
m.originSpecificWritePropertyDefinition(d[k],g);if(c(a,f,k,v,null,g)){var u=a.get(k),e={};v.write.writer.call(a,u,e,"string"===typeof v.write.target?v.write.target:k,g);v=e;0<Object.keys(v).length&&(b=n.merge(b,v),g&&g.writtenProperties&&g.writtenProperties.push({target:a,propName:k,oldOrigin:h.idToReadableName(f.store.originOf(k)),newOrigin:g.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var g=d.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,
g,p){var f=n.getProperties(a),d=m.originSpecificWritePropertyDefinition(f.metadatas[b],p);return d?c(a,f,b,d,g,p):!1};b.write=k;b.default=k})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,b,r,d,h,n,m,c){a=function(a){function b(b){b=a.call(this)||this;b.latestWkid=null;b.wkid=null;b.wkt=
null;return b}r(b,a);f=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return f.WebMercator;if(4326===a.wkid)return f.WGS84}var b=new f;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b);var b};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return c.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return c.isWebMercator(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return c.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return c.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===f.WGS84)return f.WGS84;if(this===f.WebMercator)return f.WebMercator;var a=new f;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&
(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return c.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;d([m.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);d([m.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",
null);d([m.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);d([m.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);d([m.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);d([m.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);d([m.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===
this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);d([m.writer("wkt"),m.writer("web-scene","wkt")],b.prototype,"writeWkt",null);d([m.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);d([m.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=f=d([m.subclass("esri.geometry.SpatialReference")],b);var f}(m.declared(h));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
a.WGS84=new a(4326);a.WGS84.wkt=n.substitute({Central_Meridian:"0.0"},c.getInfo(a.WGS84).wkTemplate);a.WebMercator=new a({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","./WKIDUnitConversion"],function(a,b,r){function d(a){return a.wkid&&!0===h[a.wkid]}Object.defineProperty(b,"__esModule",{value:!0});var h={102113:!0,102100:!0,
3857:!0,3785:!0},n={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var m=[-2.0037508342787E7,2.0037508342787E7],c={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:m,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:m,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:m,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:m,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){if(b){if(a===b)return!0;if(null!=a.wkid||null!=b.wkid)return a.wkid===b.wkid||d(a)&&d(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid;if(a.wkt&&b.wkt)return a.wkt.toUpperCase()===b.wkt.toUpperCase()}return!1};b.getInfo=function(a){return a.wkid?c[a.wkid]:null};b.isGeographic=function(a){return a.wkid?null==r[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1};b.isWGS84=function(a){return 4326===
a.wkid};b.isWebMercator=d;b.isWrappable=function(a){return a.wkid&&!0===n[a.wkid]}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,
8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,
26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53034:0,53048:0,53049:0,
54034:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,
103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,
103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,
103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,
103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;
for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=
2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=
2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=
0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=
0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=
0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=
0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=
0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=
0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=
0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=
0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102496>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102568>=a;a++)b[a]=0;for(a=102570;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=
0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=
2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=
0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=
0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=
0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103600;103694>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=
2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,r,d,h,n,m,c,k,g){function f(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var v=[0,0],x=h.getLogger("esri.geometry.Point");
a=function(a){function b(b,c,e,l,f){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}r(b,a);p=b;b.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};b.distance=function(a,b){var e=a.x-b.x,l=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(e*e+l*l+a*a)};b.prototype.normalizeCtorArgs=function(a,b,e,l,p){var u;if(Array.isArray(a))u=a,p=b,a=u[0],b=u[1],e=u[2],l=u[3];else if(a&&
"object"===typeof a){if(u=a,a=null!=u.x?u.x:u.longitude,b=null!=u.y?u.y:u.latitude,e=null!=u.z?u.z:u.altitude,l=u.m,(p=u.spatialReference)&&"esri.geometry.SpatialReference"!==p.declaredClass&&(p=new c(p)),null!=u.longitude||null!=u.latitude)null==u.longitude?x.warn(".longitude\x3d","Latitude was defined without longitude"):null==u.latitude?x.warn(".latitude\x3d","Longitude was defined without latitude"):!u.declaredClass&&p&&p.isWebMercator&&(b=g.lngLatToXY(u.longitude,u.latitude,v),a=b[0],b=b[1])}else f(e)?
(p=e,e=null):f(l)&&(p=l,l=null);a={x:a,y:b};null!=p&&(a.spatialReference=p);null!=e&&(a.z=e);null!=l&&(a.m=l);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",
a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return g.xyToLngLat(this.x,this.y,v)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",g.lngLatToXY(this.x,a,v)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=
this._get("spatialReference");if(a){if(a.isWebMercator)return g.xyToLngLat(this._get("x"),this._get("y"),v)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",g.lngLatToXY(a,this._get("y"),v)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.clone=function(){var a=new p;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};
b.prototype.copy=function(a){p.copy(a,this);return this};b.prototype.equals=function(a){if(!a)return!1;var b=this.x,e=this.y,l=this.z,c=this.m,f=this.spatialReference,p=a.z,d=a.m,k=a.x,v=a.y;a=a.spatialReference;if(!f.equals(a))if(f.isWebMercator&&a.isWGS84)v=g.lngLatToXY(k,v),k=v[0],v=v[1],a=f;else if(f.isWGS84&&a.isWebMercator)v=g.xyToLngLat(k,v),k=v[0],v=v[1],a=f;else return!1;return b===k&&e===v&&l===p&&c===d&&f.wkid===a.wkid};b.prototype.offset=function(a,b,e){this.x+=a;this.y+=b;null!=e&&this.hasZ&&
(this.z+=e);return this};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=k.getInfo(this.spatialReference);if(!a)return this;var b=this.x,e=a.valid,a=e[0],l=e[1],e=2*l;b>l?(a=Math.ceil(Math.abs(b-l)/e),b-=a*e):b<a&&(a=Math.ceil(Math.abs(b-a)/e),b+=a*e);this._set("x",b);return this};b.prototype.distance=function(a){return p.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,
this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};d([n.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);d([n.property({type:Boolean,dependsOn:["m"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);d([n.property({type:Boolean,dependsOn:["z"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);d([n.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);d([n.property({type:Number,
dependsOn:["x"]})],b.prototype,"longitude",null);d([n.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,"x",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);d([n.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);d([n.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=p=d([n.subclass("esri.geometry.Point")],b);var p}(n.declared(m));
a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/webMercatorUtils":function(){define(["require","exports","../SpatialReference","./spatialReferenceUtils"],function(a,b,r,d){function h(a,b,c,d,p){if("point"===a.type&&"point"===p.type)b=b(a.x,a.y,k,0,d),p.x=b[0],p.y=b[1];else if("extent"===a.type&&"extent"===p.type)f=b(a.xmin,a.ymin,k,0,d),p.xmin=f[0],p.ymin=f[1],b=b(a.xmax,a.ymax,k,0,d),p.xmax=b[0],p.ymax=b[1];else if("polyline"===a.type&&"polyline"===p.type||"polygon"===a.type&&
"polygon"===p.type){var f="polyline"===a.type?a.paths:a.rings,g=[],v=void 0;for(a=0;a<f.length;a++){var u=f[a],v=[];g.push(v);for(var e=0;e<u.length;e++)v.push(b(u[e][0],u[e][1],[0,0],0,d)),2<u[e].length&&v[e].push(u[e][2]),3<u[e].length&&v[e].push(u[e][3])}"polyline"===p.type?p.paths=g:p.rings=g}else if("multipoint"===a.type&&"multipoint"===p.type){f=a.points;g=[];for(a=0;a<f.length;a++)g[a]=b(f[a][0],f[a][1],[0,0],0,d),2<f[a].length&&g[a].push(f[a][2]),3<f[a].length&&g[a].push(f[a][3]);p.points=
g}else if("mesh"===a.type&&"mesh"===p.type&&(f=a.vertexAttributes&&a.vertexAttributes.position,g=p.vertexAttributes&&p.vertexAttributes.position,f))for(v=[0,0],a=0;a<f.length;a+=3)b(f[a],f[a+1],v,0,d),g[a]=v[0],g[a+1]=v[1];p.spatialReference=c;return p;var f}function n(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?d.equals(b,a)?!0:d.isWebMercator(b)&&d.isWGS84(a)||d.isWebMercator(a)&&d.isWGS84(b):!1}function m(a,b,c,d){void 0===
c&&(c=[0,0]);void 0===d&&(d=0);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;c[d]=111319.49079327169*a;c[d+1]=3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function c(a,b,c,d,p){void 0===c&&(c=[0,0]);void 0===d&&(d=0);void 0===p&&(p=!1);a=a/6378137*57.29577951308232;c[d]=p?a:a-360*Math.floor((a+180)/360);c[d+1]=57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)));return c}Object.defineProperty(b,"__esModule",{value:!0});var k=[0,0];b.canProject=
n;b.project=function(a,b){var f=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return n(f,b)?d.equals(f,b)?a.clone():d.isWebMercator(b)?h(a,m,r.WebMercator,!1,a.clone()):d.isWGS84(b)?h(a,c,r.WGS84,!1,a.clone()):null:null};b.lngLatToXY=m;b.xyToLngLat=c;b.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=a.clone());return h(a,m,r.WebMercator,b,c)};b.webMercatorToGeographic=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=a.clone());return h(a,c,
r.WGS84,b,d)}})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function r(a,b,c,d){return b>=a.xmin&&b<=a.xmax&&c>=a.ymin&&c<=a.ymax?null!=d&&a.hasZ?d>=a.zmin&&d<=a.zmax:!0:!1}function d(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=!1,d=0,g=a.length;d<g;d++)c=h(c,a[d],b);b=c}else b=h(!1,a,b);else b=!1;return b}function h(a,b,c){var d=c[0];c=c[1];for(var g=0,f=0,v=b.length;f<v;f++){g++;g===v&&(g=0);var h=b[f],p=h[0],h=h[1],m=b[g],n=m[0],m=m[1];(h<
c&&m>=c||m<c&&h>=c)&&p+(c-h)/(m-h)*(n-p)<d&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});b.extentContainsPoint=function(a,b){return r(a,b.x,b.y,b.z)};b.extentContainsExtent=function(a,b){var c=b.xmin,d=b.ymin,g=b.zmin,f=b.xmax,v=b.ymax,h=b.zmax;return a.hasZ&&b.hasZ?r(a,c,d,g)&&r(a,c,v,g)&&r(a,f,v,g)&&r(a,f,d,g)&&r(a,c,d,h)&&r(a,c,v,h)&&r(a,f,v,h)&&r(a,f,d,h):r(a,c,d)&&r(a,c,v)&&r(a,f,v)&&r(a,f,d)};b.extentContainsCoords2D=function(a,b){return r(a,b[0],b[1])};b.extentContainsCoords3D=
function(a,b){return r(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){return d(a,[b.x,b.y])};b.polygonContainsCoords=d})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,r){function d(a,b){return r.extentContainsPoint(a,b)}function h(a,b){var e=a.hasZ&&b.hasZ,c;if(a.xmin<=b.xmin){if(c=b.xmin,a.xmax<c)return!1}else if(c=a.xmin,b.xmax<c)return!1;if(a.ymin<=b.ymin){if(c=b.ymin,a.ymax<c)return!1}else if(c=a.ymin,b.ymax<c)return!1;if(e&&b.hasZ)if(a.zmin<=
b.zmin){if(e=b.zmin,a.zmax<e)return!1}else if(e=a.zmin,b.zmax<e)return!1;return!0}function n(a,b){var e=b.hasZ?r.extentContainsCoords3D:r.extentContainsCoords2D,c=0;for(b=b.points;c<b.length;c++)if(e(a,b[c]))return!0;return!1}function m(a,b){f[0]=a.xmin;f[1]=a.ymax;v[0]=a.xmax;v[1]=a.ymax;x[0]=a.xmin;x[1]=a.ymin;p[0]=a.xmax;p[1]=a.ymin;for(var e=0,c=A;e<c.length;e++)if(r.polygonContainsCoords(b,c[e]))return!0;e=0;for(b=b.rings;e<b.length;e++)if(c=b[e],c.length){var g=c[0];if(r.extentContainsCoords2D(a,
g))return!0;for(var d=1;d<c.length;d++){var u=c[d];if(r.extentContainsCoords2D(a,u)||k(g,u,w))return!0;g=u}}return!1}function c(a,b){f[0]=a.xmin;f[1]=a.ymax;v[0]=a.xmax;v[1]=a.ymax;x[0]=a.xmin;x[1]=a.ymin;p[0]=a.xmax;p[1]=a.ymin;b=b.paths;for(var e=0;e<b.length;e++){var c=b[e];if(b.length){var g=c[0];if(r.extentContainsCoords2D(a,g))return!0;for(var d=1;d<c.length;d++){var u=c[d];if(r.extentContainsCoords2D(a,u)||k(g,u,w))return!0;g=u}}}return!1}function k(a,b,l){for(var e=0;e<l.length;e++)if(g(a,
b,l[e][0],l[e][1]))return!0;return!1}function g(a,b,l,c,f){var e=a[0];a=a[1];var g=b[0];b=b[1];var p=l[0],d=l[1];l=c[0]-p;var p=e-p,u=g-e;c=c[1]-d;var d=a-d,B=b-a,k=c*u-l*B;if(0===k)return!1;l=(l*d-c*p)/k;p=(u*d-B*p)/k;return 0<=l&&1>=l&&0<=p&&1>=p?(f&&(f[0]=e+l*(g-e),f[1]=a+l*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=d;b.extentIntersectsExtent=h;b.extentIntersectsMultipoint=n;var f=[0,0],v=[0,0],x=[0,0],p=[0,0],A=[f,v,x,p],w=[[x,f],[f,v],[v,p],[p,x]];
b.extentIntersectsPolygon=m;b.extentIntersectsPolyline=c;var y=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var l=a[b],c=0;c<l.length-1;c++)for(var f=l[c],p=l[c+1],d=b+1;d<a.length;d++)for(var u=0;u<a[d].length-1;u++){var k=a[d][u],v=a[d][u+1],h=g(f,p,k,v,y);if(h&&!(y[0]===f[0]&&y[1]===f[1]||y[0]===k[0]&&y[1]===k[1]||y[0]===p[0]&&y[1]===p[1]||y[0]===v[0]&&y[1]===v[1]))return!0}u=l.length;if(!(4>=u))for(c=0;c<u-3;c++){var x=u-1;0===c&&(x=u-2);f=l[c];p=l[c+1];for(d=c+2;d<x;d++)if(k=
l[d],v=l[d+1],(h=g(f,p,k,v,y))&&!(y[0]===f[0]&&y[1]===f[1]||y[0]===k[0]&&y[1]===k[1]||y[0]===p[0]&&y[1]===p[1]||y[0]===v[0]&&y[1]===v[1]))return!0}}return!1};b.segmentIntersects=g;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return h;case "esriGeometryMultipoint":case "multipoint":return n;case "esriGeometryPoint":case "point":return d;case "esriGeometryPolygon":case "polygon":return m;case "esriGeometryPolyline":case "polyline":return c;case "mesh":return h}}})},
"esri/geometry/Mesh":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/lang ../core/Logger ../core/accessorSupport/decorators ./Extent ./Geometry ./support/MeshComponent ./support/MeshVertexAttributes ./support/triangulationUtils ./support/meshUtils/centerAt ./support/meshUtils/offset ./support/meshUtils/primitives ./support/meshUtils/rotate".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y){var u=
m.getLogger("esri.geometry.Mesh"),e=[1,0,0],l=[0,1,0],B=[0,0,1],z=[0,0,0],C=[0,0,0,0],F=[0,0,0,0],G=[0,0,0,0];return function(a){function b(b){b=a.call(this)||this;b.components=null;b.hasZ=!0;b.hasM=!1;b.vertexAttributes=null;b.type="mesh";return b}r(b,a);g=b;Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=this.vertexAttributes&&this.vertexAttributes.position;if(!b||0===b.length||this.components&&0===this.components.length)return new k({xmin:0,ymin:0,zmin:0,
xmax:0,ymax:0,zmax:0,spatialReference:a});a={xmin:Infinity,xmax:-Infinity,ymin:Infinity,ymax:-Infinity,zmin:Infinity,zmax:-Infinity,spatialReference:a};if(!this.components)return new k(this.extendExtent(a,b,null));for(var e=0,l=this.components;e<l.length;e++){var c=l[e];if(c.faces)this.extendExtent(a,b,c.faces);else{this.extendExtent(a,b,null);break}}return new k(a)},enumerable:!0,configurable:!0});b.prototype.addComponent=function(a){this.components||(this.components=[]);this.components.push(a);
this.clearCache()};b.prototype.removeComponent=function(a){if(this.components&&(a=this.components.indexOf(a),-1!==a)){this.components=this.components.splice(a,1);return}u.error("removeComponent()","Provided component is not part of the list of components")};b.prototype.rotate=function(a,b,c,f){y.axisAngleFrom(e,a/180*Math.PI,C);y.axisAngleFrom(l,b/180*Math.PI,F);y.axisAngleFrom(B,c/180*Math.PI,G);y.axisAngleMultiply(C,F,C);y.axisAngleMultiply(C,G,C);y.rotate(this,C,f);return this};b.prototype.offset=
function(a,b,e,l){z[0]=a;z[1]=b;z[2]=e;A.offset(this,z,l);return this};b.prototype.centerAt=function(a,b){p.centerAt(this,a,b);return this};b.prototype.clone=function(){return new g({components:n.clone(this.components),spatialReference:this.spatialReference,vertexAttributes:n.clone(this.vertexAttributes)})};b.prototype.vertexAttributesChanged=function(){this.clearCache()};b.prototype.toJSON=function(a){return this.write({},a)};b.prototype.forEachVertex=function(a,b,e){if(b)for(c=0;c<b.length;c++){var l=
3*b[c];e(a[l+0],a[l+1],a[l+2])}else for(var c=0;c<a.length;c+=3)e(a[c+0],a[c+1],a[c+2])};b.prototype.extendExtent=function(a,b,e){this.forEachVertex(b,e,function(b,e,l){a.xmin=Math.min(a.xmin,b);a.xmax=Math.max(a.xmax,b);a.ymin=Math.min(a.ymin,e);a.ymax=Math.max(a.ymax,e);a.zmin=Math.min(a.zmin,l);a.zmax=Math.max(a.zmax,l)});return a};b.createBox=function(a,b){a=w.convertUnitGeometry(w.createUnitSizeBox(),a,b);if(b&&b.imageFace&&"all"!==b.imageFace){var e=a.components[0],l=e.faces,c=w.boxFaceOrder[b.imageFace],
g=6*c;b=new Uint32Array(6);for(var p=new Uint32Array(l.length-6),d=0,u=0,B=0;B<l.length;B++)B>=g&&B<g+6?b[d++]=l[B]:p[u++]=l[B];l=new Float32Array(a.vertexAttributes.uv);c*=8;g=[0,1,1,1,1,0,0,0];for(B=0;B<g.length;B++)l[c+B]=g[B];a.vertexAttributes.uv=l;a.components=[new f({faces:b,material:e.material}),new f({faces:p})]}return a};b.createSphere=function(a,b){return w.convertUnitGeometry(w.createUnitSizeSphere(b&&b.densificationFactor||0),a,b)};b.createCylinder=function(a,b){return w.convertUnitGeometry(w.createUnitSizeCylinder(b&&
b.densificationFactor||0),a,b)};b.createPlane=function(a,b){return w.convertUnitGeometry(w.createUnitSizePlane(b&&b.facing||"up"),a,b)};b.createFromPolygon=function(a,b){var e=x.triangulate(a);return new g({vertexAttributes:{position:e.position},components:[{faces:e.faces,shading:"flat",material:b&&b.material||null}],spatialReference:a.spatialReference})};d([c.property({dependsOn:["vertexAttributes","vertexAttributes.position","components"],json:{read:!1}})],b.prototype,"cache",void 0);d([c.property({type:[f]})],
b.prototype,"components",void 0);d([c.property({dependsOn:["cache"],readOnly:!0,json:{read:!1}})],b.prototype,"extent",null);d([c.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasZ",void 0);d([c.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasM",void 0);d([c.property({type:v.MeshVertexAttributes,json:{write:!0}})],b.prototype,"vertexAttributes",void 0);d([h(0,c.cast(f))],b.prototype,"addComponent",null);return b=g=d([c.subclass("esri.geometry.Mesh")],b);var g}(c.declared(g))})},
"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,b){return function(r,d){b(r,d,a)}}})},"esri/geometry/support/MeshComponent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators ./MeshMaterial ./MeshVertexAttributes".split(" "),function(a,b,r,d,h,n,m,c,k,g){var f=m.getLogger("esri.geometry.support.MeshComponent");
return function(a){function b(b){b=a.call(this)||this;b.faces=null;b.material=null;b.shading="source";return b}r(b,a);p=b;b.prototype.castFaces=function(a){return g.castArray(a,Uint32Array,[Uint16Array],{loggerTag:".faces\x3d",stride:3},f)};b.prototype.clone=function(){return new p({faces:n.clone(this.faces),shading:this.shading,material:n.clone(this.material)})};d([c.property({json:{write:!0}})],b.prototype,"faces",void 0);d([c.cast("faces")],b.prototype,"castFaces",null);d([c.property({type:k.MeshMaterial,
json:{write:!0}})],b.prototype,"material",void 0);d([c.property({type:String,json:{write:!0}})],b.prototype,"shading",void 0);return b=p=d([c.subclass("esri.geometry.support.MeshComponent")],b);var p}(c.declared(h))})},"esri/geometry/support/MeshMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ImageMeshColor ./MeshColor ./ValueMeshColor".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v){Object.defineProperty(b,"__esModule",{value:!0});var x={base:f.default,key:"type",defaultKeyValue:"value",typeMap:{value:v,image:g}};a=function(a){function b(b){b=a.call(this)||this;b.color=null;return b}r(b,a);f=b;b.prototype.castColor=function(a){return a?"string"===typeof a?p.test(a)||h.named[a]?new v({value:a}):new g({url:a}):Array.isArray(a)?new v({value:a}):a instanceof HTMLImageElement?new g({url:a.src}):a instanceof HTMLCanvasElement?new g({url:a.toDataURL()}):
k.ensureOneOfType(x,a):a};b.prototype.readColor=function(a,b,l){if(a)switch(a.type){case "image":return new g(a);case "value":return new v(a)}};b.prototype.clone=function(){return new f({color:m.clone(this.color)})};d([c.property({types:x,json:{write:!0}})],b.prototype,"color",void 0);d([c.cast("color")],b.prototype,"castColor",null);d([c.reader("color")],b.prototype,"readColor",null);return b=f=d([c.subclass("esri.geometry.support.MeshResources")],b);var f}(c.declared(n));b.MeshMaterial=a;var p=
/^\s*(#|rgba?\()/;b.default=a})},"esri/Color":function(){define(["./core/declare","./core/accessorSupport/ensureType","dojo/colors"],function(a,b,r){function d(a){return Math.max(0,Math.min(b.ensureInteger(a),255))}var h=a([r],{declaredClass:"esri.Color",toJSON:function(){return[d(this.r),d(this.g),d(this.b),1<this.a?this.a:d(255*this.a)]},clone:function(){return new h(this.toRgba())}});h.toJSON=function(a){return a&&[d(a.r),d(a.g),d(a.b),1<a.a?a.a:d(255*a.a)]};h.fromJSON=function(a){return a&&new h([a[0],
a[1],a[2],a[3]/255])};h.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};h.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};var n="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(a=0;a<n.length;a++)h[n[a]]=r[n[a]];h.named.rebeccapurple=[102,51,153];return h})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(a,b,r,d){var h={};b.setObject("dojo.colors",h);var n=function(a,b,g){0>g&&++g;1<g&&
--g;var c=6*g;return 1>c?a+(b-a)*c:1>2*g?b:2>3*g?a+(b-a)*(2/3-g)*6:a};a.colorFromRgb=r.fromRgb=function(a,b){var c=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){a=c[2].split(/\s*,\s*/);var f=a.length,c=c[1];if("rgb"==c&&3==f||"rgba"==c&&4==f)return c=a[0],"%"==c.charAt(c.length-1)?(c=d.map(a,function(a){return 2.56*parseFloat(a)}),4==f&&(c[3]=a[3]),r.fromArray(c,b)):r.fromArray(a,b);if("hsl"==c&&3==f||"hsla"==c&&4==f){var c=(parseFloat(a[0])%360+360)%360/360,k=parseFloat(a[1])/
100,h=parseFloat(a[2])/100,k=.5>=h?h*(k+1):h+k-h*k,h=2*h-k,c=[256*n(h,k,c+1/3),256*n(h,k,c),256*n(h,k,c-1/3),1];4==f&&(c[3]=a[3]);return r.fromArray(c,b)}}return null};var m=function(a,b,g){a=Number(a);return isNaN(a)?g:a<b?b:a>g?g:a};r.prototype.sanitize=function(){this.r=Math.round(m(this.r,0,255));this.g=Math.round(m(this.g,0,255));this.b=Math.round(m(this.b,0,255));this.a=m(this.a,0,1);return this};h.makeGrey=r.makeGrey=function(a,b){return r.fromArray([a,a,a,b])};b.mixin(r.named,{aliceblue:[240,
248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,
211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,
221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,
245,245],yellowgreen:[154,205,50]});return r})},"esri/geometry/support/ImageMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Identifiable ../../core/accessorSupport/decorators ./MeshColor".split(" "),function(a,b,r,d,h,n,m){return function(a){function b(b){b=a.call(this)||this;b.type="image";b.url=null;return b}r(b,a);c=b;b.prototype.clone=function(){return new c({url:this.url})};d([n.property()],b.prototype,"type",
void 0);d([n.property({type:String,json:{write:{enabled:!0,isRequired:!0}}})],b.prototype,"url",void 0);return b=c=d([n.subclass("esri.geometry.support.ImageMeshColor")],b);var c}(n.declared(m.default,h))})},"esri/core/Identifiable":function(){define(["./declare"],function(a){var b=0;return a(null,{constructor:function(){Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+b++})}})})},"esri/geometry/support/MeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(a,b,r,d,h,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){return a.call(this)||this}r(b,a);b.prototype.clone=function(){throw Error("not implemented");};d([n.property({readOnly:!0,json:{read:!1,write:{isRequired:!0,ignoreOrigin:!0,enabled:!0}}})],b.prototype,"type",void 0);return b=d([n.subclass("esri.geometry.support.MeshColor")],b)}(n.declared(h));b.MeshColor=a;b.default=a})},"esri/geometry/support/ValueMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ./MeshColor".split(" "),
function(a,b,r,d,h,n,m,c){return function(a){function b(b){b=a.call(this)||this;b.type="value";b.value=null;return b}r(b,a);c=b;b.prototype.clone=function(){return new c({value:n.clone(this.value)})};d([m.property()],b.prototype,"type",void 0);d([m.property({type:h})],b.prototype,"value",void 0);return b=c=d([m.subclass("esri.geometry.support.ValueMeshColor")],b);var c}(m.declared(c.default))})},"esri/geometry/support/MeshVertexAttributes":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators".split(" "),
function(a,b,r,d,h,n,m,c){function k(a,b,c,f){var g=b.loggerTag;b=b.stride;return 0!==a.length%b?(f.error(g,"Invalid array length, expected a multiple of "+b),new c([])):a}function g(a,b,c,f,g){if(!a)return a;if(a instanceof b)return k(a,f,b,g);for(var p=0;p<c.length;p++)if(a instanceof c[p])return k(new b(a),f,b,g);if(Array.isArray(a))return k(new b(a),f,b,g);c=c.map(function(a){return"'"+a.name+"'"});g.error("Failed to set property, expected one of "+c+", but got "+a.constructor.name);return new b([])}
Object.defineProperty(b,"__esModule",{value:!0});var f=m.getLogger("esri.geometry.support.MeshVertexAttributes");a=function(a){function b(b){b=a.call(this)||this;b.position=null;b.uv=null;b.normal=null;return b}r(b,a);p=b;b.prototype.castPosition=function(a){a&&a instanceof Float32Array&&f.warn(".position\x3d","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array");return g(a,Float64Array,[Float32Array],{loggerTag:".position\x3d",
stride:3},f)};b.prototype.castUv=function(a){return g(a,Float32Array,[Float64Array],{loggerTag:".uv\x3d",stride:2},f)};b.prototype.castNormal=function(a){return g(a,Float32Array,[Float64Array],{loggerTag:".normal\x3d",stride:3},f)};b.prototype.clone=function(){return new p({position:n.clone(this.position),uv:n.clone(this.uv),normal:n.clone(this.normal)})};d([c.property({json:{write:!0}})],b.prototype,"position",void 0);d([c.cast("position")],b.prototype,"castPosition",null);d([c.property({json:{write:!0}})],
b.prototype,"uv",void 0);d([c.cast("uv")],b.prototype,"castUv",null);d([c.property({json:{write:!0}})],b.prototype,"normal",void 0);d([c.cast("normal")],b.prototype,"castNormal",null);return b=p=d([c.subclass("esri.geometry.support.MeshVertexAttributes")],b);var p}(c.declared(h));b.MeshVertexAttributes=a;b.castArray=g;b.default=a})},"esri/geometry/support/triangulationUtils":function(){define(["require","exports","../../core/libs/earcut/earcut","./coordsUtils"],function(a,b,r,d){function h(a,b,g){if(1===
a.length)return a[0];b=new Float64Array(b);g=new Uint32Array(g);for(var c=0,d=0,h=0;h<a.length;h++){for(var p=a[h],k=0;k<p.position.length;k++)b[c++]=p.position[k];for(k=0;k<p.faces.length;k++)g[d++]=p.faces[k]}return{position:b,faces:g}}function n(a,b){for(var c=a.length,f=Array(c),h=Array(c),k=Array(c),p=0,n=0,w=0,y=0,u=0;u<c;++u)y+=a[u].length;for(var y=new Float64Array(3*y),e=0,l=c-1;0<=l;l--){var B=a[l];if(d.isClockwise(B,!1,!1)||1===c){for(var z=B.length,u=0;u<p;++u)z+=f[u].length;u={index:e,
pathLengths:Array(p+1),count:z,holeIndices:Array(p)};u.pathLengths[0]=B.length;0<B.length&&(k[w++]={index:e,count:B.length});e=m(B,0,y,e,B.length,b);for(B=0;B<p;++B)z=f[B],u.holeIndices[B]=e,u.pathLengths[B+1]=z.length,0<z.length&&(k[w++]={index:e,count:z.length}),e=m(z,0,y,e,z.length,b);p=0;0<u.count&&(h[n++]=u)}else f[p++]=B}for(B=0;B<p;++B)z=f[B],0<z.length&&(k[w++]={index:e,count:z.length}),e=m(z,0,y,e,z.length,b);n<c&&(h.length=n);w<c&&(k.length=w);return{position:y,polygons:h,outlines:k}}function m(a,
b,g,f,d,h){f*=3;for(var c=0;c<d;++c){var k=a[b++];g[f++]=k[0];g[f++]=k[1];g[f++]=h?k[2]:0}return f/3}Object.defineProperty(b,"__esModule",{value:!0});b.triangulate=function(a){var b=n(a.rings,a.hasZ),c=[],f=0,d=0;a=function(a){var g=a.index,p=new Float64Array(b.position.buffer,3*g*b.position.BYTES_PER_ELEMENT,3*a.count);a=a.holeIndices.map(function(a){return a-g});a=new Uint32Array(r(p,a,3));c.push({position:p,faces:a});f+=p.length;d+=a.length};for(var x=0,p=b.polygons;x<p.length;x++)a(p[x]);return h(c,
f,d)};b.pathsToTriangulationInfo=n})},"esri/core/libs/earcut/earcut":function(){define([],function(){function a(a,e,c){c=c||2;l=a.length/c+(e?2*e.length:0);B=!1;var f=e&&e.length,g=f?e[0]*c:a.length,p=b(a,0,g,c,!0),u=[];if(!p)return u;var h,v,x,z;if(f)a:{var C=c,f=[],w,y,F;z=0;for(w=e.length;z<w;z++)y=e[z]*C,F=z<w-1?e[z+1]*C:a.length,y=b(a,y,F,C,!1),y===y.next&&(y.steiner=!0),f.push(k(y));f.sort(n);for(z=0;z<f.length;z++){if(!p){p=null;break a}e=f[z];C=p;if(C=m(e,C))e=A(C,e),r(e,e.next);p=r(p,p.next)}}if(B)return u;
if(a.length>80*c){h=x=a[0];v=f=a[1];for(C=c;C<g;C+=c)z=a[C],e=a[C+1],z<h&&(h=z),e<v&&(v=e),z>x&&(x=z),e>f&&(f=e);x=Math.max(x-h,f-v)}d(p,u,c,h,v,x);return u}function b(a,b,l,c,f){var g;if(f===0<e(a,b,l,c))for(f=b;f<l;f+=c)g=w(f,a[f],a[f+1],g);else for(f=l-c;f>=b;f-=c)g=w(f,a[f],a[f+1],g);g&&v(g,g.next)&&(y(g),g=g.next);return g}function r(a,b){if(!a)return a;b||(b=a);var e,c=0,g=l*l/2;do{e=!1;if(a.steiner||!v(a,a.next)&&0!==f(a.prev,a,a.next))a=a.next;else{y(a);a=b=a.prev;if(a===a.next)return null;
e=!0}if(c++>g)return B=!0,null}while(e||a!==b);return b}function d(a,b,e,l,u,k,m){if(a){if(!m&&k){var z=a,n=z;do null===n.z&&(n.z=c(n.x,n.y,l,u,k)),n.prevZ=n.prev,n=n.nextZ=n.next;while(n!==z);n.prevZ.nextZ=null;n.prevZ=null;var z=n,G,C,w,F,E,M,J=1;do{n=z;w=z=null;for(F=0;n;){F++;C=n;for(G=E=0;G<J&&(E++,C=C.nextZ,C);G++);for(M=J;0<E||0<M&&C;)0===E?(G=C,C=C.nextZ,M--):0!==M&&C?n.z<=C.z?(G=n,n=n.nextZ,E--):(G=C,C=C.nextZ,M--):(G=n,n=n.nextZ,E--),w?w.nextZ=G:z=G,G.prevZ=w,w=G;n=C}w.nextZ=null;J*=2}while(1<
F)}for(z=a;a.prev!==a.next;){n=a.prev;C=a.next;if(k)a:{w=a;M=l;var I=u,O=k;F=w.prev;E=w;J=w.next;if(0<=f(F,E,J))w=!1;else{var V=F.x>E.x?F.x>J.x?F.x:J.x:E.x>J.x?E.x:J.x,T=F.y>E.y?F.y>J.y?F.y:J.y:E.y>J.y?E.y:J.y;G=c(F.x<E.x?F.x<J.x?F.x:J.x:E.x<J.x?E.x:J.x,F.y<E.y?F.y<J.y?F.y:J.y:E.y<J.y?E.y:J.y,M,I,O);M=c(V,T,M,I,O);for(I=w.nextZ;I&&I.z<=M;){if(I!==w.prev&&I!==w.next&&g(F.x,F.y,E.x,E.y,J.x,J.y,I.x,I.y)&&0<=f(I.prev,I,I.next)){w=!1;break a}I=I.nextZ}for(I=w.prevZ;I&&I.z>=G;){if(I!==w.prev&&I!==w.next&&
g(F.x,F.y,E.x,E.y,J.x,J.y,I.x,I.y)&&0<=f(I.prev,I,I.next)){w=!1;break a}I=I.prevZ}w=!0}}else w=h(a);if(w)b.push(n.i/e),b.push(a.i/e),b.push(C.i/e),y(a),z=a=C.next;else{if(B)break;a=C;if(a===z){if(!m)d(r(a),b,e,l,u,k,1);else if(1===m){m=b;z=e;n=a;do C=n.prev,w=n.next.next,!v(C,w)&&x(C,n,n.next,w)&&p(C,w)&&p(w,C)&&(m.push(C.i/z),m.push(n.i/z),m.push(w.i/z),y(n),y(n.next),n=a=w),n=n.next;while(n!==a);a=n;d(a,b,e,l,u,k,2)}else if(2===m)a:{m=a;do{for(z=m.next.next;z!==m.prev;){if(n=m.i!==z.i){n=m;C=z;
w=void 0;if(w=n.next.i!==C.i&&n.prev.i!==C.i){w=void 0;b:{w=n;do{if(w.i!==n.i&&w.next.i!==n.i&&w.i!==C.i&&w.next.i!==C.i&&x(w,w.next,n,C)){w=!0;break b}w=w.next}while(w!==n);w=!1}w=!w}F=void 0;if(F=w&&p(n,C)&&p(C,n)){w=n;F=!1;E=(n.x+C.x)/2;C=(n.y+C.y)/2;do w.y>C!==w.next.y>C&&E<(w.next.x-w.x)*(C-w.y)/(w.next.y-w.y)+w.x&&(F=!F),w=w.next;while(w!==n)}n=F}if(n){a=A(m,z);m=r(m,m.next);a=r(a,a.next);d(m,b,e,l,u,k);d(a,b,e,l,u,k);break a}z=z.next}m=m.next}while(m!==a)}break}}}}}function h(a){var b=a.prev,
e=a.next;if(0<=f(b,a,e))return!1;for(var c=a.next.next,p=0;c!==a.prev;){if(g(b.x,b.y,a.x,a.y,e.x,e.y,c.x,c.y)&&0<=f(c.prev,c,c.next))return!1;c=c.next;if(p++>l)return B=!0,!1}return!0}function n(a,b){return a.x-b.x}function m(a,b){var e=b,l=a.x,c=a.y,f=-Infinity,d;do{if(!e)return null;if(c<=e.y&&c>=e.next.y){var u=e.x+(c-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(u<=l&&u>f){f=u;if(u===l){if(c===e.y)return e;if(c===e.next.y)return e.next}d=e.x<e.next.x?e:e.next}}e=e.next}while(e!==b);if(!d)return null;
if(l===f)return d.prev;b=d;for(var u=d.x,B=d.y,h=Infinity,k,e=d.next;e!==b;)l>=e.x&&e.x>=u&&g(c<B?l:f,c,u,B,c<B?f:l,c,e.x,e.y)&&(k=Math.abs(c-e.y)/(l-e.x),(k<h||k===h&&e.x>d.x)&&p(e,a)&&(d=e,h=k)),e=e.next;return d}function c(a,b,e,l,c){a=32767*(a-e)/c;b=32767*(b-l)/c;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function k(a){var b=a,e=a;do b.x<e.x&&(e=b),b=b.next;while(b!==
a);return e}function g(a,b,e,l,c,f,g,p){return 0<=(c-g)*(b-p)-(a-g)*(f-p)&&0<=(a-g)*(l-p)-(e-g)*(b-p)&&0<=(e-g)*(f-p)-(c-g)*(l-p)}function f(a,b,e){return(b.y-a.y)*(e.x-b.x)-(b.x-a.x)*(e.y-b.y)}function v(a,b){return a.x===b.x&&a.y===b.y}function x(a,b,e,l){return v(a,b)&&v(e,l)||v(a,l)&&v(e,b)?!0:0<f(a,b,e)!==0<f(a,b,l)&&0<f(e,l,a)!==0<f(e,l,b)}function p(a,b){return 0>f(a.prev,a,a.next)?0<=f(a,b,a.next)&&0<=f(a,a.prev,b):0>f(a,b,a.prev)||0>f(a,a.next,b)}function A(a,b){var e=new u(a.i,a.x,a.y),
l=new u(b.i,b.x,b.y),c=a.next,f=b.prev;a.next=b;b.prev=a;e.next=c;c.prev=e;l.next=e;e.prev=l;f.next=l;l.prev=f;return l}function w(a,b,e,l){a=new u(a,b,e);l?(a.next=l.next,a.prev=l,l.next.prev=a,l.next=a):(a.prev=a,a.next=a);return a}function y(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function u(a,b,e){this.i=a;this.x=b;this.y=e;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function e(a,b,e,l){for(var c=0,f=
e-l;b<e;b+=l)c+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return c}var l,B;a.deviation=function(a,b,l,c){var f=b&&b.length,g=Math.abs(e(a,0,f?b[0]*l:a.length,l));if(f)for(var f=0,p=b.length;f<p;f++)g-=Math.abs(e(a,b[f]*l,f<p-1?b[f+1]*l:a.length,l));for(f=b=0;f<c.length;f+=3){var p=c[f]*l,d=c[f+1]*l,u=c[f+2]*l;b+=Math.abs((a[p]-a[u])*(a[d+1]-a[p+1])-(a[p]-a[d])*(a[u+1]-a[p+1]))}return 0===g&&0===b?0:Math.abs((b-g)/g)};a.flatten=function(a){for(var b=a[0][0].length,e={vertices:[],holes:[],dimensions:b},l=0,c=
0;c<a.length;c++){for(var f=0;f<a[c].length;f++)for(var g=0;g<b;g++)e.vertices.push(a[c][f][g]);0<c&&(l+=a[c-1].length,e.holes.push(l))}return e};return a})},"esri/geometry/support/coordsUtils":function(){define(["require","exports"],function(a,b){function r(a,b){var d=b[0]-a[0],c=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(d*d+c*c+a*a)):Math.sqrt(d*d+c*c)}function d(a,b,d){var c=a[0]+d*(b[0]-a[0]),k=a[1]+d*(b[1]-a[1]);return 2<a.length&&2<b.length?[c,k,a[2]+d*(b[2]-a[2])]:[c,k]}
Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,d=a.hasM;if("point"===a.type)return d&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:d?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var c=!1,k=!1;a.forEach(function(a){a.hasZ&&(c=!0);
a.hasM&&(k=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var g=.5*(a.zmax-a.zmin),d=0;d<b.length;d++)b[d].push(g);if(k&&a.hasM)for(a=.5*(a.mmax-a.mmin),d=0;d<b.length;d++)b[d].push(a);return b})}return null};b.getLength=r;b.getMidpoint=function(a,b){return d(a,b,.5)};b.getPathLength=function(a){for(var b=a.length,d=0,c=0;c<b-1;++c)d+=r(a[c],a[c+1]);return d};b.getPointOnPath=function(a,b){if(0>=b)return a[0];
for(var h=a.length,c=0,k=0;k<h-1;++k){var g=r(a[k],a[k+1]);if(b-c<g)return d(a[k],a[k+1],(b-c)/g);c+=g}return a[h-1]};b.isClockwise=function(a,b,d){for(var c=a.length,k=0,g=0,f=0,v=0;v<c;v++){var h=a[v],p=a[(v+1)%c],m=2,k=k+(h[0]*p[1]-p[0]*h[1]);2<h.length&&2<p.length&&d&&(g+=h[0]*p[2]-p[0]*h[2],m=3);h.length>m&&p.length>m&&b&&(f+=h[0]*p[m]-p[0]*h[m])}return 0>=k&&0>=g&&0>=f}})},"esri/geometry/support/meshUtils/centerAt":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/glMatrix ../../../views/3d/support/projectionUtils".split(" "),
function(a,b,r,d,h,n){Object.defineProperty(b,"__esModule",{value:!0});var m=r.getLogger("esri.geometry.support.meshUtils.centerAt");b.centerAt=function(a,b,p){if(a.vertexAttributes&&a.vertexAttributes.position){var v=a.spatialReference,x=p&&p.origin||a.extent.center;if(v.isWGS84||v.isWebMercator&&(!p||!1!==p.geographic)){p=a.spatialReference;var v=k,y=c;if(n.pointToVector(b,y,n.SphericalECEFSpatialReference)){n.pointToVector(x,v,n.SphericalECEFSpatialReference)||n.pointToVector(a.extent.center,v,
n.SphericalECEFSpatialReference);x=a.vertexAttributes.position;b=a.vertexAttributes.normal;var u=new Float64Array(x.length),e=new Float32Array(b?b.length:0);d.projectToECEF(x,p,u);b&&d.projectNormalToECEF(b,x,u,p,e);n.computeLinearTransformation(n.SphericalECEFSpatialReference,v,g,n.SphericalECEFSpatialReference);n.computeLinearTransformation(n.SphericalECEFSpatialReference,y,f,n.SphericalECEFSpatialReference);h.mat4d.inverse(g);h.mat4d.multiply(f,g,f);d.transformBufferInPlace(u,f);h.mat4d.inverse(f);
h.mat4d.transpose(f);b&&d.transformBufferInPlace(e,f,!0);d.projectFromECEF(u,x,p);b&&d.projectNormalFromECEF(e,x,u,p,b);a.clearCache()}else m.error("Failed to project centerAt location (wkid:"+b.spatialReference.wkid+") to ECEF")}else if(p=k,v=c,n.pointToVector(b,v,a.spatialReference)){n.pointToVector(x,p,a.spatialReference)||(b=a.extent.center,p[0]=b.x,p[1]=b.y,p[2]=b.z,m.error("Failed to project specified origin (wkid:"+x.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+
"). Using mesh extent.center instead"));if(x=a.vertexAttributes.position)for(b=0;b<x.length;b+=3)for(y=0;3>y;y++)x[b+y]+=v[y]-p[y];a.clearCache()}else m.error("Failed to project centerAt location (wkid:"+b.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+")")}};var c=h.vec3d.create(),k=h.vec3d.create(),g=h.mat4d.create(),f=h.mat4d.create()})},"esri/geometry/support/meshUtils/projection":function(){define(["require","exports","../../../core/Logger","../../../views/3d/lib/glMatrix",
"../../../views/3d/support/projectionUtils"],function(a,b,r,d,h){function n(a,b,p,m,n,y){if(b){n=n.isWGS84;for(var u=0;u<b.length;u+=3){for(var e=0;3>e;e++)c[e]=m[u+e],k[e]=b[u+e];h.computeLinearTransformation(h.SphericalECEFSpatialReference,c,g,h.SphericalECEFSpatialReference);d.mat4d.toMat3(g,f);n?d.mat3d.multiplyVec3(f,k):(e=h.webMercator.y2lat(p[u+1]),e=Math.cos(e),0===a&&(e=1/e),f[0]*=e,f[1]*=e,f[2]*=e,f[3]*=e,f[4]*=e,f[5]*=e,1===a&&d.mat3d.transpose(f),d.mat3d.multiplyVec3(f,k),d.vec3d.normalize(k));
for(e=0;3>e;e++)y[u+e]=k[e]}return y}}Object.defineProperty(b,"__esModule",{value:!0});var m=r.getLogger("esri.geometry.support.meshUtils.normalProjection");b.projectNormalToECEF=function(a,b,c,f,g){return f.isWebMercator||f.isWGS84?n(0,a,b,c,f,g):(m.error("Cannot convert PCS spatial reference buffer to ECEF"),g)};b.projectNormalFromECEF=function(a,b,c,f,g){return f.isWebMercator||f.isWGS84?n(1,a,b,c,f,g):(m.error("Cannot convert to PCS spatial reference buffer from ECEF"),g)};b.projectToECEF=function(a,
b,c){h.bufferToBuffer(a,b,0,c,h.SphericalECEFSpatialReference,0,a.length/3);return c};b.projectFromECEF=function(a,b,c){h.bufferToBuffer(a,h.SphericalECEFSpatialReference,0,b,c,0,a.length/3);return b};b.transformBufferInPlace=function(a,b,f){void 0===f&&(f=!1);if(a)for(var g=0;g<a.length;g+=3){for(var p=0;3>p;p++)c[p]=a[g+p];d.mat4d.multiplyVec3(b,c);f&&d.vec3d.normalize(c);for(p=0;3>p;p++)a[g+p]=c[p]}};var c=d.vec3d.create(),k=d.vec3d.create(),g=d.mat4d.create(),f=d.mat3d.create()})},"esri/views/3d/lib/glMatrix":function(){define([],
function(){var a={};(function(a,r){r(a,!0);r(a,!1)})(a,function(a,r){var b={};(function(){if("undefined"!=typeof Float32Array){var a=new Float32Array(1),l=new Int32Array(a.buffer);b.invsqrt=function(b){a[0]=b;l[0]=1597463007-(l[0]>>1);var e=a[0];return e*(1.5-.5*b*e*e)}}else b.invsqrt=function(a){return 1/Math.sqrt(a)}})();var h=Array;"undefined"!=typeof Float32Array&&(h=r?Float32Array:Array);var n={create:function(a){var b=new h(3);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2]):b[0]=b[1]=b[2]=0;return b},createFrom:function(a,
b,c){var e=new h(3);e[0]=a;e[1]=b;e[2]=c;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},set3:function(a,b,c,f){f[0]=a;f[1]=b;f[2]=c;return f},add:function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},subtract:function(a,b,c){if(!c||a===c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},multiply:function(a,b,c){if(!c||a===c)return a[0]*=b[0],a[1]*=b[1],a[2]*=
b[2],a;c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},max:function(a,b,c){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},min:function(a,b,c){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var e=a[0],
l=a[1];a=a[2];var c=Math.sqrt(e*e+l*l+a*a);if(!c)return b[0]=0,b[1]=0,b[2]=0,b;if(1===c)return b[0]=e,b[1]=l,b[2]=a,b;c=1/c;b[0]=e*c;b[1]=l*c;b[2]=a*c;return b},cross:function(a,b,c){c||(c=a);var e=a[0],l=a[1];a=a[2];var f=b[0],g=b[1];b=b[2];c[0]=l*b-a*g;c[1]=a*f-e*b;c[2]=e*g-l*f;return c},length:function(a){var b=a[0],e=a[1];a=a[2];return Math.sqrt(b*b+e*e+a*a)},length2:function(a){var b=a[0],e=a[1];a=a[2];return b*b+e*e+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,
b,c){c||(c=a);var e=a[0]-b[0],l=a[1]-b[1];a=a[2]-b[2];b=Math.sqrt(e*e+l*l+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=e*b;c[1]=l*b;c[2]=a*b;return c},lerp:function(a,b,c,f){f||(f=a);f[0]=a[0]+c*(b[0]-a[0]);f[1]=a[1]+c*(b[1]-a[1]);f[2]=a[2]+c*(b[2]-a[2]);return f},dist:function(a,b){var e=b[0]-a[0],l=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(e*e+l*l+a*a)},dist2:function(a,b){var e=b[0]-a[0],l=b[1]-a[1];a=b[2]-a[2];return e*e+l*l+a*a}},m=null,c=new h(4);n.unproject=function(a,b,f,g,p){p||(p=a);
m||(m=A.create());var e=m;c[0]=2*(a[0]-g[0])/g[2]-1;c[1]=2*(a[1]-g[1])/g[3]-1;c[2]=2*a[2]-1;c[3]=1;A.multiply(f,b,e);if(!A.inverse(e))return null;A.multiplyVec4(e,c);if(0===c[3])return null;p[0]=c[0]/c[3];p[1]=c[1]/c[3];p[2]=c[2]/c[3];return p};var k=n.createFrom(1,0,0),g=n.createFrom(0,1,0),f=n.createFrom(0,0,1);n.rotationTo=function(a,b,c){c||(c=w.create());var e=n.dot(a,b),l=n.create();if(1<=e)w.set(y,c);else if(-.999999>e)n.cross(k,a,l),1E-6>l.length&&n.cross(g,a,l),1E-6>l.length&&n.cross(f,a,
l),n.normalize(l),w.fromAxisAngle(l,Math.PI,c);else{var e=Math.sqrt(2*(1+e)),p=1/e;n.cross(a,b,l);c[0]=l[0]*p;c[1]=l[1]*p;c[2]=l[2]*p;c[3]=.5*e;w.normalize(c)}1<c[3]?c[3]=1:-1>c[3]&&(c[3]=-1);return c};var v=n.create(),x=n.create();n.project=function(a,b,c,f){f||(f=a);n.direction(b,c,v);n.subtract(a,b,x);a=n.dot(v,x);n.scale(v,a,f);n.add(f,b,f)};n.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var p={create:function(a){var b=new h(9);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=
a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8]):b[0]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=0;return b},createFrom:function(a,b,c,f,g,p,d,u,k){var e=new h(9);e[0]=a;e[1]=b;e[2]=c;e[3]=f;e[4]=g;e[5]=p;e[6]=d;e[7]=u;e[8]=k;return e},determinant:function(a){var b=a[3],e=a[4],c=a[5],f=a[6],g=a[7],p=a[8];return a[0]*(p*e-c*g)+a[1]*(-p*b+c*f)+a[2]*(g*b-e*f)},inverse:function(a,b){var e=a[0],l=a[1],c=a[2],f=a[3],g=a[4],d=a[5],u=a[6],k=a[7];a=a[8];var h=a*g-d*k,v=-a*f+d*u,m=k*f-g*u,x=e*h+l*v+c*m;if(!x)return null;x=
1/x;b||(b=p.create());b[0]=h*x;b[1]=(-a*l+c*k)*x;b[2]=(d*l-c*g)*x;b[3]=v*x;b[4]=(a*e-c*u)*x;b[5]=(-d*e+c*f)*x;b[6]=m*x;b[7]=(-k*e+l*u)*x;b[8]=(g*e-l*f)*x;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],l=a[1],f=a[2],g=a[3],p=a[4],d=a[5],u=a[6],k=a[7];a=a[8];var B=b[0],h=b[1],v=b[2],x=b[3],m=b[4],n=b[5],A=b[6],w=b[7];b=b[8];c[0]=B*e+h*g+v*u;c[1]=B*l+h*p+v*k;c[2]=B*f+h*d+v*a;c[3]=x*e+m*g+n*u;c[4]=x*l+m*p+n*k;c[5]=x*f+m*d+n*a;c[6]=A*e+w*g+b*u;c[7]=A*l+w*p+b*k;c[8]=A*f+w*d+b*a;return c},add:function(a,
b,c){c||(c=a);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];c[4]=a[4]+b[4];c[5]=a[5]+b[5];c[6]=a[6]+b[6];c[7]=a[7]+b[7];c[8]=a[8]+b[8];return c},subtract:function(a,b,c){c||(c=a);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];c[4]=a[4]-b[4];c[5]=a[5]-b[5];c[6]=a[6]-b[6];c[7]=a[7]-b[7];c[8]=a[8]-b[8];return c},multiplyVec2:function(a,b,c){c||(c=b);var e=b[0];b=b[1];c[0]=e*a[0]+b*a[3]+a[6];c[1]=e*a[1]+b*a[4]+a[7];return c},multiplyVec3:function(a,b,c){c||(c=b);var e=b[0],
l=b[1];b=b[2];c[0]=e*a[0]+l*a[3]+b*a[6];c[1]=e*a[1]+l*a[4]+b*a[7];c[2]=e*a[2]+l*a[5]+b*a[8];return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},identity:function(a){a||(a=p.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var e=a[2],l=a[5];a[1]=a[3];a[2]=a[6];a[3]=b;a[5]=a[7];a[6]=e;a[7]=l;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];
b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,b){b||(b=A.create());b[15]=1;b[14]=0;b[13]=0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},A={create:function(a){var b=new h(16);4===arguments.length?(b[0]=arguments[0],b[1]=arguments[1],b[2]=arguments[2],b[3]=arguments[3],b[4]=arguments[4],
b[5]=arguments[5],b[6]=arguments[6],b[7]=arguments[7],b[8]=arguments[8],b[9]=arguments[9],b[10]=arguments[10],b[11]=arguments[11],b[12]=arguments[12],b[13]=arguments[13],b[14]=arguments[14],b[15]=arguments[15]):a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b},createFrom:function(a,b,c,f,g,p,d,u,k,v,x,m,n,A,w,y){var e=new h(16);e[0]=a;e[1]=b;e[2]=c;e[3]=f;e[4]=g;
e[5]=p;e[6]=d;e[7]=u;e[8]=k;e[9]=v;e[10]=x;e[11]=m;e[12]=n;e[13]=A;e[14]=w;e[15]=y;return e},createFromMatrixRowMajor:function(a){var b=new h(16);b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},createFromMatrix:function(a){var b=new h(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=
a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},setRowMajor:function(a,b){b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},identity:function(a){a||(a=A.create());a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var e=a[2],c=a[3],l=a[6],f=a[7],g=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=b;a[6]=a[9];a[7]=a[13];a[8]=e;a[9]=l;a[11]=a[14];a[12]=c;a[13]=f;a[14]=g;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},
determinant:function(a){var b=a[0],e=a[1],c=a[2],f=a[3],g=a[4],p=a[5],d=a[6],u=a[7],k=a[8],h=a[9],v=a[10],x=a[11],m=a[12],n=a[13],A=a[14];a=a[15];return m*h*d*f-k*n*d*f-m*p*v*f+g*n*v*f+k*p*A*f-g*h*A*f-m*h*c*u+k*n*c*u+m*e*v*u-b*n*v*u-k*e*A*u+b*h*A*u+m*p*c*x-g*n*c*x-m*e*d*x+b*n*d*x+g*e*A*x-b*p*A*x-k*p*c*a+g*h*c*a+k*e*d*a-b*h*d*a-g*e*v*a+b*p*v*a},inverse:function(a,b){b||(b=a);var e=a[0],c=a[1],l=a[2],f=a[3],g=a[4],p=a[5],d=a[6],u=a[7],k=a[8],h=a[9],v=a[10],x=a[11],m=a[12],n=a[13],A=a[14];a=a[15];var w=
e*p-c*g,y=e*d-l*g,r=e*u-f*g,O=c*d-l*p,V=c*u-f*p,T=l*u-f*d,fa=k*n-h*m,U=k*A-v*m,W=k*a-x*m,la=h*A-v*n,na=h*a-x*n,ka=v*a-x*A,ba=w*ka-y*na+r*la+O*W-V*U+T*fa;if(!ba)return null;ba=1/ba;b[0]=(p*ka-d*na+u*la)*ba;b[1]=(-c*ka+l*na-f*la)*ba;b[2]=(n*T-A*V+a*O)*ba;b[3]=(-h*T+v*V-x*O)*ba;b[4]=(-g*ka+d*W-u*U)*ba;b[5]=(e*ka-l*W+f*U)*ba;b[6]=(-m*T+A*r-a*y)*ba;b[7]=(k*T-v*r+x*y)*ba;b[8]=(g*na-p*W+u*fa)*ba;b[9]=(-e*na+c*W-f*fa)*ba;b[10]=(m*V-n*r+a*w)*ba;b[11]=(-k*V+h*r-x*w)*ba;b[12]=(-g*la+p*U-d*fa)*ba;b[13]=(e*la-
c*U+l*fa)*ba;b[14]=(-m*O+n*y-A*w)*ba;b[15]=(k*O-h*y+v*w)*ba;return b},toRotationMat:function(a,b){b||(b=A.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toMat3:function(a,b){b||(b=p.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},toInverseMat3:function(a,b){var e=a[0],c=a[1],l=a[2],f=a[4],g=a[5],d=a[6],u=a[8],
k=a[9];a=a[10];var h=a*g-d*k,v=-a*f+d*u,x=k*f-g*u,m=e*h+c*v+l*x;if(!m)return null;m=1/m;b||(b=p.create());b[0]=h*m;b[1]=(-a*c+l*k)*m;b[2]=(d*c-l*g)*m;b[3]=v*m;b[4]=(a*e-l*u)*m;b[5]=(-d*e+l*f)*m;b[6]=x*m;b[7]=(-k*e+c*u)*m;b[8]=(g*e-c*f)*m;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],l=a[1],f=a[2],g=a[3],p=a[4],d=a[5],u=a[6],k=a[7],h=a[8],v=a[9],B=a[10],m=a[11],x=a[12],n=a[13],A=a[14];a=a[15];var w=b[0],y=b[1],r=b[2],V=b[3],T=b[4],fa=b[5],U=b[6],W=b[7],la=b[8],na=b[9],ka=b[10],ba=b[11],va=
b[12],sa=b[13],Ma=b[14];b=b[15];c[0]=w*e+y*p+r*h+V*x;c[1]=w*l+y*d+r*v+V*n;c[2]=w*f+y*u+r*B+V*A;c[3]=w*g+y*k+r*m+V*a;c[4]=T*e+fa*p+U*h+W*x;c[5]=T*l+fa*d+U*v+W*n;c[6]=T*f+fa*u+U*B+W*A;c[7]=T*g+fa*k+U*m+W*a;c[8]=la*e+na*p+ka*h+ba*x;c[9]=la*l+na*d+ka*v+ba*n;c[10]=la*f+na*u+ka*B+ba*A;c[11]=la*g+na*k+ka*m+ba*a;c[12]=va*e+sa*p+Ma*h+b*x;c[13]=va*l+sa*d+Ma*v+b*n;c[14]=va*f+sa*u+Ma*B+b*A;c[15]=va*g+sa*k+Ma*m+b*a;return c},multiplyVec3:function(a,b,c){c||(c=b);var e=b[0],l=b[1];b=b[2];c[0]=a[0]*e+a[4]*l+a[8]*
b+a[12];c[1]=a[1]*e+a[5]*l+a[9]*b+a[13];c[2]=a[2]*e+a[6]*l+a[10]*b+a[14];return c},multiplyVec4:function(a,b,c){c||(c=b);var e=b[0],l=b[1],f=b[2];b=b[3];c[0]=a[0]*e+a[4]*l+a[8]*f+a[12]*b;c[1]=a[1]*e+a[5]*l+a[9]*f+a[13]*b;c[2]=a[2]*e+a[6]*l+a[10]*f+a[14]*b;c[3]=a[3]*e+a[7]*l+a[11]*f+a[15]*b;return c},translate:function(a,b,c){var e=b[0],l=b[1];b=b[2];var f,g,p,d,u,k,h,v,m,x,B,n;if(!c||a===c)return a[12]=a[0]*e+a[4]*l+a[8]*b+a[12],a[13]=a[1]*e+a[5]*l+a[9]*b+a[13],a[14]=a[2]*e+a[6]*l+a[10]*b+a[14],a[15]=
a[3]*e+a[7]*l+a[11]*b+a[15],a;f=a[0];g=a[1];p=a[2];d=a[3];u=a[4];k=a[5];h=a[6];v=a[7];m=a[8];x=a[9];B=a[10];n=a[11];c[0]=f;c[1]=g;c[2]=p;c[3]=d;c[4]=u;c[5]=k;c[6]=h;c[7]=v;c[8]=m;c[9]=x;c[10]=B;c[11]=n;c[12]=f*e+u*l+m*b+a[12];c[13]=g*e+k*l+x*b+a[13];c[14]=p*e+h*l+B*b+a[14];c[15]=d*e+v*l+n*b+a[15];return c},scale:function(a,b,c){var e=b[0],l=b[1];b=b[2];if(!c||a===c)return a[0]*=e,a[1]*=e,a[2]*=e,a[3]*=e,a[4]*=l,a[5]*=l,a[6]*=l,a[7]*=l,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*e;c[1]=a[1]*e;c[2]=
a[2]*e;c[3]=a[3]*e;c[4]=a[4]*l;c[5]=a[5]*l;c[6]=a[6]*l;c[7]=a[7]*l;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))},rotate:function(a,b,c,f){var e=c[0],l=c[1];c=c[2];var g=Math.sqrt(e*e+l*l+c*c),p,d,u,k,h,v,m,x,B,n,A,w,z,y,r,T,fa,U,W,la;if(!g)return null;1!==g&&(g=1/
g,e*=g,l*=g,c*=g);p=Math.sin(b);d=Math.cos(b);u=1-d;b=a[0];g=a[1];k=a[2];h=a[3];v=a[4];m=a[5];x=a[6];B=a[7];n=a[8];A=a[9];w=a[10];z=a[11];y=e*e*u+d;r=l*e*u+c*p;T=c*e*u-l*p;fa=e*l*u-c*p;U=l*l*u+d;W=c*l*u+e*p;la=e*c*u+l*p;e=l*c*u-e*p;l=c*c*u+d;f?a!==f&&(f[12]=a[12],f[13]=a[13],f[14]=a[14],f[15]=a[15]):f=a;f[0]=b*y+v*r+n*T;f[1]=g*y+m*r+A*T;f[2]=k*y+x*r+w*T;f[3]=h*y+B*r+z*T;f[4]=b*fa+v*U+n*W;f[5]=g*fa+m*U+A*W;f[6]=k*fa+x*U+w*W;f[7]=h*fa+B*U+z*W;f[8]=b*la+v*e+n*l;f[9]=g*la+m*e+A*l;f[10]=k*la+x*e+w*l;f[11]=
h*la+B*e+z*l;return f},rotateX:function(a,b,c){var e=Math.sin(b);b=Math.cos(b);var l=a[4],f=a[5],g=a[6],p=a[7],d=a[8],u=a[9],k=a[10],h=a[11];c?a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=l*b+d*e;c[5]=f*b+u*e;c[6]=g*b+k*e;c[7]=p*b+h*e;c[8]=l*-e+d*b;c[9]=f*-e+u*b;c[10]=g*-e+k*b;c[11]=p*-e+h*b;return c},rotateY:function(a,b,c){var e=Math.sin(b);b=Math.cos(b);var l=a[0],f=a[1],g=a[2],p=a[3],d=a[8],u=a[9],k=a[10],h=a[11];c?a!==c&&(c[4]=a[4],
c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=l*b+d*-e;c[1]=f*b+u*-e;c[2]=g*b+k*-e;c[3]=p*b+h*-e;c[8]=l*e+d*b;c[9]=f*e+u*b;c[10]=g*e+k*b;c[11]=p*e+h*b;return c},rotateZ:function(a,b,c){var e=Math.sin(b);b=Math.cos(b);var l=a[0],f=a[1],g=a[2],p=a[3],d=a[4],u=a[5],k=a[6],h=a[7];c?a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=l*b+d*e;c[1]=f*b+u*e;c[2]=g*b+k*e;c[3]=p*b+h*e;c[4]=l*-e+d*b;c[5]=f*-e+
u*b;c[6]=g*-e+k*b;c[7]=p*-e+h*b;return c},frustum:function(a,b,c,f,g,p,d){d||(d=A.create());var e=b-a,l=f-c,u=p-g;d[0]=2*g/e;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*g/l;d[6]=0;d[7]=0;d[8]=(b+a)/e;d[9]=(f+c)/l;d[10]=-(p+g)/u;d[11]=-1;d[12]=0;d[13]=0;d[14]=-(p*g*2)/u;d[15]=0;return d},perspective:function(a,b,c,f,g){a=c*Math.tan(a*Math.PI/360);b*=a;return A.frustum(-b,b,-a,a,c,f,g)},ortho:function(a,b,c,f,g,d,p){p||(p=A.create());var e=b-a,l=f-c,u=d-g;p[0]=2/e;p[1]=0;p[2]=0;p[3]=0;p[4]=0;p[5]=2/l;p[6]=0;
p[7]=0;p[8]=0;p[9]=0;p[10]=-2/u;p[11]=0;p[12]=-(a+b)/e;p[13]=-(f+c)/l;p[14]=-(d+g)/u;p[15]=1;return p},lookAt:function(a,b,c,f){f||(f=A.create());var e,l,g,p,d,u,k,h,v=a[0],m=a[1];a=a[2];g=c[0];p=c[1];l=c[2];k=b[0];c=b[1];e=b[2];if(v===k&&m===c&&a===e)return A.identity(f);b=v-k;c=m-c;k=a-e;h=1/Math.sqrt(b*b+c*c+k*k);b*=h;c*=h;k*=h;e=p*k-l*c;l=l*b-g*k;g=g*c-p*b;(h=Math.sqrt(e*e+l*l+g*g))?(h=1/h,e*=h,l*=h,g*=h):g=l=e=0;p=c*g-k*l;d=k*e-b*g;u=b*l-c*e;(h=Math.sqrt(p*p+d*d+u*u))?(h=1/h,p*=h,d*=h,u*=h):
u=d=p=0;f[0]=e;f[1]=p;f[2]=b;f[3]=0;f[4]=l;f[5]=d;f[6]=c;f[7]=0;f[8]=g;f[9]=u;f[10]=k;f[11]=0;f[12]=-(e*v+l*m+g*a);f[13]=-(p*v+d*m+u*a);f[14]=-(b*v+c*m+k*a);f[15]=1;return f},fromRotationTranslation:function(a,b,c){c||(c=A.create());var e=a[0],l=a[1],f=a[2],g=a[3],p=e+e,d=l+l,u=f+f;a=e*p;var k=e*d,e=e*u,h=l*d,l=l*u,f=f*u,p=g*p,d=g*d,g=g*u;c[0]=1-(h+f);c[1]=k+g;c[2]=e-d;c[3]=0;c[4]=k-g;c[5]=1-(a+f);c[6]=l+p;c[7]=0;c[8]=e+d;c[9]=l-p;c[10]=1-(a+h);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},
str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},w={create:function(a){var b=new h(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,f){var e=new h(4);e[0]=a;e[1]=b;e[2]=c;e[3]=f;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=w.create());a[0]=0;
a[1]=0;a[2]=0;a[3]=1;return a}},y=w.identity();w.calculateW=function(a,b){var c=a[0],e=a[1],l=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-c*c-e*e-l*l)),a;b[0]=c;b[1]=e;b[2]=l;b[3]=-Math.sqrt(Math.abs(1-c*c-e*e-l*l));return b};w.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};w.inverse=function(a,b){var c=a[0],e=a[1],l=a[2],f=a[3],c=(c=c*c+e*e+l*l+f*f)?1/c:0;if(!b||a===b)return a[0]*=-c,a[1]*=-c,a[2]*=-c,a[3]*=c,a;b[0]=-a[0]*c;b[1]=-a[1]*c;b[2]=-a[2]*c;b[3]=a[3]*c;return b};
w.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};w.length=function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return Math.sqrt(b*b+c*c+e*e+a*a)};w.normalize=function(a,b){b||(b=a);var c=a[0],e=a[1],l=a[2];a=a[3];var f=Math.sqrt(c*c+e*e+l*l+a*a);if(0===f)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;f=1/f;b[0]=c*f;b[1]=e*f;b[2]=l*f;b[3]=a*f;return b};w.add=function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;
c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};w.multiply=function(a,b,c){c||(c=a);var e=a[0],f=a[1],l=a[2];a=a[3];var g=b[0],p=b[1],d=b[2];b=b[3];c[0]=e*b+a*g+f*d-l*p;c[1]=f*b+a*p+l*g-e*d;c[2]=l*b+a*d+e*p-f*g;c[3]=a*b-e*g-f*p-l*d;return c};w.multiplyVec3=function(a,b,c){c||(c=b);var e=b[0],f=b[1],l=b[2];b=a[0];var g=a[1],p=a[2];a=a[3];var d=a*e+g*l-p*f,u=a*f+p*e-b*l,k=a*l+b*f-g*e,e=-b*e-g*f-p*l;c[0]=d*a+e*-b+u*-p-k*-g;c[1]=u*a+e*-g+k*-b-d*-p;c[2]=k*a+e*-p+d*-g-u*-b;return c};
w.scale=function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};w.toMat3=function(a,b){b||(b=p.create());var c=a[0],e=a[1],f=a[2],l=a[3],g=c+c,d=e+e,u=f+f;a=c*g;var k=c*d,c=c*u,h=e*d,e=e*u,f=f*u,g=l*g,d=l*d,l=l*u;b[0]=1-(h+f);b[1]=k+l;b[2]=c-d;b[3]=k-l;b[4]=1-(a+f);b[5]=e+g;b[6]=c+d;b[7]=e-g;b[8]=1-(a+h);return b};w.toMat4=function(a,b){b||(b=A.create());var c=a[0],e=a[1],f=a[2],l=a[3],g=c+c,p=e+e,d=f+f;a=c*g;var u=c*p,c=c*d,
k=e*p,e=e*d,f=f*d,g=l*g,p=l*p,l=l*d;b[0]=1-(k+f);b[1]=u+l;b[2]=c-p;b[3]=0;b[4]=u-l;b[5]=1-(a+f);b[6]=e+g;b[7]=0;b[8]=c+p;b[9]=e-g;b[10]=1-(a+k);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};w.slerp=function(a,b,c,f){f||(f=a);var e=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],l,g;if(1<=Math.abs(e))return f!==a&&(f[0]=a[0],f[1]=a[1],f[2]=a[2],f[3]=a[3]),f;l=Math.acos(e);g=Math.sqrt(1-e*e);if(.001>Math.abs(g))return f[0]=.5*a[0]+.5*b[0],f[1]=.5*a[1]+.5*b[1],f[2]=.5*a[2]+.5*b[2],f[3]=.5*a[3]+.5*b[3],f;
e=Math.sin((1-c)*l)/g;c=Math.sin(c*l)/g;f[0]=a[0]*e+b[0]*c;f[1]=a[1]*e+b[1]*c;f[2]=a[2]*e+b[2]*c;f[3]=a[3]*e+b[3]*c;return f};w.fromRotationMatrix=function(a,b){b||(b=w.create());var c=a[0]+a[4]+a[8],e;if(0<c)e=Math.sqrt(c+1),b[3]=.5*e,e=.5/e,b[0]=(a[7]-a[5])*e,b[1]=(a[2]-a[6])*e,b[2]=(a[3]-a[1])*e;else{e=w.fromRotationMatrix.s_iNext=w.fromRotationMatrix.s_iNext||[1,2,0];c=0;a[4]>a[0]&&(c=1);a[8]>a[3*c+c]&&(c=2);var f=e[c],l=e[f];e=Math.sqrt(a[3*c+c]-a[3*f+f]-a[3*l+l]+1);b[c]=.5*e;e=.5/e;b[3]=(a[3*
l+f]-a[3*f+l])*e;b[f]=(a[3*f+c]+a[3*c+f])*e;b[l]=(a[3*l+c]+a[3*c+l])*e}return b};p.toQuat4=w.fromRotationMatrix;(function(){var a=p.create();w.fromAxes=function(b,c,e,f){a[0]=c[0];a[3]=c[1];a[6]=c[2];a[1]=e[0];a[4]=e[1];a[7]=e[2];a[2]=b[0];a[5]=b[1];a[8]=b[2];return w.fromRotationMatrix(a,f)}})();w.identity=function(a){a||(a=w.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};w.fromAngleAxis=function(a,b,c){c||(c=w.create());a*=.5;var e=Math.sin(a);c[3]=Math.cos(a);c[0]=e*b[0];c[1]=e*b[1];c[2]=e*b[2];
return c};w.toAngleAxis=function(a,c){c||(c=a);var e=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];0<e?(c[3]=2*Math.acos(a[3]),e=b.invsqrt(e),c[0]=a[0]*e,c[1]=a[1]*e,c[2]=a[2]*e):(c[3]=0,c[0]=1,c[1]=0,c[2]=0);return c};w.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var u={create:function(a){var b=new h(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,f){var e=new h(4);e[0]=a;e[1]=b;e[2]=c;e[3]=f;return e},set:function(a,b){b[0]=a[0];b[1]=
a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=u.create());a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,b){b||(b=a);var c=a[0],e=a[1],f=a[2];a=a[3];var l=c*a-f*e;if(!l)return null;l=1/l;b[0]=a*l;b[1]=-e*l;b[2]=-f*l;b[3]=c*l;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],f=a[1],l=a[2];a=a[3];c[0]=
e*b[0]+f*b[2];c[1]=e*b[1]+f*b[3];c[2]=l*b[0]+a*b[2];c[3]=l*b[1]+a*b[3];return c},rotate:function(a,b,c){c||(c=a);var e=a[0],f=a[1],l=a[2];a=a[3];var g=Math.sin(b);b=Math.cos(b);c[0]=e*b+f*g;c[1]=e*-g+f*b;c[2]=l*b+a*g;c[3]=l*-g+a*b;return c},multiplyVec2:function(a,b,c){c||(c=b);var e=b[0];b=b[1];c[0]=e*a[0]+b*a[1];c[1]=e*a[2]+b*a[3];return c},scale:function(a,b,c){c||(c=a);var e=a[1],f=a[2],l=a[3],g=b[0];b=b[1];c[0]=a[0]*g;c[1]=e*b;c[2]=f*g;c[3]=l*b;return c},str:function(a){return"["+a[0]+", "+a[1]+
", "+a[2]+", "+a[3]+"]"}};r=r?"":"d";a["glMath"+r]=b;a["vec2"+r]={create:function(a){var b=new h(2);a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0);return b},createFrom:function(a,b){var c=new h(2);c[0]=a;c[1]=b;return c},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},
scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;return c},dist:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)},dist2:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,c){c[0]=a;c[1]=b;return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];0<c?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0;return b},cross:function(a,
b,c){a=a[0]*b[1]-a[1]*b[0];if(!c)return a;c[0]=c[1]=0;c[2]=a;return c},length:function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,c){c||(c=a);var e=a[0]-b[0];a=a[1]-b[1];b=e*e+a*a;if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/Math.sqrt(b);c[0]=e*b;c[1]=a*b;return c},lerp:function(a,b,c,f){f||(f=a);f[0]=a[0]+c*(b[0]-a[0]);f[1]=a[1]+c*(b[1]-a[1]);return f},str:function(a){return"["+a[0]+", "+a[1]+"]"}};a["vec3"+r]=n;a["vec4"+r]={create:function(a){var b=
new h(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},createFrom:function(a,b,c,f){var e=new h(4);e[0]=a;e[1]=b;e[2]=c;e[3]=f;return e},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c},divide:function(a,b,
c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},set4:function(a,b,c,f,g){g[0]=a;g[1]=b;g[2]=c;g[3]=f;return g},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},lerp:function(a,b,c,f){f||(f=a);f[0]=a[0]+c*(b[0]-
a[0]);f[1]=a[1]+c*(b[1]-a[1]);f[2]=a[2]+c*(b[2]-a[2]);f[3]=a[3]+c*(b[3]-a[3]);return f},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+r]=u;a["mat3"+r]=p;a["mat4"+r]=A;a["quat4"+r]=w});return a})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../lib/glMatrix ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),function(a,
b,r,d,h,n,m,c,k){function g(a,b,c,e){2===a.length?(E[0]=a[0],E[1]=a[1],E[2]=0,a=E):a===c&&(n.vec3d.set(a,E),a=E);return f(a,b,0,c,e,0,1)}function f(a,b,c,f,g,p,d){void 0===d&&(d=1);y!==b&&(u=v(b),y=b);e!==g&&(l=v(g),e=g);d=c+3*d;if(u!==l||u===w.UNKNOWN&&!b.equals(g))if(u>w.UNKNOWN&&l>w.UNKNOWN)if(l!==w.WGS84)if(b=B[l],u!==w.WGS84)for(g=z[u];c<d;c+=3,p+=3)g(a,c,M,0),b(M,0,f,p);else for(;c<d;c+=3,p+=3)b(a,c,f,p);else for(g=z[u];c<d;c+=3,p+=3)g(a,c,f,p);else return!1;else if(f!==a||c!==p)for(;c<d;c++,
p++)f[p]=a[c];return!0}function v(a){return a.wkt===b.SphericalECEFSpatialReference.wkt?w.SPHERICAL_ECEF:a.isWGS84?w.WGS84:a.isWebMercator?w.WEBMERC:a.wkt===b.WGS84ECEFSpatialReference.wkt?w.WGS84_ECEF:w.UNKNOWN}function x(a,b,c,e){c[e++]=a[b++];c[e++]=a[b++];c[e]=a[b]}function p(a,b,e,f){var g=.4999999*Math.PI,g=c.clamp(C*a[b+1],-g,g),g=Math.sin(g);e[f++]=C*a[b]*G;e[f++]=G/2*Math.log((1+g)/(1-g));e[f]=a[b+2]}function A(a,b,c,e){var f=G+a[b+2],g=C*a[b+1];a=C*a[b];b=Math.cos(g);c[e++]=Math.cos(a)*
b*f;c[e++]=Math.sin(a)*b*f;c[e]=Math.sin(g)*f}Object.defineProperty(b,"__esModule",{value:!0});b.SphericalECEFSpatialReference=new d({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new d({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var w;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";a[a.WGS84=2]="WGS84";a[a.WEBMERC=3]="WEBMERC";a[a.WGS84_ECEF=4]="WGS84_ECEF"})(w||(w={}));var y,u,e,l;b.vectorToVector=g;b.pointToVector=function(a,b,c){E[0]=a.x;E[1]=a.y;var e=a.z;E[2]=void 0!==e?e:0;return f(E,a.spatialReference,0,b,c,0,1)};b.vectorToPoint=function(a,b,c,e){"esri.geometry.SpatialReference"===c.declaredClass?(e=c,c=new r({spatialReference:e})):e=e||c.spatialReference;return f(a,b,0,E,e,0,1)?(c.x=E[0],
c.y=E[1],c.z=E[2],c.spatialReference=e,c):null};b.xyzToVector=function(a,b,c,e,g,p){E[0]=a;E[1]=b;E[2]=c;return f(E,e,0,g,p,0,1)};b.bufferToBuffer=f;b.computeLinearTransformation=function(a,b,c,e){var f=v(a),g=v(e);if(f===g&&g!==w.SPHERICAL_ECEF&&(f!==w.UNKNOWN||a.equals(e)))return n.mat4d.identity(c),n.mat4d.translate(c,b),!0;if(g===w.SPHERICAL_ECEF){if(a=z[f])return a(b,0,M,0),A(M,0,ma,0),e=C*M[0],a=C*M[1],b=Math.sin(e),e=Math.cos(e),f=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-f*e,c[8]=a*e,c[12]=
ma[0],c[1]=e,c[5]=-f*b,c[9]=a*b,c[13]=ma[1],c[2]=0,c[6]=a,c[10]=f,c[14]=ma[2],c[3]=0,c[7]=0,c[11]=0,c[15]=1,!0}else if(g===w.WEBMERC&&(f===w.WGS84||f===w.SPHERICAL_ECEF))return z[f](b,0,M,0),b=C*M[1],p(M,0,ma,0),n.mat4d.identity(c),n.mat4d.translate(c,ma),b=1/Math.cos(b),n.mat4d.scale(c,[b,b,1]),!0;return!1};b.transformDirection=function(a,b,c,e,f){n.vec3d.set(a,ga);n.vec3d.add(a,b,X);g(ga,c,ga,f);g(X,c,X,f);n.vec3d.subtract(X,ga,e);n.vec3d.normalize(e)};b.mbsToMbs=function(a,b,c,e){var f=v(b),g=
v(e);if(f===g&&(f!==w.UNKNOWN||b.equals(e)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(g===w.SPHERICAL_ECEF){if(b=z[f])return b(a,0,M,0),A(M,0,c,0),c[3]=a[3],!0}else if(g===w.WEBMERC&&(f===w.WGS84||f===w.SPHERICAL_ECEF))return z[f](a,0,M,0),b=Math.abs(C*M[1])+Math.asin(a[3]/(G+a[2])),p(M,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};b.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var e;E[0]=null!=a.xmin?a.xmin:0;E[1]=null!=a.ymin?a.ymin:0;E[2]=null!=
a.zmin?a.zmin:0;e=f(E,a.spatialReference,0,b,c,0,1);E[0]=null!=a.xmax?a.xmax:0;E[1]=null!=a.ymax?a.ymax:0;E[2]=null!=a.zmax?a.zmax:0;e=e&&f(E,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return e};b.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var e;E[0]=null!=a.xmin?a.xmin:0;E[1]=null!=a.ymin?a.ymin:0;E[2]=null!=a.zmin?
a.zmin:0;e=f(E,a.spatialReference,0,E,c,0,1);b[0]=E[0];b[1]=E[1];E[0]=null!=a.xmax?a.xmax:0;E[1]=null!=a.ymax?a.ymax:0;E[2]=null!=a.zmax?a.zmax:0;e=e&&f(E,a.spatialReference,0,E,c,0,1);b[2]=E[0];b[3]=E[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return e};b.boundingRectToBoundingRect=function(a,b,c,e){if(null==a)return!1;if(b.equals(e))return h.set(c,a),!0;var g;E[0]=a[0];E[1]=a[1];E[2]=0;g=f(E,b,0,E,e,0,1);c[0]=E[0];
c[1]=E[1];E[0]=a[2];E[1]=a[3];E[2]=0;g=g&&f(E,b,0,E,e,0,1);c[2]=E[0];c[3]=E[1];return g};(function(a){a.x2lon=function(a){return a/G};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/G))};a.lon2x=function(a){return a*G};a.lat2y=function(a){a=Math.sin(a);return G/2*Math.log((1+a)/(1-a))}})(b.webMercator||(b.webMercator={}));var B=[void 0,A,x,p,function(a,b,c,e){var f=I,g=C*a[b],p=C*a[b+1];a=a[b+2];b=Math.sin(p);var p=Math.cos(p),d=f.a/Math.sqrt(1-f.e2*b*b);c[e++]=(d+a)*p*Math.cos(g);
c[e++]=(d+a)*p*Math.sin(g);c[e++]=(d*(1-f.e2)+a)*b}],z=[void 0,function(a,b,e,f){var g=k.Vec3Compact.length(a,b),p=c.asin(a[b+2]/g);a=(0<a[b+1]?1:-1)*c.acos(a[b]/(Math.cos(p)*g));e[f++]=F*a;e[f++]=F*p;e[f]=g-G},x,function(a,b,c,e){c[e++]=F*(a[b++]/G);c[e++]=F*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/G)));c[e]=a[b]},function(a,b,c,e){var f=I,g=a[b],p=a[b+1];a=a[b+2];var d,l,u,k,h,v;b=Math.abs(a);d=g*g+p*p;l=Math.sqrt(d);u=d+a*a;k=Math.sqrt(u);g=Math.atan2(p,g);h=a*a/u;u=d/u;p=f.a2/k;d=f.a3-f.a4/k;
.3<u?(h=b/k*(1+u*(f.a1+p+h*d)/k),k=Math.asin(h),p=h*h,u=Math.sqrt(1-p)):(u=l/k*(1-h*(f.a5-p-u*d)/k),k=Math.acos(u),p=1-u*u,h=Math.sqrt(p));v=1-f.e2*p;p=f.a/Math.sqrt(v);f=f.a6*p;p=l-p*u;d=b-f*h;b=u*p+h*d;l=u*d-h*p;f=l/(f/v+b);k+=f;0>a&&(k=-k);c[e++]=F*g;c[e++]=F*k;c[e]=b+l*f/2}],C=c.deg2rad(1),F=c.rad2deg(1),G=m.earthRadius,I={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},E=n.vec3d.create(),
M=n.vec3d.create(),ma=n.vec3d.create(),ga=n.vec3d.create(),X=n.vec3d.create()})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../geometry"],function(a,b,r){function d(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function h(a){return a[0]>=a[2]?0:a[2]-a[0]}function n(a){return a[1]>=a[3]?0:a[3]-a[1]}function m(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function c(a){return 4===a.length}function k(a,b,c){return a<b?b:a>c?c:a}Object.defineProperty(b,
"__esModule",{value:!0});b.create=d;b.fromValues=function(a,b,c,k,p){void 0===p&&(p=d());p[0]=a;p[1]=b;p[2]=c;p[3]=k;return p};b.fromExtent=function(a,b){void 0===b&&(b=d());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};b.toExtent=function(a,b){return new r.Extent({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};b.expand=function(a,b,d){void 0===
d&&(d=a);if("length"in b)if(c(b))d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[2]),d[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[0]),d[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":d[0]=Math.min(a[0],b.xmin);d[1]=Math.min(a[1],b.ymin);d[2]=Math.max(a[2],b.xmax);d[3]=Math.max(a[3],b.ymax);break;case "point":d[0]=Math.min(a[0],b.x),d[1]=Math.min(a[1],b.y),d[2]=Math.max(a[2],b.x),
d[3]=Math.max(a[3],b.y)}return d};b.expandWithNestedArray=function(a,b,c){void 0===c&&(c=a);var f=b.length,p=a[0],d=a[1],g=a[2];a=a[3];for(var k=0;k<f;k++){var u=b[k],p=Math.min(p,u[0]),d=Math.min(d,u[1]),g=Math.max(g,u[0]);a=Math.max(a,u[1])}c[0]=p;c[1]=d;c[2]=g;c[3]=a;return c};b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=h;b.height=n;b.area=function(a){return h(a)*n(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+h(a)/2;b[1]=a[1]+n(a)/2;return b};
b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,b,c){void 0===c&&(c=a);var f=b[0],p=b[1],d=b[2];b=b[3];c[0]=k(a[0],f,d);c[1]=k(a[1],p,b);
c[2]=k(a[2],f,d);c[3]=k(a[3],p,b);return c};b.offset=function(a,b,c,d){void 0===d&&(d=a);d[0]=a[0]+b;d[1]=a[1]+c;d[2]=a[2]+b;d[3]=a[3]+c;return d};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};b.setMax=function(a,b,c){void 0===c&&(c=a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};b.set=m;b.empty=function(a){return a?m(a,b.NEGATIVE_INFINITY):d(b.NEGATIVE_INFINITY)};b.is=c;b.isPoint=function(a){return(0===h(a)||!isFinite(a[0]))&&
(0===n(a)||!isFinite(a[1]))};b.equals=function(a,b,d){if(null==a||null==b)return a===b;if(!c(a)||!c(b))return!1;if(d)for(var f=0;f<a.length;f++){if(!d(a[f],b[f]))return!1}else for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0]})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ../lib/glMatrix ./mathUtils".split(" "),
function(a,b,r,d,h,n,m){function c(a,c,f,d){var p,g;a instanceof r&&c instanceof r&&(f=c.longitude,d=c.latitude,g=a.latitude,p=a.longitude);a=m.deg2rad(g);d=m.deg2rad(d);p=m.deg2rad(p);c=m.deg2rad(f);f=Math.sin((a-d)/2);p=Math.sin((p-c)/2);f=2*m.asin(Math.sqrt(f*f+Math.cos(a)*Math.cos(d)*p*p))*b.earthRadius;return Math.round(1E4*f)/1E4}function k(a,c,f){a=f/b.earthRadius;c=m.deg2rad(c);a=Math.sin(a/2);c=Math.cos(c);c=2*m.asin(Math.sqrt(a*a/(c*c)));return m.rad2deg(c)}function g(a,c,f){return m.rad2deg(f/
b.earthRadius)}function f(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215;b.earthRadius=b.wgs84Radius;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;var v=new r(0,0,
d.WGS84);b.getGreatCircleDistance=c;b.getGreatCircleSpanAt=function(a,b,f){var d=b.spatialReference,p=new r(b.x,a.y,d),g=new r(f.x,a.y,d);b=new r(a.x,b.y,d);a=new r(a.x,f.y,d);return{lon:c(p,g),lat:c(b,a)}};b.getLonDeltaForDistance=k;b.getLatDeltaForDistance=g;b.getLatLonDeltaForDistance=function(a,b,c){return{lat:g(a,b,c),lon:k(a,b,c)}};b.getMaxCameraAltitude=function(a){a=m.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=m.deg2rad(c/2);return 2*
m.acos((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*b.earthRadius))*b.earthRadius};b.computeCarthesianDistance=function(a,c){function f(a){var c=m.deg2rad(a.latitude),f=m.deg2rad(a.longitude),e=Math.cos(c);a=b.earthRadius+(a.z||0);return[Math.cos(f)*e*a,Math.sin(c)*a,-Math.sin(f)*e*a]}a=f(a);c=f(c);c=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];return Math.sqrt(c[0]*
c[0]+c[1]*c[1]+c[2]*c[2])};b.longitudeToTimezone=f;b.positionToTimezone=function(a,b){a.spatialReference.wkid!==d.WGS84.wkid?h.webMercatorToGeographic(a,!1,v):(v.x=a.x,v.y=a.y);v.z=a.z;b||(b={hours:0,minutes:0,seconds:0});b.hours=f(v.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;a=n.vec3d.dot(a,a);return Math.sqrt(Math.abs(a-c*c))}})},"esri/views/3d/support/mathUtils":function(){define(["require",
"exports","../lib/glMatrix"],function(a,b,r){function d(a){return Math.asin(1<a?1:-1>a?-1:a)}function h(a){return Math.acos(1<a?1:-1>a?-1:a)}function n(a,b,c){return a<b?b:a>c?c:a}function m(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=d;b.acos=h;b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/
Math.LN2};b.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};b.makeOrthonormal=function(a,b,c){c=c||a;var f=r.vec3d.dot(a,b);r.vec3d.set3(a[0]-f*b[0],a[1]-f*b[1],a[2]-f*b[2],c);r.vec3d.normalize(c)};b.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?r.vec3d.set3(0,1,0,b):r.vec3d.set3(1,0,0,b);r.vec3d.cross(a,b,c);r.vec3d.normalize(b);r.vec3d.cross(c,a,b);r.vec3d.normalize(c)};b.cartesianToSpherical=function(a,
b){var c=r.vec3d.length(a),f=d(a[2]/c);r.vec3d.set3(c,f,Math.atan2(a[1]/c,a[0]/c),b)};b.sphericalToCartesian=function(a,b){var c=a[0],f=a[1];a=a[2];var d=Math.cos(f);r.vec3d.set3(c*d*Math.cos(a),c*d*Math.sin(a),c*Math.sin(f),b)};b.lerp=function(a,b,c){return a+(b-a)*c};b.bilerp=function(a,b,c,d,g,k){a+=(b-a)*g;return a+(c+(d-c)*g-a)*k};b.slerp=function(a,b,c,d){void 0===d&&(d=a);var f=r.vec3d.length(a),p=r.vec3d.length(b),h=r.vec3d.dot(a,b)/(f*p);if(.9999999999999999>h){var h=Math.acos(h),u=((1-c)*
f+c*p)/Math.sin(h),p=u/p*Math.sin(c*h);r.vec3d.scale(a,u/f*Math.sin((1-c)*h),k);r.vec3d.scale(b,p,g);return r.vec3d.add(k,g,d)}return r.vec3d.lerp(a,b,c,d)};b.angle=function(a,b,d){a=r.vec3d.normalize(a,k);b=r.vec3d.normalize(b,g);var f=h(r.vec3d.dot(a,b));return d&&(a=r.vec3d.cross(a,b,c),0>r.vec3d.dot(a,d))?-f:f};b.clamp=n;b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};b.isNaN=Number.isNaN||function(a){return a!==a};b.makePiecewiseLinearFunction=function(a){var b=
a.length;return function(c){var f=0;if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(;c>a[f][0];)f++;var d=a[f][0];c=(d-c)/(d-a[f-1][0]);return c*a[f-1][1]+(1-c)*a[f][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.floatEqualRelative=function(a,c,d){void 0===d&&(d=1E-6);if(b.isNaN(a)||b.isNaN(c))return!1;if(a===c)return!0;var f=Math.abs(a-c),g=Math.abs(a),k=Math.abs(c);
if(0===a||0===c||1E-12>g&&1E-12>k){if(f>.01*d)return!1}else if(f/(g+k)>d)return!1;return!0};b.floatEqualAbsolute=function(a,c,d){void 0===d&&(d=1E-6);return b.isNaN(a)||b.isNaN(c)?!1:(a>c?a-c:c-a)<=d};a=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,f){void 0===f&&(f=0);c-=f;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+f};a.prototype.normalize=
function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return n(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.contains=function(a,b,c){b=
this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();b.Cyclical=a;b.cyclical2PI=m(new a(0,2*Math.PI));b.cyclicalPI=m(new a(-Math.PI,Math.PI));b.cyclicalDeg=m(new a(0,360));var c=r.vec3d.create(),k=r.vec3d.create(),g=r.vec3d.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var d=a[b],h=a[b+1];a=a[b+2];return Math.sqrt(d*
d+h*h+a*a)};a.normalize=function(a,b){var d=a[b],h=a[b+1],c=a[b+2],d=1/Math.sqrt(d*d+h*h+c*c);a[b]*=d;a[b+1]*=d;a[b+2]*=d};a.scale=function(a,b,n){a[b]*=n;a[b+1]*=n;a[b+2]*=n};a.add=function(a,b,n,m,c,k){void 0===k&&(k=b);c=c||a;c[k]=a[b]+n[m];c[k+1]=a[b+1]+n[m+1];c[k+2]=a[b+2]+n[m+2]};a.subtract=function(a,b,n,m,c,k){void 0===k&&(k=b);c=c||a;c[k]=a[b]-n[m];c[k+1]=a[b+1]-n[m+1];c[k+2]=a[b+2]-n[m+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"esri/geometry/support/meshUtils/offset":function(){define(["require",
"exports","./projection","../../../views/3d/lib/glMatrix","../../../views/3d/support/projectionUtils"],function(a,b,r,d,h){function n(a,b){if(a)for(var c=0;c<a.length;c+=3)for(var f=0;3>f;f++)a[c+f]+=b[f]}Object.defineProperty(b,"__esModule",{value:!0});b.offset=function(a,b,v){if(a.vertexAttributes&&a.vertexAttributes.position){var f=a.spatialReference;if(f.isWGS84||f.isWebMercator&&(!v||!1!==v.geographic)){v=a.spatialReference;var f=a.vertexAttributes.position,g=a.vertexAttributes.normal,A=new Float64Array(f.length),
w=new Float32Array(g?g.length:0),y=a.extent.center,u=m;h.computeLinearTransformation(v,[y.x,y.y,y.z],c,h.SphericalECEFSpatialReference);d.mat4d.toMat3(c,k);d.mat3d.multiplyVec3(k,b,u);r.projectToECEF(f,v,A);g&&r.projectNormalToECEF(g,f,A,v,w);n(A,u);r.projectFromECEF(A,f,v);g&&r.projectNormalFromECEF(w,f,A,v,g)}else n(a.vertexAttributes.position,b);a.clearCache()}};var m=d.vec3d.create(),c=d.mat4d.create(),k=d.mat3d.create()})},"esri/geometry/support/meshUtils/primitives":function(){define(["require",
"exports","../../../geometry","./georeference","../../../views/3d/lib/glMatrix"],function(a,b,r,d,h){Object.defineProperty(b,"__esModule",{value:!0});b.createUnitSizeBox=function(){for(var a=m.faceDescriptions,b=m.faceVertexOffsets,c=m.uvScales,d=4*a.length,p=new Float64Array(3*d),k=new Float32Array(3*d),d=new Float32Array(2*d),h=new Uint32Array(6*a.length),n=0,u=0,e=0,l=0,B=0;B<a.length;B++){for(var z=a[B],r=n/3,F=0,G=b;F<G.length;F++){var I=G[F];h[l++]=r+I}r=z.corners;for(F=0;4>F;F++){G=r[F];I=
0;d[e++]=.25*c[F][0]+z.uvOrigin[0];d[e++]=z.uvOrigin[1]-.25*c[F][1];for(var E=0;3>E;E++)0!==z.axis[E]?(p[n++]=.5*z.axis[E],k[u++]=z.axis[E]):(p[n++]=.5*G[I++],k[u++]=0)}}return{position:p,normal:k,uv:d,faces:h}};b.createUnitSizeSphere=function(a){void 0===a&&(a=0);a=Math.round(8*Math.pow(2,a));for(var b=2*a,d=(a-1)*(b+1)+2*b,g=new Float64Array(3*d),p=new Float32Array(3*d),d=new Float32Array(2*d),k=new Uint32Array((a-1)*b*6),h=0,m=0,u=0,e=0,l=0,n=0;n<=a;n++){var z=n/a*Math.PI+.5*Math.PI,r=Math.cos(z);
c[2]=Math.sin(z);for(var F=(z=0===n||n===a)?b-1:b,G=0;G<=F;G++){var I=G/F*2*Math.PI;c[0]=-Math.sin(I)*r;c[1]=Math.cos(I)*r;for(I=0;3>I;I++)g[h++]=.5*c[I],p[m++]=c[I];d[u++]=(G+(z?.5:0))/b;d[u++]=n/a;0!==n&&G!==b&&(n!==a&&(k[e++]=l,k[e++]=l+1,k[e++]=l-b),1!==n&&(k[e++]=l,k[e++]=l-b,k[e++]=l-b-1));l++}}return{position:g,normal:p,uv:d,faces:k}};b.createUnitSizeCylinder=function(a){void 0===a&&(a=0);a=Math.round(16*Math.pow(2,a));for(var b=4*(a+1)+2*a,d=new Float64Array(3*b),g=new Float32Array(3*b),b=
new Float32Array(2*b),p=new Uint32Array(12*a),k=0,h=0,m=0,u=0,e=0,l=0;5>=l;l++)for(var n=0===l||5===l,z=1>=l||4<=l,r=2===l||4===l,F=n?a-1:a,G=0;G<=F;G++){var I=G/F*2*Math.PI,E=n?0:.5;c[0]=E*Math.sin(I);c[1]=E*-Math.cos(I);c[2]=2>=l?.5:-.5;for(I=0;3>I;I++)d[k++]=c[I],z?g[h++]=2===I?1>=l?1:-1:0:g[h++]=2===I?0:c[I]/E;b[m++]=(G+(n?.5:0))/a;1>=l?b[m++]=1*l/3:3>=l?b[m++]=1*(l-2)/3+1/3:b[m++]=1*(l-4)/3+2/3;r||0===l||G===a||(5!==l&&(p[u++]=e,p[u++]=e+1,p[u++]=e-a),1!==l&&(p[u++]=e,p[u++]=e-a,p[u++]=e-a-1));
e++}return{position:d,normal:g,uv:b,faces:p}};b.createUnitSizePlane=function(a){a=n.facingAxisOrderSwap[a];for(var b=n.position,c=n.normal,d=new Float64Array(b.length),p=new Float32Array(c.length),g=0,k=0;4>k;k++)for(var h=g,u=0;3>u;u++){var e=a[u],l=Math.abs(e)-1,e=0<=e?1:-1;d[g]=b[h+l]*e;p[g]=c[h+l]*e;g++}return{position:d,normal:p,uv:new Float32Array(n.uv),faces:new Uint32Array(n.faces)}};var n={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],
faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};b.convertUnitGeometry=function(a,b,m){for(var f=0;f<a.position.length;f+=3)a.position[f+2]+=.5;f=m&&m.size;if(null!=f){f="number"===typeof f?[f,f,f]:[null!=f.width?f.width:1,null!=f.depth?f.depth:1,null!=f.height?f.height:1];k[0]=f[0];k[4]=f[1];k[8]=f[2];for(var p=0;p<a.position.length;p+=3){for(var g=0;3>g;g++)c[g]=a.position[p+g];h.mat3d.multiplyVec3(k,c);for(g=0;3>g;g++)a.position[p+
g]=c[g]}if(f[0]!==f[1]||f[1]!==f[2])for(k[0]=1/f[0],k[4]=1/f[1],k[8]=1/f[2],p=0;p<a.normal.length;p+=3){for(g=0;3>g;g++)c[g]=a.normal[p+g];h.mat3d.multiplyVec3(k,c);h.vec3d.normalize(c);for(g=0;3>g;g++)a.normal[p+g]=c[g]}}f=d.georeference(a,b,m);return new r.Mesh({vertexAttributes:{position:f.position,normal:f.normal,uv:a.uv},components:[{faces:a.faces,material:m&&m.material||null}],spatialReference:b.spatialReference})};var m={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,
-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]};b.boxFaceOrder={south:0,east:1,north:2,west:3,up:4,
down:5};var c=h.vec3d.create(),k=h.mat3d.identity()})},"esri/geometry/support/meshUtils/georeference":function(){define(["require","exports","../../../views/3d/lib/glMatrix","../../../views/3d/support/projectionUtils"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});b.georeference=function(a,b,k){var c=b.spatialReference;if(c.isWGS84||c.isWebMercator&&(!k||!1!==k.geographic)){k=b.spatialReference;d.computeLinearTransformation(b.spatialReference,[b.x,b.y,b.z||0],h,d.SphericalECEFSpatialReference);
var c=a.position,f=h,m=b.spatialReference,x=new Float64Array(c.length);for(b=0;b<c.length;b+=3){for(var p=0;3>p;p++)n[p]=c[b+p];r.mat4d.multiplyVec3(f,n);for(p=0;3>p;p++)x[b+p]=n[p]}b=new Float64Array(c.length);d.bufferToBuffer(x,d.SphericalECEFSpatialReference,0,b,m,0,x.length/3);a=a.normal;if(k.isWebMercator&&a){k=new Float32Array(a.length);for(c=0;c<a.length;c+=3)for(f=d.webMercator.y2lat(b[c+1]),f=Math.cos(f),n[0]=a[c+0]*f,n[1]=a[c+1]*f,n[2]=a[c+2],r.vec3d.normalize(n),f=0;3>f;f++)k[c+f]=n[f];
a=k}a={position:b,normal:a}}else{k=new Float64Array(a.position.length);c=a.position;for(f=0;f<c.length;f+=3)k[f+0]=c[f+0]+b.x,k[f+1]=c[f+1]+b.y,k[f+2]=c[f+2]+(b.z||0);a={position:k,normal:a.normal}}return a};var h=r.mat4d.create(),n=r.vec3d.create()})},"esri/geometry/support/meshUtils/rotate":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/glMatrix ../../../views/3d/support/projectionUtils".split(" "),function(a,b,r,d,h,n){function m(a,b,c){void 0===c&&(c=
A);if(a)for(h.mat4d.identity(x),h.mat4d.rotate(x,b[3],b),b=0;b<a.length;b+=3){for(var e=0;3>e;e++)k[e]=a[b+e]-c[e];h.mat4d.multiplyVec3(x,k);for(e=0;3>e;e++)a[b+e]=k[e]+c[e]}}Object.defineProperty(b,"__esModule",{value:!0});var c=r.getLogger("esri.geometry.support.meshUtils.rotate");b.rotate=function(a,b,e){if(a.vertexAttributes&&a.vertexAttributes.position&&0!==b[3]){var f=a.spatialReference,u=e&&e.origin||a.extent.center;if(f.isWGS84||f.isWebMercator&&(!e||!1!==e.geographic)){e=a.spatialReference;
f=w;n.pointToVector(u,f,n.SphericalECEFSpatialReference)||n.pointToVector(a.extent.center,f,n.SphericalECEFSpatialReference);var u=a.vertexAttributes.position,k=a.vertexAttributes.normal,v=new Float64Array(u.length),A=new Float32Array(k?k.length:0);n.computeLinearTransformation(n.SphericalECEFSpatialReference,f,x,n.SphericalECEFSpatialReference);h.mat4d.toMat3(x,p);var y=h.mat3d.multiplyVec3(p,b,g);y[3]=b[3];d.projectToECEF(u,e,v);k&&d.projectNormalToECEF(k,u,v,e,A);m(v,y,f);d.projectFromECEF(v,u,
e);k&&(m(A,y),d.projectNormalFromECEF(A,u,v,e,k))}else e=w,n.pointToVector(u,e,a.spatialReference)||(f=a.extent.center,e[0]=f.x,e[1]=f.y,e[2]=f.z,c.error("Failed to project specified origin (wkid:"+u.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+"). Using mesh extent.center instead")),m(a.vertexAttributes.position,b,e),m(a.vertexAttributes.normal,b);a.clearCache()}};b.axisAngleFrom=function(a,b,c){h.vec3d.set(a,c);c[3]=b;return c};b.axisAngleMultiply=function(a,
b,c){h.quat4d.fromAngleAxis(a[3],a,f);h.quat4d.fromAngleAxis(b[3],b,v);h.quat4d.multiply(v,f,f);h.quat4d.toAngleAxis(f,c);return c};var k=h.vec3d.create(),g=h.vec4d.create(),f=h.quat4d.create(),v=h.quat4d.create(),x=h.mat4d.create(),p=h.mat3d.create(),A=[0,0,0],w=[0,0,0]})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g){function f(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}r(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new m,c=this.hasZ,d=this.hasM,e=c?3:2,p=a[0],g=f(Math.min),k=f(Math.max),h=p[0],n=p[1],v=p[0],p=p[1],x,r,M,ma,ga=0,X=a.length;ga<
X;ga++){var Q=a[ga],ja=Q[0],aa=Q[1],h=g(h,ja),n=g(n,aa),v=k(v,ja),p=k(p,aa);c&&2<Q.length&&(ja=Q[2],x=g(x,ja),M=k(M,ja));d&&Q.length>e&&(Q=Q[e],r=g(r,Q),ma=k(ma,Q))}b.xmin=h;b.ymin=n;b.xmax=v;b.ymax=p;b.spatialReference=this.spatialReference;c?(b.zmin=x,b.zmax=M):(b.zmin=null,b.zmax=null);d?(b.mmin=r,b.mmax=ma):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b,c,f){b.points=h.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();
g.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:h.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new c(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new k(b)};b.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new k(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();g.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};d([n.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],
b.prototype,"cache",void 0);d([n.property({dependsOn:["cache"]})],b.prototype,"extent",null);d([n.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);d([n.writer("points")],b.prototype,"writePoints",null);return b=c=d([n.subclass("esri.geometry.Multipoint")],b);var c}(n.declared(c));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});
b.updateSupportFromPoint=function(a,b,h){void 0===h&&(h=!1);var d=a.hasM,m=a.hasZ;Array.isArray(b)?4!==b.length||d||m?3===b.length&&h&&!d?(m=!0,d=!1):3===b.length&&d&&m&&(m=d=!1):m=d=!0:(m=!m&&b.hasZ&&(!d||b.hasM),d=!d&&b.hasM&&(!m||b.hasZ));a.hasZ=m;a.hasM=d}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w){function y(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var u=y(Math.min),e=y(Math.max);a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}r(b,a);c=b;b.createEllipse=function(a){var b=a.center.x,e=a.center.y,f=a.center.z,d=a.center.m,p=a.center.hasZ,g=a.center.hasM,l=a.longAxis,u=a.shortAxis,k=a.numberOfPoints;a=a.view;for(var h=[],m=2*Math.PI/k,n=p?3:2,v=0;v<k;v++){var x=
a.toMap(l*Math.cos(v*m)+b,u*Math.sin(v*m)+e),x=[x.x,x.y];p&&(x[2]=f);g&&(x[n]=d);h.push(x)}h.push(h[0]);return new c({rings:[h],spatialReference:a.spatialReference})};b.createCircle=function(a){return c.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var e=!1,f=!1;b.map(function(a){a.hasZ&&(e=!0);a.hasM&&(f=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,
a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e&&a.hasZ)for(var c=a.zmin+.5*(a.zmax-a.zmin),d=0;d<b.length;d++)b[d].push(c);if(f&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),d=0;d<b.length;d++)b[d].push(a);return b}),spatialReference:a};e&&(b.hasZ=!0);f&&(b.hasM=!0);return new c(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,e,f,d=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,f=a.hasM):c=a;c=c||[];b=b||g.WGS84;
c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(d=c[0]&&c[0][0])void 0===e&&void 0===f?(e=2<d.length,f=!1):void 0===e?e=!f&&3<d.length:void 0===f&&(f=!e&&3<d.length);return{rings:c,spatialReference:b,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=f.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new k;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,c=this.spatialReference,f=this.rings,d=a?3:2;if(!f.length||!f[0].length)return null;for(var p=f[0][0],g=p[0],p=p[1],l=f[0][0],k=l[0],l=l[1],h=void 0,n=void 0,v=void 0,x=void 0,A=[],w=0;w<f.length;w++){for(var y=f[w],B=y[0],r=B[0],B=B[1],z=y[0],fa=z[0],z=z[1],U=void 0,W=void 0,la=void 0,na=void 0,ka=0;ka<y.length;ka++){var ba=y[ka],va=ba[0],sa=ba[1],g=u(g,va),p=u(p,sa),k=e(k,va),l=e(l,sa),r=u(r,
va),B=u(B,sa),fa=e(fa,va),z=e(z,sa);a&&2<ba.length&&(va=ba[2],h=u(h,va),n=e(n,va),U=u(U,va),W=e(W,va));b&&ba.length>d&&(na=ba[d],v=u(h,na),x=e(n,na),la=u(U,na),na=e(W,na))}A.push(new m({xmin:r,ymin:B,zmin:U,mmin:la,xmax:fa,ymax:z,zmax:W,mmax:na,spatialReference:c}))}f=new m;f.xmin=g;f.ymin=p;f.xmax=k;f.ymax=l;f.spatialReference=c;a&&(f.zmin=h,f.zmax=n);b&&(f.mmin=v,f.mmax=x);f.cache._partwise=1<A.length?A:null;return f},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",
{get:function(){return p.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,e){b.rings=h.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=[],f=0,d=a.length;f<d;f++)e[f]=a[f].toArray();b[c]=e}return this}};b.prototype.clone=function(){var a=new c;a.spatialReference=this.spatialReference;a.rings=h.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;
return a};b.prototype.contains=function(a){if(!a)return!1;A.canProject(a,this.spatialReference)&&(a=A.project(a,this.spatialReference));return v.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return x.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&
!c?new k(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new k(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new k(a[0],a[1],a[2],a[3],this.spatialReference):new k(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();w.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();
return new k(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new k(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();w.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,
b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};d([n.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);d([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",null);d([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);d([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,
"isSelfIntersecting",null);d([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);d([n.writer("rings")],b.prototype,"writePaths",null);return b=c=d([n.subclass("esri.geometry.Polygon")],b);var c}(n.declared(c));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports","../support/coordsUtils"],function(a,b,r){function d(a,b){if(!a||!a.length)return null;for(var c=[],d=[],f=b?[Infinity,-Infinity,Infinity,
-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],m=0,x=a.length;m<x;m++){var p=h(a[m],b,f);p&&d.push(p)}d.sort(function(a,c){var f=a[2]-c[2];0===f&&b&&(f=a[4]-c[4]);return f});d.length&&(m=6*d[0][2],c[0]=d[0][0]/m,c[1]=d[0][1]/m,b&&(m=6*d[0][4],c[2]=0!==m?d[0][3]/m:0),c[0]<f[0]||c[0]>f[1]||c[1]<f[2]||c[1]>f[3]||b&&(c[2]<f[4]||c[2]>f[5]))&&(c.length=0);if(!c.length)if(a=a[0]&&a[0].length?n(a[0],b):null)c[0]=a[0],c[1]=a[1],b&&2<a.length&&(c[2]=a[2]);else return null;return c}function h(a,
b,d){for(var c=0,f=0,k=0,h=0,p=0,m=0,n=a.length-1;m<n;m++){var y=a[m],u=y[0],e=y[1],l=y[2],B=a[m+1],r=B[0],C=B[1],F=B[2],G=u*C-r*e,h=h+G,c=c+(u+r)*G,f=f+(e+C)*G;b&&2<y.length&&2<B.length&&(G=u*F-r*l,k+=(l+F)*G,p+=G);u<d[0]&&(d[0]=u);u>d[1]&&(d[1]=u);e<d[2]&&(d[2]=e);e>d[3]&&(d[3]=e);b&&(l<d[4]&&(d[4]=l),l>d[5]&&(d[5]=l))}0<h&&(h*=-1);0<p&&(p*=-1);if(!h)return null;a=[c,f,.5*h];b&&(a[3]=k,a[4]=.5*p);return a}function n(a,b){for(var c=b?[0,0,0]:[0,0],d=b?[0,0,0]:[0,0],f=0,h=0,m=0,p=0,n=0,w=a.length;n<
w-1;n++){var y=a[n],u=a[n+1];y&&u&&(c[0]=y[0],c[1]=y[1],d[0]=u[0],d[1]=u[1],b&&2<y.length&&2<u.length&&(c[2]=y[2],d[2]=u[2]),length=r.getLength(c,d))&&(f+=length,y=r.getMidpoint(y,u),h+=length*y[0],m+=length*y[1],b&&2<y.length&&(p+=length*y[2]))}return 0<f?b?[h/f,m/f,p/f]:[h/f,m/f]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=
function(a){return a?d(a.rings,a.hasZ):null};b.ringsCentroid=d;b.lineCentroid=n})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/zmUtils".split(" "),function(a,b,r,d,h,n,m,c,k,g,f){function v(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var x=v(Math.min),p=v(Math.max);a=function(a){function b(){for(var b=
0;b<arguments.length;b++);b=a.call(this)||this;b.paths=[];b.type="polyline";return b}r(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,e,f,d=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),e=a.hasZ,f=a.hasM):c=a;c=c||[];b=b||g.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(d=c[0]&&c[0][0])void 0===e&&void 0===f?(e=2<d.length,f=!1):void 0===e?e=!f&&3<d.length:void 0===f&&(f=!e&&3<d.length);return{paths:c,
spatialReference:b,hasZ:e,hasM:f}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,c=this.spatialReference,f=this.paths,d=a?3:2;if(!f.length||!f[0].length)return null;for(var g=f[0][0],k=g[0],g=g[1],h=f[0][0],n=h[0],h=h[1],v=void 0,A=void 0,w=void 0,y=void 0,r=[],Q=0;Q<f.length;Q++){for(var ja=f[Q],aa=ja[0],ra=aa[0],aa=aa[1],S=ja[0],J=S[0],S=S[1],Y=void 0,O=void 0,V=void 0,T=void 0,fa=0;fa<ja.length;fa++){var U=ja[fa],W=U[0],la=U[1],k=x(k,W),g=x(g,la),n=p(n,
W),h=p(h,la),ra=x(ra,W),aa=x(aa,la),J=p(J,W),S=p(S,la);a&&2<U.length&&(W=U[2],v=x(v,W),A=p(A,W),Y=x(Y,W),O=p(O,W));b&&U.length>d&&(T=U[d],w=x(v,T),y=p(A,T),V=x(Y,T),T=p(O,T))}r.push(new m({xmin:ra,ymin:aa,zmin:Y,mmin:V,xmax:J,ymax:S,zmax:O,mmax:T,spatialReference:c}))}f=new m;f.xmin=k;f.ymin=g;f.xmax=n;f.ymax=h;f.spatialReference=c;a&&(f.zmin=v,f.zmax=A);b&&(f.mmin=w,f.mmax=y);f.cache._partwise=1<r.length?r:null;return f},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,f){b.paths=
h.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var f=[],d=0,p=a.length;d<p;d++)f[d]=a[d].toArray();b[c]=f}return this}};b.prototype.clone=function(){var a=new c;a.spatialReference=this.spatialReference;a.paths=h.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;
return b&&!c?new k(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new k(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new k(a[0],a[1],a[2],a[3],this.spatialReference):new k(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;
this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new k(a,b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new k(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();f.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=
function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};d([n.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);d([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);d([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);d([n.writer("paths")],b.prototype,"writePaths",
null);return b=c=d([n.subclass("esri.geometry.Polyline")],b);var c}(n.declared(c));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/ScreenPoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,b,r,d,h,n){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;return b}r(b,
a);k=b;b.prototype.normalizeCtorArgs=function(a,b){return"number"===typeof a?{x:a,y:b}:Array.isArray(a)?{x:a[0],y:a[1]}:a};b.prototype.clone=function(){return new k({x:this.x,y:this.y,z:this.z})};b.prototype.toArray=function(){return null==this.z?[this.x,this.y]:[this.x,this.y,this.z]};d([n.property({type:Number})],b.prototype,"x",void 0);d([n.property({type:Number})],b.prototype,"y",void 0);d([n.property({type:Number})],b.prototype,"z",void 0);return b=k=d([n.subclass("esri.geometry.ScreenPoint")],
b);var k}(n.declared(h))})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,r,d,h,n,m){function c(a){if(a){if(void 0!==a.x&&void 0!==a.y)return h.fromJSON(a);if(void 0!==a.paths)return m.fromJSON(a);if(void 0!==a.rings)return n.fromJSON(a);if(void 0!==a.points)return d.fromJSON(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return r.fromJSON(a)}return null}Object.defineProperty(b,
"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(f){console.warn(f.stack)}return c(a)};b.fromJSON=c;b.getJsonType=function(a){return a instanceof h?"esriGeometryPoint":a instanceof m?"esriGeometryPolyline":a instanceof n?"esriGeometryPolygon":a instanceof r?"esriGeometryEnvelope":a instanceof d?"esriGeometryMultipoint":null};var k={esriGeometryPoint:h,esriGeometryPolyline:m,esriGeometryPolygon:n,esriGeometryEnvelope:r,esriGeometryMultipoint:d};
b.getGeometryType=function(a){return a&&k[a]||null}})},"esri/request":function(){define("require exports dojo/Deferred dojo/has!host-browser?./core/request/script dojo/has!host-webworker?./core/workers/request dojo/io-query dojo/_base/lang dojo/_base/url dojo/request/xhr ./config ./core/deferredUtils ./core/Error ./core/global ./core/lang ./core/promiseUtils ./core/sniff ./core/urlUtils".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y){function u(a){var b=n.objectToQuery(a.content);b&&(a.url+=
(-1===a.url.indexOf("?")?"?":"\x26")+b);if(!y.isDataProtocol(a.url)&&2E3<a.url.length)return A.reject(m.mixin(Error(),{message:"When using responseType 'image', URL length cannot exceed 2000 characters."}));var c=new Image;a.allowImageDataAccess&&(c.crossOrigin=a.withCredentials?"use-credentials":"anonymous");var e=!1,f=new r(function(){e=!0;c.onload=c.onerror=c.onabort=null;c.src=""}),b=function(){c.onload=c.onerror=c.onabort=null;e||f.reject(Error("Unable to load the resource"))};c.onload=function(){c.onload=
c.onerror=c.onabort=null;e||f.resolve(this)};c.onerror=b;c.onabort=b;c.alt="";c.src=a.url;return f.promise}function e(a){a=new c(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function l(){return aa?aa:aa=A.create(function(b){a(["./identity/IdentityManager"],b)}).then(function(a){ja=a})}function B(a,b){var c=!!a.useProxy,e=a.method||"auto",f=p.isDefined(a.crossOrigin)?a.crossOrigin:M.useCors;a=m.mixin({},a);a._ssl&&(a.url=a.url.replace(/^http:/i,"https:"));var g=a.content,l=a.url;a._token&&
(a.content=a.content||{},a.content.token=a._token);var h=0,v;l&&(v=n.objectToQuery(g),h=v.length+l.length+1,w("esri-url-encodes-apostrophe")&&(h=v.replace(/'/g,"%27").length+l.length+1));a.timeout=p.isDefined(a.timeout)?a.timeout:M.timeout;a.handleAs=a.handleAs||"json";try{var x=v=void 0,A=f&&y.canUseXhr(a.urlObj)&&!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(a.url),B=y.hasSameOrigin(a.urlObj,y.appUrl)||A,z="post"===e||!!a.body||h>M.maxUrlLength,G=!B&&-1!==a.handleAs.indexOf("json")&&a.callbackParamName&&
!a.body,C=!!y.getProxyRule(a.url)||M.forceProxy||c||("image"!==a.handleAs||a.allowImageDataAccess)&&(!G||z)&&!B;C&&(y.isBlobProtocol(a.url)||y.isDataProtocol(a.url))&&(C=!1);if((w("host-browser")||w("host-webworker"))&&C)if(v=y.getProxyUrl(l,f),x=v.path,v._xo&&(A=!0),!z&&x.length+1+h>M.maxUrlLength&&(z=!0),a.url=x+"?"+l,z)a.content=m.mixin(v.query||{},g);else{var ma=n.objectToQuery(m.mixin(v.query||{},g));ma&&(a.url+=(-1===l.indexOf("?")?"?":"\x26")+ma);a.content=null}if(G&&!z&&!C&&w("host-browser"))return a=
E?E(a):a,a.jsonp=a.callbackParamName,a.query=a.content,d.get(a.url,a);var F=a.headers;!w("host-browser")&&!w("host-webworker")||F&&F.hasOwnProperty("X-Requested-With")||(F=a.headers=F||{},F["X-Requested-With"]=null);if(w("host-browser")&&b){var X=a.content&&a.content.token;X&&(b.set?b.set("token",X):b.append("token",X));a.contentType=!1}if(A&&!a.hasOwnProperty("withCredentials")&&"with-credentials"===M.useCors){var c=C?x:l,Q=y.getCorsConfig(c);if(Q&&Q.hasOwnProperty("withCredentials"))Q.withCredentials&&
(a.withCredentials=!0);else if(ja){var I=ja.findServerInfo(c);I&&I.webTierAuth&&(a.withCredentials=!0)}}a=E?E(a):a;if("image"===a.handleAs)return u(a);if(z)return a.body?(a.data=b||a.body,a.query=a.content):a.data=a.content,delete a.body,delete a.content,!C&&w("safari")&&(a.url+=(-1===a.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+ga++),k.post(a.url,a);a.query=a.content;delete a.content;return k.get(a.url,a)}catch(Za){return a=new r,a.reject(Za),a.promise}}function z(a){var b=M.corsStatus;
try{var c=e(a.url);if(M.corsDetection&&M.useCors&&w("esri-cors")&&a.url&&-1!==a.url.toLowerCase().indexOf("/rest/services")&&!y.hasSameOrigin(a.urlObj,y.appUrl)&&!y.canUseXhr(a.urlObj)){if(b[c])return b[c];var f=new r;b[c]=f.promise;var d=a.url.substring(0,a.url.toLowerCase().indexOf("/rest/")+6)+"info";k.get(d,{query:{f:"json"},handleAs:"json",headers:{"X-Requested-With":null},timeout:1E3*M.corsDetectionTimeout}).then(function(b){b?(y.canUseXhr(a.url)||M.corsEnabledServers.push(c),f.resolve()):f.reject()},
function(a){f.reject()});return f.promise}}catch(V){console.log("esri._detectCors: an unknown error occurred while detecting CORS support")}return Q}function C(a,b,c,f){function d(a){a._pendingDfd=B(c,k);var b=!!a._pendingDfd.response;(a._pendingDfd.response||a._pendingDfd).then(function(a){if(!b||!a.data)return a;var c=a.getHeader("Content-Type");if(c&&(c=c.toLowerCase(),-1===c.indexOf("text/plain")&&-1===c.indexOf("application/json")))return a;c=a.data;if(c instanceof ArrayBuffer&&750>=c.byteLength)c=
new Blob([c]);else if(!(c instanceof Blob&&750>=c.size))return a;var e=new r,f=new FileReader;f.readAsText(c);f.onloadend=function(){if(!f.error)try{var b=JSON.parse(f.result);b.error&&(Object.isExtensible(a)||(a=m.mixin({},a)),a._jsonData=b)}catch(Ha){}e.resolve(a)};return e.promise}).then(function(c){var e=b?c.data:c,d=b?c.getHeader.bind(c):X;if(e&&(c=b&&c._jsonData||e,c.error||"error"===c.status))throw e=m.mixin(Error(),c.error||c),e.getHeader=d,e;a.resolve({data:e,url:f.url,requestOptions:f.requestOptions,
getHeader:d});a._pendingDfd=null}).catch(function(b){var d,g,u;b&&(d=Number(b.code),g=b.hasOwnProperty("subcode")?Number(b.subcode):null,u=(u=b.messageCode)&&u.toUpperCase());if(b&&403===d&&(4===g||b.message&&-1<b.message.toLowerCase().indexOf("ssl")&&-1===b.message.toLowerCase().indexOf("permission"))){if(!c._ssl){c._ssl=c._sslFromServer=!0;C(a,!0,c,f);return}}else if(b&&415===b.status){if(d=c.url,g=M.corsStatus,u=y.getCorsConfig(d,!0),-1<u&&M.corsEnabledServers.splice(u,1),u=new r,u.reject(new v("disabled")),
g[e(d)]=u.promise,!c._err415){c._err415=1;C(a,!0,c,f);return}}else if(l&&"no-prompt"!==c.authMode&&ja._errorCodes&&-1!==ja._errorCodes.indexOf(d)&&!ja._isPublic(c.url)&&(403!==d||ma&&-1===ma.indexOf(u)&&(!p.isDefined(g)||2===g&&c._token))){F(a,c,f,G("request:server",b,f));return}a.reject(G("request:server",b,f));a._pendingDfd=null})}var g=c.body,l=c.useIdentity,u,k=null,h=g instanceof FormData;if(h||g&&g.elements)k=h?g:new FormData(g);var n=!!(-1!==c.url.toLowerCase().indexOf("token\x3d")||c.content&&
c.content.token||k&&k.get&&k.get("token")||g&&g.elements&&g.elements.token);b||(!l||n||c._token||ja._isPublic(c.url)||(b=function(a){a&&(c._token=a.token,c._ssl=a.ssl)},"immediate"===c.authMode?u=ja.getCredential(c.url).then(b):"no-prompt"===c.authMode?u=ja.checkSignInStatus(c.url).then(b).catch(function(){}):b(ja.findCredential(c.url))),a.then(function(a){if((/\/sharing\/rest\/accounts\/self/i.test(c.url)||/\/sharing\/rest\/portals\/self/i.test(c.url))&&!n&&!c._token&&a.user&&a.user.username){var b=
M.corsEnabledServers,f=y.getCorsConfig(c.url,!0),d={host:e(c.url),withCredentials:!0};if(-1===f)b.push(d);else{var p=b[f];p instanceof RegExp?(d.host=p,b.splice(f,1,d)):"object"===typeof p?p.withCredentials=!0:b.splice(f,1,d)}}if(b=c._credential)f=(f=ja.findServerInfo(b.server))&&f.owningSystemUrl,d=void 0,f&&(f=f.replace(/\/?$/,"/sharing"),(d=ja.findCredential(f,b.userId))&&-1===ja._getIdenticalSvcIdx(f,d)&&d.resources.splice(0,0,f));return a}).always(function(a){delete c._credential;if(a){var b=
!!c._ssl;a instanceof v?a.details.ssl=b:a.ssl=b}}));u?u.then(function(){d(a)}).catch(function(b){a.reject(b)}):d(a);return a.promise}function F(a,b,c,e){a._pendingDfd=ja.getCredential(b.url,{error:e,token:b._token});a._pendingDfd.then(function(e){b._token=e.token;b._credential=e;b._ssl=b._sslFromServer||e.ssl;C(a,!0,b,c)}).catch(function(b){a.reject(b);a._pendingDfd=null})}function G(a,b,c){var e="Error",f={url:c.url,requestOptions:c.requestOptions,getHeader:X};if(b instanceof v)return b.details?
(b.details=p.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=f,b;if(b){var d=b.response;c=d&&d.getHeader;var d=d&&d.status,g=b.message;c=b.getHeader||c;g&&(e=g);c&&(f.getHeader=c);f.httpStatus=(p.isDefined(b.httpCode)?b.httpCode:b.code)||d;f.subCode=b.subcode;f.messageCode=b.messageCode;f.messages="string"===typeof b.details?[b.details]:b.details}a=new v(a,e,f);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}function I(a,b){if(h&&x.invokeStaticMessage)return h.execute(a,
b);var e=m.mixin({},b),d={url:a,requestOptions:m.mixin({},b)};e.content=e.query;delete e.query;e.preventCache=!!e.cacheBust;delete e.cacheBust;e.handleAs=e.responseType;delete e.responseType;"array-buffer"===e.handleAs&&(e.handleAs="arraybuffer");if("image"===e.handleAs){if(w("host-webworker"))return A.reject(G("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),d));e.preventCache&&(e.content=e.content||{},e.content["request.preventCache"]=
Date.now());e.method="auto"}else if(y.isDataProtocol(a))return A.reject(G("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+e.handleAs),d));var p=M.useIdentity;"anonymous"===e.authMode&&(p=!1);e.useIdentity=p;e.url=y.normalize(a);e.urlObj=new c(e.url);var g=f.makeDeferredCancellingPending();z(e).always(function(){if(p&&!ja)return l()}).always(function(){C(g,!1,e,d)});return g.promise}var E,M=g.request,ma=["COM_0056","COM_0057"],ga=0,X=function(){return null},
Q=(new r).resolve(),ja,aa;(function(a){a.setRequestPreCallback=function(a){E=a}})(I||(I={}));return I})},"dojo/_base/url":function(){define(["./kernel"],function(a){var b=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,r=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,d=function(){for(var a=arguments,n=[a[0]],m=1;m<a.length;m++)if(a[m]){var c=new d(a[m]+""),n=new d(n[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(n.fragment=c.fragment),c=
n;else if(!c.scheme&&(c.scheme=n.scheme,!c.authority&&(c.authority=n.authority,"/"!=c.path.charAt(0)))){for(var n=(n.path.substring(0,n.path.lastIndexOf("/")+1)+c.path).split("/"),k=0;k<n.length;k++)"."==n[k]?k==n.length-1?n[k]="":(n.splice(k,1),k--):0<k&&(1!=k||""!=n[0])&&".."==n[k]&&".."!=n[k-1]&&(k==n.length-1?(n.splice(k,1),n[k-1]=""):(n.splice(k-1,2),k-=2));c.path=n.join("/")}n=[];c.scheme&&n.push(c.scheme,":");c.authority&&n.push("//",c.authority);n.push(c.path);c.query&&n.push("?",c.query);
c.fragment&&n.push("#",c.fragment)}this.uri=n.join("");a=this.uri.match(b);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(r),this.user=a[3]||null,this.password=a[4]||null,this.host=a[6]||a[7],this.port=a[9]||null)};d.prototype.toString=function(){return this.uri};return a._Url=d})},"esri/core/deferredUtils":function(){define(["dojo/Deferred"],function(a){var b=
{makeDeferredCancellingPending:function(){var r={},d=b._dfdCanceller.bind(null,r),d=new a(d);return r.deferred=d},_dfdCanceller:function(a){a=a.deferred?a.deferred:a;a.canceled=!0;var b=a._pendingDfd;a.isResolved()||!b||b.isResolved()||b.cancel();a._pendingDfd=null},_fixDfd:function(a){var b=a.then;a.then=function(a,d,m){if(a){var c=a;a=function(a){return a&&a._argsArray?c.apply(null,a):c(a)}}return b.call(this,a,d,m)};return a},_resDfd:function(a,b,h){var d=b.length;1===d?h?a.reject(b[0]):a.resolve(b[0]):
1<d?(b._argsArray=!0,a.resolve(b)):a.resolve()}};return b})},"esri/core/sniff":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(a,b,r,d,h){function n(){var a={available:!1,version:0,majorPerformanceCaveat:!1,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1},b=document.createElement("canvas");if(!b)return a;var c=h.createContext(b,{failIfMajorPerformanceCaveat:!0},"webgl");!c&&(c=h.createContext(b,{},
"webgl"))&&(a.majorPerformanceCaveat=!0);if(!c)return a;b=c.getParameter(c.VERSION);if(!b)return a;if(b=b.match(/^WebGL\s+([\d.]*)/))a.version=parseFloat(b[1]),a.available=.94<=a.version,b=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT),a.supportsHighPrecisionFragment=b&&0<b.precision,a.supportsVertexShaderSamplers=0<c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS),a.supportsElementIndexUint=null!==c.getExtension("OES_element_index_uint");return a}function m(){var a={available:!1,version:0},
b=document.createElement("canvas");if(!b)return a;b=h.createContext(b,{},"webgl2");if(!b)return a;a.available=!0;b=b.getParameter(b.VERSION);if(!b)return a;if(b=b.match(/^WebGL\s+([\d.]*)/))a.version=parseFloat(b[1]);return a}(function(){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);b&&r.add("esri-mobile",b);a&&r.add("esri-iPhone",a);r.add("esri-phonegap",!!d.cordova);r.add("esri-cors",r("esri-phonegap")||"XMLHttpRequest"in
d&&"withCredentials"in new XMLHttpRequest);r.add("esri-canvas-svg-support",function(){return!(r("trident")||r("ie"))});r.add("esri-wasm","WebAssembly"in d);r("host-webworker")||(r.add("esri-workers","Worker"in d),r.add("esri-script-sandbox",function(){return"MessageChannel"in d&&"HTMLIFrameElement"in d&&"sandbox"in HTMLIFrameElement.prototype}),r.add("esri-url-encodes-apostrophe",function(){var a=d.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),c||(c=n()),r.add("esri-webgl",
c.available),r.add("esri-webgl-high-precision-fragment",c.supportsHighPrecisionFragment),r.add("esri-webgl-vertex-shader-samplers",c.supportsVertexShaderSamplers),r.add("esri-webgl-element-index-uint",c.supportsElementIndexUint),r.add("esri-webgl-major-performance-caveat",c.majorPerformanceCaveat),k||(k=m()),r.add("esri-webgl2",k.available))})();var c=null,k=null;return r})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(a,b){function r(a,b,d){void 0===b&&(b={});
var c;switch(d){case "webgl":c=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":c=["webgl2"];break;default:c=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}d=null;for(var f=0;f<c.length;f++){var k=c[f];try{d=a.getContext(k,b)}catch(x){}if(d)break}return d}function d(a,b){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(b,"__esModule",{value:!0});b.createContextOrErrorHTML=function(a,b,k){void 0===b&&(b={});if(!window.WebGLRenderingContext)return d(a,h),null;b=r(a,b,k);return b?b:(d(a,n),null)};b.createContext=r;var h='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',n='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper dojo/io-query dojo/_base/url ../config ./Error ./global ./lang ./Logger ./sniff".split(" "),function(a,b,r,d,h,n,m,c,k,g,f){function v(a){var b={path:null,query:null},c=new h(a),e=a.indexOf("?");null===c.query?b.path=a:(b.path=a.substring(0,e),b.query=d.queryToObject(c.query));c.fragment&&(b.hash=c.fragment,null===c.query&&(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b}function x(a,c){void 0===
a&&(a=!1);void 0===c&&(c=!0);var f,d=V.proxyUrl;if("string"===typeof a){if(f=Q(a),a=w(a))d=a.proxyUrl}else f=!!a;if(!d)throw O.warn("esri/config: esriConfig.request.proxyUrl is not set. If making a request to a CORS-enabled\n server, please push the domain into esriConfig.request.corsEnabledServers."),new m("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set. If making a request to a CORS-enabled\n server, please push the domain into esriConfig.request.corsEnabledServers.");
var p;f&&c&&"https"===b.appUrl.scheme&&(c=aa(d),e(c)&&(d=c,p=1));d=v(d);d._xo=p;return d}function p(a){var b=a.indexOf("?");-1!==b?(na.path=a.slice(0,b),na.query=a.slice(b+1)):(na.path=a,na.query=null);return na}function A(a){a=p(a).path;a&&"/"===a[a.length-1]||(a+="/");a=ra(a,!0);return a=a.toLowerCase()}function w(a){var b=V.proxyRules;a=A(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function y(a){a=F(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,
"")}function u(a,b,c){void 0===c&&(c=!1);a=Y(a);b=Y(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function e(a){return f("esri-phonegap")?!0:f("esri-cors")?null!=l(a):!1}function l(a,c){void 0===c&&(c=!1);"string"===typeof a&&(a=E(a)?Y(a):b.appUrl);for(var e=V.corsEnabledServers||[],f=0;f<e.length;f++){var d=e[f],p=void 0,l=void 0;d instanceof RegExp?l=d:"string"===typeof d?p=B(d):d.host?d.host instanceof RegExp?l=d.host:p=B(d.host):p=[];if(l){if(l.test(a.uri))return c?
f:d}else for(l=0;l<p.length;l++)if(u(a,p[l]))return c?f:d}return c?-1:null}function B(a){b.corsServersUrlCache[a]||(X(a)||ga(a)?b.corsServersUrlCache[a]=[new h(z(a))]:b.corsServersUrlCache[a]=[new h("http://"+a),new h("https://"+a)]);return b.corsServersUrlCache[a]}function z(a,c,e){void 0===c&&(c=b.appBaseUrl);if(ga(a))return e&&e.preserveProtocolRelative?a:"http"===b.appUrl.scheme&&b.appUrl.authority===I(a).slice(2)?"http:"+a:"https:"+a;if(X(a))return a;e=G;if("/"===a[0]){var f=c.indexOf("//"),
f=c.indexOf("/",f+2);c=-1===f?c:c.slice(0,f)}return e(c,a)}function C(a,c,e){void 0===c&&(c=b.appBaseUrl);if(!E(a))return a;var f=F(a),d=f.toLowerCase();c=F(c).toLowerCase().replace(/\/+$/,"");if((e=e?F(e).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(e))return a;for(var p=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},l=p(d,"/",d.indexOf("//")+2),g=-1;d.slice(0,l+1)===c.slice(0,l)+"/";){g=l+1;if(l===d.length)break;l=p(d,"/",l+1)}if(-1===g||e&&g<e.length)return a;a=f.slice(g);f=
c.slice(g-1).replace(/[^/]+/g,"").length;if(0<f)for(d=0;d<f;d++)a="../"+a;else a="./"+a;return a}function F(a){a=a.trim();a=z(a);if(/^https?:\/\//i.test(a)){var c=p(a);a=c.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");c.query&&(a+="?"+c.query)}a="http"===b.appUrl.scheme&&Q(a)&&u(b.appBaseUrl,a,!0)&&!e(a)?ga(a)?"http:"+a:a.replace(U,"http:"):a;a=S(a);return a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function G(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=
[];if(E(a[0])){var c=a[0],e=c.indexOf("//");b.push(c.slice(0,e+1));W.test(a[0])&&(b[0]+="/");a[0]=c.slice(e+2)}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)e=a[c],".."===e&&0<b.length?b.pop():!e||"."===e&&0!==b.length||b.push(e);return b.join("/")}}function I(a){if(M(a)||ma(a))return null;var b=a.indexOf("://");if(-1===b&&ga(a))b=2;else if(-1!==b)b+=3;else return null;b=a.indexOf("/",b);return-1===b?a:a.slice(0,b)}function E(a){return ga(a)||
X(a)}function M(a){return"blob:"===a.slice(0,5)}function ma(a){return"data:"===a.slice(0,5)}function ga(a){return a&&"/"===a[0]&&"/"===a[1]}function X(a){return T.test(a)}function Q(a){return U.test(a)||"https"===b.appUrl.scheme&&ga(a)}function ja(a){return fa.test(a)||"http"===b.appUrl.scheme&&ga(a)}function aa(a){return ga(a)?"https:"+a:a.replace(fa,"https:")}function ra(a,b){void 0===b&&(b=!1);if(ga(a))return a.slice(2);a=a.replace(T,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}
function S(a){var c=n.request.httpsDomains;if(!ja(a))return a;var f=a.indexOf("/",7),d;d=-1===f?a:a.slice(0,f);d=d.toLowerCase().slice(7);if(!("http"!==b.appUrl.scheme||d!==b.appUrl.authority||la.test(a)&&e(a)))return a;if("https"===b.appUrl.scheme&&d===b.appUrl.authority||c&&c.some(function(a){return d===a||k.endsWith(d,"."+a)}))a=aa(a);return a}function J(a,b,c){if(!(b&&c&&a&&E(a)))return a;var e=a.indexOf("//"),f=a.indexOf("/",e+2),d=a.indexOf(":",e+2),f=Math.min(0>f?a.length:f,0>d?a.length:d);
if(a.slice(e+2,f).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,e+2);a=a.slice(f);return""+b+c+a}function Y(a){if("string"===typeof a)return new h(z(a));a.scheme||(a.scheme=b.appUrl.scheme);return a}Object.defineProperty(b,"__esModule",{value:!0});var O=g.getLogger("esri.core.urlUtils"),V=n.request,T=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,fa=/^\s*http:/i,U=/^\s*https:/i,W=/^\s*file:/i,la=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;b.appUrl=new h(c.location);b.corsServersUrlCache={};b.appBaseUrl=
function(){var a=b.appUrl.path,a=a.substring(0,a.lastIndexOf(a.split("/")[a.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+a}();b.urlToObject=v;b.getProxyUrl=x;b.addProxy=function(a){var b=w(a),c,e;b?(e=p(b.proxyUrl),c=e.path,e=e.query?d.queryToObject(e.query):null):V.forceProxy&&(e=x(),c=e.path,e=e.query);c&&(b=v(a),a=c+"?"+b.path,(c=d.objectToQuery(r({},e,b.query)))&&(a=a+"?"+c));return a};var na={path:"",query:""};b.addProxyRule=
function(a){a={proxyUrl:a.proxyUrl,urlPrefix:A(a.urlPrefix)};for(var b=V.proxyRules,c=a.urlPrefix,e=b.length,f=0;f<b.length;f++){var d=b[f].urlPrefix;if(0===c.indexOf(d)){if(c.length===d.length)return-1;e=f;break}0===d.indexOf(c)&&(e=f+1)}b.splice(e,0,a);return e};b.getProxyRule=w;b.hasSamePortal=function(a,b){a=y(a);b=y(b);return ra(a)===ra(b)};b.hasSameOrigin=u;b.canUseXhr=e;b.getCorsConfig=l;b.makeAbsolute=z;b.makeRelative=C;b.normalize=F;b.join=G;b.getOrigin=I;b.isAbsolute=E;b.isBlobProtocol=
M;b.isDataProtocol=ma;var ka=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=function(a){return(a=a.match(ka))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null};b.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};b.isProtocolRelative=ga;b.hasProtocol=X;b.toHTTPS=aa;b.removeFile=function(a){var b=0;if(E(a)){var c=a.indexOf("//");-1!==c&&(b=c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};b.removeTrailingSlash=function(a){return a.replace(/\/+$/,
"")};b.changeDomain=J;b.read=function(a,c){var e=c&&c.url&&c.url.path;a&&e&&(a=z(a,e,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?(e=c.urlKey+"."+c.customBaseUrl,c=u(b.appUrl,b.appUrl.scheme+"://"+e)?J(a,c.portalHostname,e):J(a,e,c.portalHostname)):c=a;return c};b.write=function(a,b){if(!a)return a;!E(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=z(a);if(b){var e=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;
e&&(c=C(c,e,e),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?J(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;return c};b.writeOperationalLayerUrl=function(a,b){a&&ga(a)&&(a="https:"+a);b.url=a?F(a):a};b.isSVG=function(a){return ba.test(a)};b.removeQueryParameters=function(a,b){a=v(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+
c.join(", ")+".");return a.path};var ba=/(^data:image\/svg|\.svg$)/i})},"esri/geometry/projection":function(){define("require exports dojo/Deferred ./pe ./SpatialReference ./support/GeographicTransformation".split(" "),function(a,b,r,d,h,n){function m(a,b,d,g,m){void 0===g&&(g=null);void 0===m&&(m=!1);if(null===g){var p=n.cacheKey(b,d);void 0!==f[p]?g=f[p]:(g=c(b,d,null),null===g&&(g=new n),f[p]=g)}return k._project(a,b,d instanceof h||!1===m?d:new h(d),g,m)}function c(a,b,c){void 0===c&&(c=null);
a=k._getTransformation(a,b,c);return null!==a?n.fromGE(a):null}Object.defineProperty(b,"__esModule",{value:!0});var k=null;b.isLoaded=function(){return!!k&&d.isLoaded()};b.isSupported=function(){return d.isSupported()};var g=null;b.load=function(){if(g)return g.promise;g=new r;var b=d.load();a(["./geometryEngine"],function(a){k=a;b.then(function(){k._enableProjection(d);g.resolve()},function(a){g.reject(a)})});return g.promise};b.project=function(a,b,c){void 0===c&&(c=null);return a instanceof Array?
0===a.length?[]:m(a,a[0].spatialReference,b,c):m([a],a.spatialReference,b,c)[0]};var f={};b.projectMany=m;b.getTransformation=c;b.getTransformations=function(a,b,c){void 0===c&&(c=null);a=k._getTransformationBySuitability(a,b,c);if(null!==a){b=[];for(c=0;c<a.length;c++)b.push(n.fromGE(a[c]));return b}return[]}})},"esri/geometry/pe":function(){define(["require","exports","../core/tsSupport/extendsHelper","dojo/Deferred","../core/sniff"],function(a,b,r,d,h){function n(a){function c(a,b,c){a[b]=c(a[b])}
b._pe=a;v.init();x.init();p.init();A.init();w.init();b.PeGCSExtent=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}r(c,a);c.prototype.destroy=function(){b._pe.destroy(this)};return c}(b._pe.PeGCSExtent);for(var e=0,f=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];e<f.length;e++)a=f[e],c(a.prototype,"getName",function(a){return function(){return a.call(this,Array(v.PE_NAME_MAX))}});
e=0;for(f=[b._pe.PeGeogtran,b._pe.PeProjcs];e<f.length;e++)a=f[e],c(a.prototype,"getParameters",function(a){return function(){for(var c=Array(v.PE_PARM_MAX),e=a.call(this),f=0;f<c.length;f++){var d=b._pe.getValue(e,"*");c[f]=d?b._pe.wrapPointer(d,b._pe.PeParameter):null;e+=Int32Array.BYTES_PER_ELEMENT}return c}});c(b._pe.PeHorizon.prototype,"getCoord",function(a){return function(){var b=this.getSize();if(!b)return null;var c=[],e=a.call(this);g(c,b,e);return c}});c(b._pe.PeGTlistExtendedEntry.prototype,
"getEntries",function(a){var c=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){var e=null,f=a.call(this);if(!b._pe.compare(f,b._pe.NULL)){var e=[f],d=this.getSteps();if(1<d)for(var f=b._pe.getPointer(f),p=1;p<d;p++)e.push(b._pe.wrapPointer(f+c*p,b._pe.PeGTlistExtendedGTs))}return e}});var d=b._pe._pe_getPeHorizonSize();a=function(a){return function(){var c=this._cache;c||(this._cache=c=new Map);if(c.has(a))return c.get(a);var e=null,f=a.call(this);if(!b._pe.compare(f,b._pe.NULL)){var e=[f],
p=f.getNump();if(1<p)for(var f=b._pe.getPointer(f),g=1;g<p;g++)e.push(b._pe.wrapPointer(f+d*g,b._pe.PeHorizon))}c.set(a,e);return e}};c(b._pe.PeProjcs.prototype,"horizonGcsGenerate",a);c(b._pe.PeProjcs.prototype,"horizonPcsGenerate",a);b._pe.PeObject.prototype.toString=function(a){void 0===a&&(a=v.PE_STR_OPTS_NONE);b._pe.ensureCache.prepare();var c=b._pe.getPointer(this),e=b._pe.ensureInt8(Array(v.PE_BUFFER_MAX));return b._pe.Pointer_stringify(b._pe._pe_object_to_string_ext(c,a,e))}}function m(a){if(a){var c=
b._pe.getClass(a);c&&(c=b._pe.getCache(c))&&(a=b._pe.getPointer(a))&&delete c[a]}}function c(a,c){var e=[];c=Array(c);for(var f=0;f<a;f++)e.push(b._pe.ensureInt8(c));return e}function k(a){var b;Array.isArray(a[0])?(b=[],a.forEach(function(a){b.push(a[0],a[1])})):b=a;return b}function g(a,c,e,f){void 0===f&&(f=!1);if(f)for(f=0;f<2*c;f++)a[f]=b._pe.getValue(e+f*Float64Array.BYTES_PER_ELEMENT,"double");else{var d=0===a.length;for(f=0;f<c;f++)d&&(a[f]=Array(2)),a[f][0]=b._pe.getValue(e,"double"),a[f][1]=
b._pe.getValue(e+Float64Array.BYTES_PER_ELEMENT,"double"),e+=2*Float64Array.BYTES_PER_ELEMENT}}Object.defineProperty(b,"__esModule",{value:!0});var f;b._pe=null;b.isLoaded=function(){return!!b._pe};b.isSupported=function(){return!!h("esri-wasm")};b.load=function(){if(f)return f.promise;f=new d;a(["./support/pe-wasm"],function(b){b({locateFile:function(b){return a.toUrl("./support/"+b)},onAbort:function(a){f.reject(Error(a))}}).then(function(a){n(a);f.resolve()})});return f.promise};(function(a){function c(a,
c,e){b._pe.ensureCache.prepare();var f=k(e),d=e===f,f=b._pe.ensureFloat64(f);(a=b._pe._pe_geog_to_proj(b._pe.getPointer(a),c,f))&&g(e,c,f,d);return a}function e(a,b,c){return f(a,b,c,0)}function f(a,c,e,f){b._pe.ensureCache.prepare();var d=k(e),p=e===d,d=b._pe.ensureFloat64(d);(a=b._pe._pe_proj_to_geog_center(b._pe.getPointer(a),c,d,f))&&g(e,c,d,p);return a}a.geogToProj=c;a.projGeog=function(a,b,f,d){switch(d){case v.PE_TRANSFORM_P_TO_G:return e(a,b,f);case v.PE_TRANSFORM_G_TO_P:return c(a,b,f)}return 0};
a.projToGeog=e;a.projToGeogCenter=f})(b.PeCSTransformations||(b.PeCSTransformations={}));var v;(function(a){a.init=function(){a.PE_BUFFER_MAX=b._pe.PeDefs.prototype.get_PE_BUFFER_MAX();a.PE_NAME_MAX=b._pe.PeDefs.prototype.get_PE_NAME_MAX();a.PE_MGRS_MAX=b._pe.PeDefs.prototype.get_PE_MGRS_MAX();a.PE_USNG_MAX=b._pe.PeDefs.prototype.get_PE_USNG_MAX();a.PE_DD_MAX=b._pe.PeDefs.prototype.get_PE_DD_MAX();a.PE_DDM_MAX=b._pe.PeDefs.prototype.get_PE_DDM_MAX();a.PE_DMS_MAX=b._pe.PeDefs.prototype.get_PE_DMS_MAX();
a.PE_UTM_MAX=b._pe.PeDefs.prototype.get_PE_UTM_MAX();a.PE_PARM_MAX=b._pe.PeDefs.prototype.get_PE_PARM_MAX();a.PE_TYPE_NONE=b._pe.PeDefs.prototype.get_PE_TYPE_NONE();a.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.get_PE_TYPE_GEOGCS();a.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.get_PE_TYPE_PROJCS();a.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.get_PE_TYPE_GEOGTRAN();a.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.get_PE_TYPE_COORDSYS();a.PE_TYPE_UNIT=b._pe.PeDefs.prototype.get_PE_TYPE_UNIT();a.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.get_PE_STR_OPTS_NONE();
a.PE_STR_AUTH_NONE=b._pe.PeDefs.prototype.get_PE_STR_AUTH_NONE();a.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.get_PE_STR_AUTH_TOP();a.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.get_PE_STR_NAME_CANON();a.PE_PARM_X0=b._pe.PeDefs.prototype.get_PE_PARM_X0();a.PE_PARM_ND=b._pe.PeDefs.prototype.get_PE_PARM_ND();a.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.get_PE_TRANSFORM_1_TO_2();a.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.get_PE_TRANSFORM_2_TO_1();a.PE_TRANSFORM_P_TO_G=b._pe.PeDefs.prototype.get_PE_TRANSFORM_P_TO_G();
a.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.get_PE_TRANSFORM_G_TO_P();a.PE_HORIZON_RECT=b._pe.PeDefs.prototype.get_PE_HORIZON_RECT();a.PE_HORIZON_POLY=b._pe.PeDefs.prototype.get_PE_HORIZON_POLY();a.PE_HORIZON_LINE=b._pe.PeDefs.prototype.get_PE_HORIZON_LINE();a.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.get_PE_HORIZON_DELTA()}})(v=b.PeDefs||(b.PeDefs={}));(function(a){function c(a,c){var d=null,p=f[a];p||(p={},f[a]=p);p.hasOwnProperty(String(c))?d=p[c]:(a=b._pe.PeFactory.prototype.factoryByType(a,c),
b._pe.compare(a,b._pe.NULL)||(d=a,p[c]=d));return d=e(d)}function e(a){if(a){var c=a.getType();switch(c){case v.PE_TYPE_GEOGCS:a=b._pe.castObject(a,b._pe.PeGeogcs);break;case v.PE_TYPE_PROJCS:a=b._pe.castObject(a,b._pe.PeProjcs);break;case v.PE_TYPE_GEOGTRAN:a=b._pe.castObject(a,b._pe.PeGeogtran);break;default:c&v.PE_TYPE_UNIT&&(a=b._pe.castObject(a,b._pe.PeUnit))}}return a}var f={},d={};a.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};a.coordsys=function(a){return c(v.PE_TYPE_COORDSYS,
a)};a.factoryByType=c;a.fromString=function(a,c){var f=null,p=d[a];p||(p={},d[a]=p);p.hasOwnProperty(c)?f=p[c]:(a=b._pe.PeFactory.prototype.fromString(a,c),b._pe.compare(a,b._pe.NULL)||(f=a,p[c]=f));return f=e(f)};a.geogcs=function(a){return c(v.PE_TYPE_GEOGCS,a)};a.geogtran=function(a){return c(v.PE_TYPE_GEOGTRAN,a)};a.getCode=function(a){return b._pe.PeFactory.prototype.getCode(a)};a.projcs=function(a){return c(v.PE_TYPE_PROJCS,a)};a.unit=function(a){return c(v.PE_TYPE_UNIT,a)}})(b.PeFactory||(b.PeFactory=
{}));b.PeGCSExtent=null;var x;(function(a){var c;a.init=function(){a.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.get_PE_GTLIST_OPTS_COMMON();c=b._pe._pe_getPeGTlistExtendedEntrySize()};a.getGTlist=function(a,f,d,p,g,u){var e=null,l=new b._pe.PeInteger(u);try{var k=b._pe.PeGTlistExtended.prototype.getGTlist(a,f,d,p,g,l);if(u=l.get_val())if(e=[k],1<u){var h=b._pe.getPointer(k);for(a=1;a<u;a++)e.push(b._pe.wrapPointer(h+c*a,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(l)}return e}})(x=
b.PeGTlistExtended||(b.PeGTlistExtended={}));(function(a){a.destroy=function(a){if(a&&a.length){for(var c=0;c<a.length;c++){var f=a[c];m(f);f.getEntries().forEach(function(a){m(a);a=a.getGeogtran();m(a);a.getParameters().forEach(m);[a.getGeogcs1(),a.getGeogcs2()].forEach(function(a){m(a);var b=a.getDatum();m(b);m(b.getSpheroid());m(a.getPrimem());m(a.getUnit())})})}b._pe.PeGTlistExtendedEntry.prototype.Delete(a[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));(function(a){a.geogToGeog=
function(a,c,f,d,p){b._pe.ensureCache.prepare();var e=k(f),l=f===e,e=b._pe.ensureFloat64(e),u=0;d&&(u=b._pe.ensureFloat64(d));(a=b._pe._pe_geog_to_geog(b._pe.getPointer(a),c,e,u,p))&&g(f,c,e,l);return a}})(b.PeGTTransformations||(b.PeGTTransformations={}));(function(a){function f(a,e,f,d,p,g){b._pe.ensureCache.prepare();var l,u;switch(a){case "dd":l=b._pe._pe_geog_to_dd;u=v.PE_DD_MAX;break;case "ddm":l=b._pe._pe_geog_to_ddm;u=v.PE_DDM_MAX;break;case "dms":l=b._pe._pe_geog_to_dms,u=v.PE_DMS_MAX}a=
0;e&&(a=b._pe.getPointer(e));e=k(d);e=b._pe.ensureFloat64(e);u=c(f,u);d=b._pe.ensureInt32(u);if(p=l(a,f,e,p,d))for(l=0;l<f;l++)g[l]=b._pe.Pointer_stringify(u[l]);return p}function e(a,c,e,f,d){b._pe.ensureCache.prepare();var p;switch(a){case "dd":p=b._pe._pe_dd_to_geog;break;case "ddm":p=b._pe._pe_ddm_to_geog;break;case "dms":p=b._pe._pe_dms_to_geog}a=0;c&&(a=b._pe.getPointer(c));c=f.map(function(a){return b._pe.ensureString(a)});f=b._pe.ensureInt32(c);c=b._pe.ensureFloat64(Array(2*e));(p=p(a,e,f,
c))&&g(d,e,c);return p}a.geog_to_dms=function(a,b,c,e,d){return f("dms",a,b,c,e,d)};a.dms_to_geog=function(a,b,c,f){return e("dms",a,b,c,f)};a.geog_to_ddm=function(a,b,c,e,d){return f("ddm",a,b,c,e,d)};a.ddm_to_geog=function(a,b,c,f){return e("ddm",a,b,c,f)};a.geog_to_dd=function(a,b,c,e,d){return f("dd",a,b,c,e,d)};a.dd_to_geog=function(a,b,c,f){return e("dd",a,b,c,f)}})(b.PeNotationDms||(b.PeNotationDms={}));var p;(function(a){a.init=function(){a.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.get_PE_MGRS_STYLE_NEW();
a.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.get_PE_MGRS_STYLE_OLD();a.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.get_PE_MGRS_STYLE_AUTO();a.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.get_PE_MGRS_180_ZONE_1_PLUS();a.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.get_PE_MGRS_ADD_SPACES()};a.geog_to_mgrs_extended=function(a,e,f,d,p,g,h){b._pe.ensureCache.prepare();var l=0;a&&(l=b._pe.getPointer(a));a=k(f);f=b._pe.ensureFloat64(a);a=c(e,v.PE_MGRS_MAX);var u=b._pe.ensureInt32(a);
if(d=b._pe._pe_geog_to_mgrs_extended(l,e,f,d,p,g,u))for(p=0;p<e;p++)h[p]=b._pe.Pointer_stringify(a[p]);return d};a.mgrs_to_geog_extended=function(a,c,f,d,p){b._pe.ensureCache.prepare();var e=0;a&&(e=b._pe.getPointer(a));a=f.map(function(a){return b._pe.ensureString(a)});f=b._pe.ensureInt32(a);a=b._pe.ensureFloat64(Array(2*c));(d=b._pe._pe_mgrs_to_geog_extended(e,c,f,d,a))&&g(p,c,a);return d}})(p=b.PeNotationMgrs||(b.PeNotationMgrs={}));(function(a){a.geog_to_usng=function(a,e,f,d,p,g,h){b._pe.ensureCache.prepare();
var l=0;a&&(l=b._pe.getPointer(a));a=k(f);f=b._pe.ensureFloat64(a);a=c(e,v.PE_MGRS_MAX);var u=b._pe.ensureInt32(a);if(d=b._pe._pe_geog_to_usng(l,e,f,d,p,g,u))for(p=0;p<e;p++)h[p]=b._pe.Pointer_stringify(a[p]);return d};a.usng_to_geog=function(a,c,f,d){b._pe.ensureCache.prepare();var e=0;a&&(e=b._pe.getPointer(a));a=f.map(function(a){return b._pe.ensureString(a)});f=b._pe.ensureInt32(a);a=b._pe.ensureFloat64(Array(2*c));(e=b._pe._pe_usng_to_geog(e,c,f,a))&&g(d,c,a);return e}})(b.PeNotationUsng||(b.PeNotationUsng=
{}));var A;(function(a){a.init=function(){a.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.get_PE_UTM_OPTS_NONE();a.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.get_PE_UTM_OPTS_ADD_SPACES();a.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.get_PE_UTM_OPTS_NS()};a.geog_to_utm=function(a,e,f,d,p){b._pe.ensureCache.prepare();var g=0;a&&(g=b._pe.getPointer(a));a=k(f);f=b._pe.ensureFloat64(a);a=c(e,v.PE_UTM_MAX);var l=b._pe.ensureInt32(a);if(d=b._pe._pe_geog_to_utm(g,e,f,d,l))for(g=0;g<e;g++)p[g]=
b._pe.Pointer_stringify(a[g]);return d};a.utm_to_geog=function(a,c,f,d,p){b._pe.ensureCache.prepare();var e=0;a&&(e=b._pe.getPointer(a));a=f.map(function(a){return b._pe.ensureString(a)});f=b._pe.ensureInt32(a);a=b._pe.ensureFloat64(Array(2*c));(d=b._pe._pe_utm_to_geog(e,c,f,d,a))&&g(p,c,a);return d}})(A=b.PeNotationUtm||(b.PeNotationUtm={}));var w;(function(a){var c=new Map;a.init=function(){a.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.get_PE_PCSINFO_OPTION_NONE();a.PE_PCSINFO_OPTION_DOMAIN=
b._pe.PePCSInfo.prototype.get_PE_PCSINFO_OPTION_DOMAIN();a.PE_POLE_OUTSIDE_BOUNDARY=b._pe.PePCSInfo.prototype.get_PE_POLE_OUTSIDE_BOUNDARY();a.PE_POLE_POINT=b._pe.PePCSInfo.prototype.get_PE_POLE_POINT()};a.generate=function(e,f){void 0===f&&(f=a.PE_PCSINFO_OPTION_DOMAIN);var d,p;c.has(e)&&(p=c.get(e),p[f]&&(d=p[f]));d||(d=b._pe.PePCSInfo.prototype.generate(e,f),p||(p=[],c.set(e,p)),p[f]=d);return d}})(w=b.PePCSInfo||(b.PePCSInfo={}));(function(a){a.version_string=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||
(b.PeVersion={}));b._init=n})},"esri/geometry/support/GeographicTransformation":function(){define(["require","exports","./GeographicTransformationStep"],function(a,b,r){return function(){function a(a){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(a&&a.steps){var b=0;for(a=a.steps;b<a.length;b++){var d=a[b];d instanceof r?this.steps.push(d):this.steps.push(new r({wkid:d.wkid,wkt:d.wkt,isInverse:d.isInverse}))}}}a.cacheKey=function(a,b){return[void 0!==a.wkid&&null!==
a.wkid?a.wkid.toString():"-1",void 0!==a.wkt&&null!==a.wkt?a.wkt.toString():"",void 0!==b.wkid&&null!==b.wkid?b.wkid.toString():"-1",void 0!==b.wkt&&null!==b.wkt?b.wkt.toString():""].join()};a.fromGE=function(b){var d=new a,h="",c=0;for(b=b.steps;c<b.length;c++){var k=r.fromGE(b[c]);d.steps.push(k);h+=k.uid.toString()+","}d._cached_projection={};d._gtlistentry=null;d._chain=h;return d};a.prototype.getInverse=function(){var b=new a;b.steps=[];for(var d=this.steps.length-1;0<=d;d--)b.steps.push(this.steps[d].getInverse());
return b};a.prototype.getGTListEntry=function(){for(var a="",b=0,d=this.steps;b<d.length;b++)a+=d[b].uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=a);return this._gtlistentry};a.prototype.assignCachedGe=function(b,d,m){this._cached_projection[a.cacheKey(b,d)]=m};a.prototype.getCachedGeTransformation=function(b,d){for(var h="",c=0,k=this.steps;c<k.length;c++)h+=k[c].uid.toString()+",";h!==this._chain&&(this._gtlistentry=null,this._cached_projection=
{},this._chain=h);b=this._cached_projection[a.cacheKey(b,d)];return void 0===b?null:b};return a}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["require","exports"],function(a,b){var r=0;return function(){function a(a){void 0===a&&(a=null);this.uid=r++;a?(this._wkt=void 0!==a.wkt?a.wkt:null,this._wkid=void 0!==a.wkid?a.wkid:-1,this._isInverse=void 0!==a.isInverse?!0===a.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}a.fromGE=function(b){var d=new a;d._wkt=
b.wkt;d._wkid=b.wkid;d._isInverse=b.isInverse;return d};Object.defineProperty(a.prototype,"wkt",{get:function(){return this._wkt},set:function(a){this._wkt=a;this.uid=r++},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"wkid",{get:function(){return this._wkid},set:function(a){this._wkid=a;this.uid=r++},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isInverse",{get:function(){return this._isInverse},set:function(a){this._isInverse=a;this.uid=r++},enumerable:!0,
configurable:!0});a.prototype.getInverse=function(){var b=new a;b._wkt=this.wkt;b._wkid=this._wkid;b._isInverse=!this.isInverse;return b};return a}()})},"esri/layers/graphics/data/FeatureStore":function(){define("require exports @dojo/shim/array @dojo/shim/iterator @dojo/shim/Map @dojo/shim/Set ../../../geometry ../../../core/Error ../../../core/promiseUtils ../../../core/libs/rbush/rbush ../../../geometry/projection ../../../geometry/support/normalizeUtils ../../../geometry/support/scaleUtils ../../../geometry/support/spatialReferenceUtils ./attributeSupport ./FeatureSetReader ./FeatureStoreCapabilities ./FeatureStoreItem ./FeatureStoreResult ./projectionSupport ./SpatialQueryCache ./spatialQuerySupport ../../../tasks/support/Query".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B,z,C){function F(a){return a?JSON.parse(JSON.stringify(a,["latestWkid","wkid","wkt"])):a}Object.defineProperty(b,"__esModule",{value:!0});var G=new n.default(["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"]),I={},E=new m.SpatialReference({wkid:4326});a=function(){function a(a){var b=this;this._itemsMap=new h.default;this._itemsToIndex=new n.default;this._index=g(9,[".bounds[0]",".bounds[1]",
".bounds[2]",".bounds[3]"]);this.capabilities={query:y.queryCapabilities};this.fieldsMap=new h.default;this.geometryType=a.geometryType;this.hasM=a.hasM;this.hasZ=a.hasZ;this.objectIdField=a.objectIdField;this.spatialReference=a.spatialReference;this.definitionExpression=a.definitionExpression;this.cacheSpatialQueries=a.cacheSpatialQueries||!1;this.gdbVersion=a.gdbVersion;this.historicMoment=a.historicMoment;this.cacheSpatialQueries&&(this._geometryQueryCache=new B.default);a.fields.forEach(function(a){b.fieldsMap.set(a.name.trim(),
a);b.fieldsMap.set(a.name.trim().toLowerCase(),a)})}a.prototype.destroy=function(){this.clear();this.fieldsMap.clear()};a.prototype.clear=function(){this._itemsMap.clear();this._itemsToIndex.clear();this._index.clear();this._geometryQueryCache&&this._geometryQueryCache.clear()};Object.defineProperty(a.prototype,"size",{get:function(){return this._itemsMap.size},enumerable:!0,configurable:!0});a.prototype.load=function(a,b){var c="getBounds"in a?a:w.createFeatureSetReader(a),e=this._itemsMap,f=this._itemsToIndex;
this._clearCache();d.forOf(c.oids(),function(a){var d;e.has(a)?(d=e.get(a),d.count++,b&&b.update(a)):(d=new u.default(c,a),e.set(a,d),f.add(a),b&&b.add(a))})};a.prototype.unload=function(a,b){var c=this._index,e=this._itemsMap,f=this._itemsToIndex;this._clearCache();d.forOf(a.oids(),function(a){var d;e.has(a)&&(d=e.get(a),d.count--,0===d.count&&(e.delete(a),d.bounds?(c.remove(d),d.bounds=null):f.delete(a),b&&b.remove(a)))})};a.prototype.keep=function(a,b){var c=this._index,e=this._itemsMap,f=this._itemsToIndex;
this._clearCache();d.forOf(e,function(d){var p=d[0];d=d[1];a.has(p)||(e.delete(p),d.bounds?(c.remove(d),d.bounds=null):f.delete(p),b&&b.remove(p))})};a.prototype.remove=function(a,b){var c=this._index,e=this._itemsMap,f=this._itemsToIndex;this._clearCache();for(var d=0;d<a.length;d++){var p=a[d];if(!e.has(p))break;var g=e.get(p);e.delete(p);g.bounds?(c.remove(g),g.bounds=null):f.delete(p);b&&b.remove(p)}};a.prototype.executeQuery=function(a){var b=this;void 0===a&&(a=new C);var c=a.clone();return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).catch(function(a){if(a===
I)return new e.default([],b);throw a;}).then(function(a){return a.createQueryResponse(c)})};a.prototype.executeQueryForCount=function(a){var b=this;void 0===a&&(a=new C);var c=a.clone();return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).then(function(a){return a.size}).catch(function(a){if(a===I)return 0;throw a;
})};a.prototype.executeQueryForExtent=function(a){var b=this;void 0===a&&(a=new C);var c=a.clone();return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).then(function(a){var e=a.items.length;if(!e)return{count:e,extent:null};for(var f={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,
ymax:Number.NEGATIVE_INFINITY,spatialReference:F(b.spatialReference)},d=0,p=a.items;d<p.length;d++){var g=p[d].getBounds();g&&(f.xmin=Math.min(g[0],f.xmin),f.ymin=Math.min(g[1],f.ymin),f.xmax=Math.max(g[2],f.xmax),f.ymax=Math.max(g[3],f.ymax))}a=l.project(f,a.spatialReference,c.outSpatialReference);a.spatialReference=F(c.outSpatialReference&&c.outSpatialReference.toJSON()||b.spatialReference);0===a.xmax-a.xmin&&(f=x.getMetersPerUnitForSR(a.spatialReference),a.xmin-=f,a.xmax+=f);0===a.ymax-a.ymin&&
(f=x.getMetersPerUnitForSR(a.spatialReference),a.ymin-=f,a.ymax+=f);return{count:e,extent:a}}).catch(function(a){if(a===I)return{count:0,extent:null};throw a;})};a.prototype.executeQueryForIds=function(a){var b=this;void 0===a&&(a=new C);var c=a.clone();return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).then(function(a){a=
a.items;for(var b=[],c=0;c<a.length;c++)b[c]=a[c].oid;return b}).catch(function(a){if(a===I)return[];throw a;})};a.prototype._clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear();this._allItems=null};a.prototype._getAll=function(){this._allItems||(this._allItems=new e.default(r.from(this._itemsMap,function(a){return a[1]}),this));return this._allItems};a.prototype._normalizeQuery=function(a){var b=this,c=this.definitionExpression,e=a.where,f=a.geometry,d=a.outFields,p=
a.orderByFields,g=a.groupByFieldsForStatistics,u=a.outStatistics;a.where=e=e&&e.trim();if(!e||/^1 *= *1$/.test(e)||c&&c===e)a.where=null;if(d)for(c=0;c<d.length;c++)d[c]=d[c].trim();if(p)for(c=0;c<p.length;c++)p[c]=p[c].trim();if(g)for(c=0;c<g.length;c++)g[c]=g[c].trim();if(u)for(c=0;c<u.length;c++)u[c].onStatisticField=u[c].onStatisticField.trim();if(!f)return k.resolve(a);a.outSpatialReference||(a.outSpatialReference=f.spatialReference);return this._getInputGeometry(a).then(function(b){return a.geometry=
b}).then(function(c){return l.checkProjectionSupport(a,c.spatialReference,b.spatialReference)}).then(function(){return v.normalizeCentralMeridian(a.geometry)}).then(function(a){return l.project(a[0].toJSON(),a[0].spatialReference,b.spatialReference)}).then(function(b){if(!b)throw I;return a.read({geometry:b})})};a.prototype._executeGeometryQuery=function(a){var b=this,c=a.geometry,f=a.outSpatialReference,d=a.spatialRelationship,g=f&&!p.equals(this.spatialReference,f),l=g?JSON.stringify({geometry:c,
spatialRelationship:d,outSpatialReference:f}):JSON.stringify({geometry:c,spatialRelationship:d});if(this.cacheSpatialQueries&&this._geometryQueryCache.size&&this._geometryQueryCache.has(l))return k.resolve(this._geometryQueryCache.get(l));var u=null;if(c){this._updateSpatialIndex();var h=this._getQueryBBoxes(c).reduce(function(a,c){return a.concat(b._index.search({minX:c[0],minY:c[1],maxX:c[2],maxY:c[3]}))},[]),u="envelope-intersects"===a.spatialRelationship||"esriGeometryPoint"===this.geometryType&&
z.canQueryWithRBush(c)?k.resolve(new e.default(h,this)):z.getSpatialQueryOperator(d,c,this.geometryType).then(function(a){if(a){var c=h.filter(function(b){return a(b.getGeometry())});return new e.default(c,b)}})}else u=k.resolve(this._getAll());return u.then(function(c){if(g&&(a.returnGeometry||a.returnCentroid))return c.project(f).then(function(a){b.cacheSpatialQueries&&b._geometryQueryCache.set(l,a);return a});b.cacheSpatialQueries&&b._geometryQueryCache.set(l,c);return c})};a.prototype._getInputGeometry=
function(a){var b=a.geometry,c=a.distance,e=a.units;if(null==c)return k.resolve(b);var d=b.spatialReference,p=e||x.getUnitString(d),e=null,e=d&&(d.isGeographic||d.isWebMercator)?k.resolve(b):l.checkProjectionSupport(a,d,E).then(function(){return f.project(b,E)});return e.then(function(a){return z.getGeodesicBufferOperator().then(function(b){return b(a,c,p)})}).catch(function(a){return z.getBufferOperator().then(function(a){return a(b,c,p)})})};a.prototype._updateSpatialIndex=function(){var a=this;
if(this._itemsToIndex.size){var b=[];d.forOf(this._itemsToIndex,function(c){c=a._itemsMap.get(c);c.getBounds()&&b.push(c)});this._index.load(b);this._itemsToIndex.clear()}};a.prototype._getQueryBBoxes=function(a){if("point"===a.type)return[[a.x,a.y,a.x,a.y]];a=z.canQueryWithRBush(a)?a:a.extent;switch(a.type){case "extent":return[[a.xmin,a.ymin,a.xmax,a.ymax]];case "polygon":return a.rings.map(function(a){return[a[0][0],a[0][1],a[2][0],a[2][1]]})}};a.prototype._checkQuerySupport=function(a){return 0>
a.distance||null!=a.geometryPrecision||null!=a.maxAllowableOffset||a.multipatchOption||a.orderByFields&&a.orderByFields.length||a.pixelSize||a.relationParameter||a.text||a.timeExtent?k.reject(new c("feature-store:unsupported-query","Unsupported query options",{query:a})):k.all([this._checkAttributesQuerySupport(a),this._checkStatisticsQuerySupport(a),z.checkSpatialQuerySupport(a,this.geometryType,this.spatialReference),l.checkProjectionSupport(a,this.spatialReference,a.outSpatialReference)]).then(function(){return a})};
a.prototype._checkAttributesQuerySupport=function(a){var b=a.outFields;if(b&&0<b.length&&(b=A.getMissingFields(this.fieldsMap,b),b.length))throw new c("feature-store:unsupported-query","outFields contains missing fields",{missingFields:b,query:a});A.validateWhere(this.fieldsMap,a.where)};a.prototype._checkStatisticsQuerySupport=function(a){if(a.returnDistinctValues)return k.reject(new c("feature-store:unsupported-query","query with returnDistinctValues not supported",{query:a}));if(a.outStatistics&&
a.outStatistics.length){var b=a.outStatistics.map(function(a){return a.onStatisticField.trim()}),e=A.getMissingFields(this.fieldsMap,b);if(e.length)return k.reject(new c("feature-store:unsupported-query","outStatistics contains missing fields",{missingFields:e,query:a}));for(e=0;e<b.length;e++){var f=b[e],d=this.fieldsMap.get(f);if(!(a.groupByFieldsForStatistics&&a.groupByFieldsForStatistics.length||G.has(d.type)))return k.reject(new c("feature-store:unsupported-query","outStatistics contains non-numeric fields",
{fieldName:f,query:a}))}}};return a}();b.default=a})},"@dojo/shim/array":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ./support/has ./support/util".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var r=a("tslib"),d=a("./global"),h=a("./iterator"),n=a("./number"),m=a("./support/has");
a=a("./support/util");if(m.default("es6-array")&&m.default("es6-array-fill"))b.from=d.default.Array.from,b.of=d.default.Array.of,b.copyWithin=a.wrapNative(d.default.Array.prototype.copyWithin),b.fill=a.wrapNative(d.default.Array.prototype.fill),b.find=a.wrapNative(d.default.Array.prototype.find),b.findIndex=a.wrapNative(d.default.Array.prototype.findIndex);else{var c=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),n.MAX_SAFE_INTEGER)},k=function(a){a=
Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},g=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};b.from=function(a,b,d){if(null==a)throw new TypeError("from: requires an array-like object");b&&d&&(b=b.bind(d));d=c(a.length);var f="function"===typeof this?Object(new this(d)):Array(d);if(!h.isArrayLike(a)&&!h.isIterable(a))return f;if(h.isArrayLike(a)){if(0===d)return[];for(var g=0;g<a.length;g++)f[g]=b?b(a[g],g):a[g]}else{g=0;try{for(var k=r.__values(a),
m=k.next();!m.done;m=k.next()){var u=m.value;f[g]=b?b(u,g):u;g++}}catch(B){e={error:B}}finally{try{m&&!m.done&&(l=k.return)&&l.call(k)}finally{if(e)throw e.error;}}}void 0!==a.length&&(f.length=d);return f;var e,l};b.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};b.copyWithin=function(a,b,d,p){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");var f=c(a.length);b=g(k(b),f);d=g(k(d),f);p=g(void 0===p?f:k(p),
f);p=Math.min(p-d,f-b);f=1;b>d&&b<d+p&&(f=-1,d+=p-1,b+=p-1);for(;0<p;)d in a?a[b]=a[d]:delete a[b],b+=f,d+=f,p--;return a};b.fill=function(a,b,d,p){var f=c(a.length);d=g(k(d),f);for(p=g(void 0===p?f:k(p),f);d<p;)a[d++]=b;return a};b.find=function(a,c,d){c=b.findIndex(a,c,d);return-1!==c?a[c]:void 0};b.findIndex=function(a,b,d){var f=c(a.length);if(!b)throw new TypeError("find: second argument must be a function");d&&(b=b.bind(d));for(d=0;d<f;d++)if(b(a[d],d,a))return d;return-1}}m.default("es7-array")?
b.includes=a.wrapNative(d.default.Array.prototype.includes):b.includes=function(a,b,c){void 0===c&&(c=0);var f;f=a.length;f=Number(f);isNaN(f)?f=0:(isFinite(f)&&(f=Math.floor(f)),f=Math.min(Math.max(f,0),n.MAX_SAFE_INTEGER));for(;c<f;++c){var d=a[c];if(b===d||b!==b&&d!==d)return!0}return!1}})},"@dojo/shim/number":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require",
"exports","./global"],a)})(function(a,b){function r(a){return"number"===typeof a&&h.default.isFinite(a)}function d(a){return r(a)&&Math.floor(a)===a}Object.defineProperty(b,"__esModule",{value:!0});var h=a("./global");b.EPSILON=1;b.MAX_SAFE_INTEGER=Math.pow(2,53)-1;b.MIN_SAFE_INTEGER=-b.MAX_SAFE_INTEGER;b.isNaN=function(a){return"number"===typeof a&&h.default.isNaN(a)};b.isFinite=r;b.isInteger=d;b.isSafeInteger=function(a){return d(a)&&Math.abs(a)<=b.MAX_SAFE_INTEGER}})},"@dojo/shim/Map":function(){(function(a){"object"===
typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ./support/has ./Symbol".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var r=a("tslib"),d=a("./iterator"),h=a("./global"),n=a("./object"),m=a("./support/has");a("./Symbol");b.Map=h.default.Map;m.default("es6-map")||(b.Map=(c=function(){function a(a){this._keys=[];this._values=
[];this[Symbol.toStringTag]="Map";if(a)if(d.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(var b=r.__values(a),g=b.next();!g.done;g=b.next())c=g.value,this.set(c[0],c[1])}catch(w){p={error:w}}finally{try{g&&!g.done&&(k=b.return)&&k.call(b)}finally{if(p)throw p.error;}}var p,k}a.prototype._indexOfKey=function(a,b){for(var c=0,f=a.length;c<f;c++)if(n.is(a[c],b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},
enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,b=this._keys.map(function(b,c){return[b,a._values[c]]});return new d.ShimIterator(b)};a.prototype.forEach=function(a,b){for(var c=this._keys,f=this._values,d=0,g=c.length;d<g;d++)a.call(b,f[d],c[d],this)};a.prototype.get=
function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new d.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,a),c=0>c?this._keys.length:c;this._keys[c]=a;this._values[c]=b;return this};a.prototype.values=function(){return new d.ShimIterator(this._values)};a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),
c[Symbol.species]=c,c));b.default=b.Map;var c})},"@dojo/shim/object":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","./global","./support/has","./Symbol"],a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var r=a("./global"),d=a("./support/has"),h=a("./Symbol");d.default("es6-object")?(a=r.default.Object,b.assign=a.assign,b.getOwnPropertyDescriptor=
a.getOwnPropertyDescriptor,b.getOwnPropertyNames=a.getOwnPropertyNames,b.getOwnPropertySymbols=a.getOwnPropertySymbols,b.is=a.is,b.keys=a.keys):(b.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},b.assign=function(a){for(var d=[],c=1;c<arguments.length;c++)d[c-1]=arguments[c];if(null==a)throw new TypeError("Cannot convert undefined or null to object");var k=Object(a);d.forEach(function(a){a&&b.keys(a).forEach(function(b){k[b]=a[b]})});return k},b.getOwnPropertyDescriptor=
function(a,b){h.isSymbol(b);return Object.getOwnPropertyDescriptor(a,b)},b.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},b.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},b.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b});d.default("es2017-object")?(a=r.default.Object,b.getOwnPropertyDescriptors=
a.getOwnPropertyDescriptors,b.entries=a.entries,b.values=a.values):(b.getOwnPropertyDescriptors=function(a){return b.getOwnPropertyNames(a).reduce(function(d,c){d[c]=b.getOwnPropertyDescriptor(a,c);return d},{})},b.entries=function(a){return b.keys(a).map(function(b){return[b,a[b]]})},b.values=function(a){return b.keys(a).map(function(b){return a[b]})})})},"esri/core/libs/rbush/rbush":function(){define(["../quickselect/quickselect"],function(a){function b(a,c){if(!(this instanceof b))return new b(a,
c);this._maxEntries=Math.max(4,a||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));c&&this._initFormat(c);this.clear()}function r(a,b){d(a,0,a.children.length,b,a)}function d(a,b,c,f,d){d||(d=v(null));d.minX=Infinity;d.minY=Infinity;d.maxX=-Infinity;d.maxY=-Infinity;for(var e;b<c;b++)e=a.children[b],h(d,a.leaf?f(e):e);return d}function h(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function n(a,
b){return a.minX-b.minX}function m(a,b){return a.minY-b.minY}function c(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function k(a){return a.maxX-a.minX+(a.maxY-a.minY)}function g(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function f(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function v(a){return{children:a,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function x(b,c,f,d,g){for(var e=[c,f],p;e.length;)f=e.pop(),
c=e.pop(),f-c<=d||(p=c+Math.ceil((f-c)/d/2)*d,a(b,p,c,f,g),e.push(c,p,p,f))}b.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],d=this.toBBox;if(!f(a,b))return c;for(var p=[],e,l,k,h;b;){e=0;for(l=b.children.length;e<l;e++)k=b.children[e],h=b.leaf?d(k):k,f(a,h)&&(b.leaf?c.push(k):g(a,h)?this._all(k,c):p.push(k));b=p.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!f(a,b))return!1;for(var d=[],p,e,l,k;b;){p=0;for(e=b.children.length;p<
e;p++)if(l=b.children[p],k=b.leaf?c(l):l,f(a,k)){if(b.leaf||g(a,k))return!0;d.push(l)}b=d.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}a=this._build(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this._splitRoot(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this._insert(a,this.data.height-a.height-1,!0)):this.data=a;return this},insert:function(a){a&&
this._insert(a,this.data.height-1);return this},clear:function(){this.data=v([]);return this},remove:function(a,b){if(!a)return this;for(var c=this.data,f=this.toBBox(a),d=[],e=[],p,k,h,m;c||d.length;){c||(c=d.pop(),k=d[d.length-1],p=e.pop(),m=!0);if(c.leaf){a:{h=a;var n=c.children,v=b;if(v){for(var x=0;x<n.length;x++)if(v(h,n[x])){h=x;break a}h=-1}else h=n.indexOf(h)}if(-1!==h){c.children.splice(h,1);d.push(c);this._condense(d);break}}m||c.leaf||!g(c,f)?k?(p++,c=k.children[p],m=!1):c=null:(d.push(c),
e.push(p),p=0,k=c,c=c.children[0])}return this},toBBox:function(a){return a},compareMinX:n,compareMinY:m,toJSON:function(){return this.data},fromJSON:function(a){this.data=a;return this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,f){var d=c-b+1,e=this._maxEntries,p;if(d<=e)return p=v(a.slice(b,c+1)),r(p,this.toBBox),p;f||(f=Math.ceil(Math.log(d)/Math.log(e)),e=Math.ceil(d/Math.pow(e,f-1)));p=v([]);p.leaf=
!1;p.height=f;var d=Math.ceil(d/e),e=d*Math.ceil(Math.sqrt(e)),g,k,h;for(x(a,b,c,e,this.compareMinX);b<=c;b+=e)for(k=Math.min(b+e-1,c),x(a,b,k,d,this.compareMinY),g=b;g<=k;g+=d)h=Math.min(g+d-1,k),p.children.push(this._build(a,g,h,f-1));r(p,this.toBBox);return p},_chooseSubtree:function(a,b,f,d){for(var p,e,g,k,h,m,n,v;;){d.push(b);if(b.leaf||d.length-1===f)break;n=v=Infinity;p=0;for(e=b.children.length;p<e;p++)g=b.children[p],h=c(g),m=(Math.max(g.maxX,a.maxX)-Math.min(g.minX,a.minX))*(Math.max(g.maxY,
a.maxY)-Math.min(g.minY,a.minY))-h,m<v?(v=m,n=h<n?h:n,k=g):m===v&&h<n&&(n=h,k=g);b=k||b.children[0]}return b},_insert:function(a,b,c){var f=this.toBBox;c=c?a:f(a);var f=[],d=this._chooseSubtree(c,this.data,b,f);d.children.push(a);for(h(d,c);0<=b;)if(f[b].children.length>this._maxEntries)this._split(f,b),b--;else break;this._adjustParentBBoxes(c,f,b)},_split:function(a,b){var c=a[b],f=c.children.length,d=this._minEntries;this._chooseSplitAxis(c,d,f);f=this._chooseSplitIndex(c,d,f);f=v(c.children.splice(f,
c.children.length-f));f.height=c.height;f.leaf=c.leaf;r(c,this.toBBox);r(f,this.toBBox);b?a[b-1].children.push(f):this._splitRoot(c,f)},_splitRoot:function(a,b){this.data=v([a,b]);this.data.height=a.height+1;this.data.leaf=!1;r(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,f){var p,g,e,l,k,h,m;k=h=Infinity;for(p=b;p<=f-b;p++)g=d(a,0,p,this.toBBox),e=d(a,p,f,this.toBBox),l=Math.max(0,Math.min(g.maxX,e.maxX)-Math.max(g.minX,e.minX))*Math.max(0,Math.min(g.maxY,e.maxY)-Math.max(g.minY,e.minY)),
g=c(g)+c(e),l<k?(k=l,m=p,h=g<h?g:h):l===k&&g<h&&(h=g,m=p);return m},_chooseSplitAxis:function(a,b,c){var f=a.leaf?this.compareMinX:n,d=a.leaf?this.compareMinY:m,e=this._allDistMargin(a,b,c,f);b=this._allDistMargin(a,b,c,d);e<b&&a.children.sort(f)},_allDistMargin:function(a,b,c,f){a.children.sort(f);f=this.toBBox;var g=d(a,0,b,f),e=d(a,c-b,c,f),p=k(g)+k(e),m,n;for(m=b;m<c-b;m++)n=a.children[m],h(g,a.leaf?f(n):n),p+=k(g);for(m=c-b-1;m>=b;m--)n=a.children[m],h(e,a.leaf?f(n):n),p+=k(e);return p},_adjustParentBBoxes:function(a,
b,c){for(;0<=c;c--)h(b[c],a)},_condense:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():r(a[b],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0]));this.compareMinY=new Function("a","b",b.join(a[1]));this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};return b})},"esri/core/libs/quickselect/quickselect":function(){define([],
function(){function a(d,h,n,m,c){for(;m>n;){if(600<m-n){var k=m-n+1,g=h-n+1,f=Math.log(k),v=.5*Math.exp(2*f/3),f=.5*Math.sqrt(f*v*(k-v)/k)*(0>g-k/2?-1:1);a(d,h,Math.max(n,Math.floor(h-g*v/k+f)),Math.min(m,Math.floor(h+(k-g)*v/k+f)),c)}k=d[h];g=n;v=m;b(d,n,h);for(0<c(d[m],k)&&b(d,n,m);g<v;){b(d,g,v);g++;for(v--;0>c(d[g],k);)g++;for(;0<c(d[v],k);)v--}0===c(d[n],k)?b(d,n,v):(v++,b(d,v,m));v<=h&&(n=v+1);h<=v&&(m=v-1)}}function b(a,b,n){var d=a[b];a[b]=a[n];a[n]=d}function r(a,b){return a<b?-1:a>b?1:0}
return function(b,h,n,m,c){a(b,h,n||0,m||b.length-1,c||r)}})},"esri/geometry/support/normalizeUtils":function(){define("require exports ../../config ../../core/Error ../../core/Logger ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/GeometryService".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v){function x(a){return"polygon"===a.type?a.rings:a.paths}function p(a,b){return Math.ceil((a-b)/(2*b))}function A(a,b){for(var c=0,e=x(a);c<
e.length;c++)for(var f=0,d=e[c];f<d.length;f++)d[f][0]+=b;return a}function w(a){for(var b=[],c=0,e=0,f=0;f<a.length;f++){for(var d=a[f],g=null,p=0;p<d.length;p++)g=d[p],b.push(g),0===p?e=c=g[0]:(c=Math.min(c,g[0]),e=Math.max(e,g[0]));g&&b.push([(c+e)/2,0])}return b}function y(a,b){if(!(a instanceof c||a instanceof m))throw z.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new d("straightLineDensify: the input geometry is neither polyline nor polygon");for(var e=[],
f=0,g=x(a);f<g.length;f++){var p=g[f],l=[];e.push(l);l.push([p[0][0],p[0][1]]);for(var k=0;k<p.length-1;k++){var h=p[k][0],u=p[k][1],n=p[k+1][0],v=p[k+1][1],A=Math.sqrt((n-h)*(n-h)+(v-u)*(v-u)),w=(v-u)/A,r=(n-h)/A,y=A/b;if(1<y){for(var B=1;B<=y-1;B++){var G=B*b;l.push([r*G+h,w*G+u])}A=(A+Math.floor(y-1)*b)/2;l.push([r*A+h,w*A+u])}l.push([n,v])}}return"polygon"===a.type?new m({rings:e,spatialReference:a.spatialReference}):new c({paths:e,spatialReference:a.spatialReference})}function u(a,b,c){b&&(a=
y(a,1E6),a=f.webMercatorToGeographic(a,!0));c&&(a=A(a,c));return a}function e(a,b,c){if(Array.isArray(a)){var e=a[0];if(e>b){var f=p(e,b);a[0]=e+-2*f*b}else e<c&&(f=p(e,c),a[0]=e+-2*f*c)}else e=a.x,e>b?(f=p(e,b),a=a.clone().offset(-2*f*b,0)):e<c&&(f=p(e,c),a=a.clone().offset(-2*f*c,0));return a}function l(a,b){for(var c=-1,e=function(e){var f=b.cutIndexes[e],d=b.geometries[e],g=x(d);e=function(a){var b=g[a];b.some(function(c){if(!(180>c[0])){for(var e=c=0;e<b.length;e++){var f=b[e][0];c=f>c?f:c}c=
Number(c.toFixed(9));c=-360*p(c,180);for(e=0;e<b.length;e++)f=d.getPoint(a,e),d.setPoint(a,e,f.clone().offset(c,0))}return!0})};for(var l=0;l<g.length;l++)e(l);if(f===c)if("polygon"===a[0].type)for(e=0,l=x(d);e<l.length;e++)a[f]=a[f].addRing(l[e]);else{if("polyline"===a[0].type)for(e=0,l=x(d);e<l.length;e++)a[f]=a[f].addPath(l[e])}else c=f,a[f]=d},f=0;f<b.cutIndexes.length;f++)e(f);return a}function B(a,b){if(!Array.isArray(a))return B([a],b);b||(F||(F=new v({url:r.geometryServiceUrl})),b=F);for(var d,
k,h,x,w,y,G,z=0,I=[],S=[],J=0;J<a.length;J++){var Y=a[J];if(Y)if(d||(d=Y.spatialReference,k=g.getInfo(d),y=(h=d.isWebMercator)?102100:4326,x=C[y].maxX,w=C[y].minX,G=C[y].plus180Line,y=C[y].minus180Line),k)if("mesh"===Y.type)S.push(Y);else if("point"===Y.type)S.push(e(Y.clone(),x,w));else if("multipoint"===Y.type)Y=Y.clone(),Y.points=Y.points.map(function(a){return e(a,x,w)}),S.push(Y);else if("extent"===Y.type){var O=Y.clone(),Y=O._normalize(!1,!1,k);S.push(Y.rings?new m(Y):Y)}else if(Y.extent){var O=
Y.extent,V=2*p(O.xmin,w)*x,Y=0===V?Y.clone():A(Y.clone(),V);O.offset(V,0);O.intersects(G)&&O.xmax!==x?(z=O.xmax>z?O.xmax:z,Y=u(Y,h),I.push(Y),S.push("cut")):O.intersects(y)&&O.xmin!==w?(z=2*O.xmax*x>z?2*O.xmax*x:z,Y=u(Y,h,360),I.push(Y),S.push("cut")):S.push(Y)}else S.push(Y.clone());else S.push(Y);else S.push(Y)}d=p(z,x);k=-90;G=d;for(z=new c;0<d;)J=-180+360*d,z.addPath([[J,k],[J,-1*k]]),k*=-1,d--;if(0<I.length&&0<G)return b.cut(I,z).then(function(a){return l(I,a)}).then(function(c){for(var e=[],
d=[],g=0;g<S.length;g++){var p=S[g];if("cut"!==p)d.push(p);else{var p=c.shift(),l=a[g];"polygon"===l.type&&l.rings&&1<l.rings.length&&p.rings.length>=l.rings.length?(e.push(p),d.push("simplify")):d.push(h?f.geographicToWebMercator(p):p)}}return e.length?b.simplify(e).then(function(a){for(var b=[],c=0;c<d.length;c++){var e=d[c];"simplify"!==e?b.push(e):b.push(h?f.geographicToWebMercator(a.shift()):a.shift())}return b}):d});d=[];for(k=0;k<S.length;k++)G=S[k],"cut"!==G?d.push(G):(G=I.shift(),d.push(!0===
h?f.geographicToWebMercator(G):G));return n.resolve(d)}Object.defineProperty(b,"__esModule",{value:!0});var z=h.getLogger("esri.geometry.support.normalizeUtils"),C={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new c({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:k.WebMercator}),minus180Line:new c({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:k.WebMercator})},
4326:{maxX:180,minX:-180,plus180Line:new c({paths:[[[180,-180],[180,180]]],spatialReference:k.WebMercator}),minus180Line:new c({paths:[[[-180,-180],[-180,180]]],spatialReference:k.WebMercator})}};b.straightLineDensify=y;var F;b.normalizeCentralMeridian=B;b.getDenormalizedExtent=function(a){if(!a)return null;var b=a.extent;if(!b)return null;var c=a.spatialReference&&g.getInfo(a.spatialReference);if(!c)return b;var c=c.valid,e=c[0],c=c[1],f=b.width,d=b.xmin,p=b.xmax,p=[p,d],d=p[0],p=p[1];if("extent"===
a.type||0===f||f<=c||f>2*c||d<e||p>c)return b;var l;switch(a.type){case "polygon":if(1<a.rings.length)l=w(a.rings);else return b;break;case "polyline":if(1<a.paths.length)l=w(a.paths);else return b;break;case "multipoint":l=a.points}a=b.clone();for(e=0;e<l.length;e++){var k=l[e][0];0>k?(k+=c,p=Math.max(k,p)):(k-=c,d=Math.min(k,d))}a.xmin=d;a.xmax=p;return a.width<f?(a.xmin-=c,a.xmax-=c,a):b}})},"esri/tasks/GeometryService":function(){define("../core/kebabDictionary ../core/accessorSupport/ensureType ../geometry/Extent ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ../geometry/support/jsonUtils ../request ./Task ./support/ProjectParameters dojo/_base/lang".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f){var v=a({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),x=b.ensureType(g);a=k.createSubclass({declaredClass:"esri.tasks.GeometryService",areasAndLengths:function(a,b){a={query:f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/areasAndLengths",a).then(function(a){return a.data})},autoComplete:function(a,
b,d){var g=a[0].spatialReference;a={query:f.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(g.toJSON()),polygons:JSON.stringify(this._encodeGeometries(a).geometries),polylines:JSON.stringify(this._encodeGeometries(b).geometries)}),callbackParamName:"callback"};if(this.requestOptions||d)a=f.mixin({},this.requestOptions,d,a);return c(this.parsedUrl.path+"/autoComplete",a).then(function(a){return(a.data.geometries||[]).map(function(a){return new n({spatialReference:g,rings:a.rings})})})},buffer:function(a,
b){var d=f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),g=a.outSpatialReference||a.geometries[0].spatialReference;a={query:d,callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/buffer",a).then(function(a){return(a.data.geometries||[]).map(function(a){return new n({spatialReference:g,rings:a.rings})})})},cut:function(a,b,d){var g=a[0].spatialReference,p=a.map(function(a){return a.toJSON()});a={query:f.mixin({},this.parsedUrl.query,
{f:"json",sr:JSON.stringify(g.toJSON()),target:JSON.stringify({geometryType:m.getJsonType(a[0]),geometries:p}),cutter:JSON.stringify(b.toJSON())}),callbackParamName:"callback"};if(this.requestOptions||d)a=f.mixin({},this.requestOptions,d,a);return c(this.parsedUrl.path+"/cut",a).then(function(a){a=a.data;return{cutIndexes:a.cutIndexes,geometries:(a.geometries||[]).map(function(a){return m.fromJSON(a).set("spatialReference",g)})}})},convexHull:function(a,b){var d=a[0].spatialReference;a={query:f.mixin({},
this.parsedUrl.query,{f:"json",sr:JSON.stringify(d.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a))}),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/convexHull",a).then(function(a){return m.fromJSON(a.data.geometry).set("spatialReference",d)})},densify:function(a,b){var d=f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),g=a.geometries[0].spatialReference;a={query:d,callbackParamName:"callback"};if(this.requestOptions||
b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/densify",a).then(function(a){return(a.data.geometries||[]).map(function(a){return m.fromJSON(a).set("spatialReference",g)})})},difference:function(a,b,d){var g=a[0].spatialReference;a={query:f.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(g.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a)),geometry:JSON.stringify({geometryType:m.getJsonType(b),geometry:b.toJSON()})}),callbackParamName:"callback"};if(this.requestOptions||
d)a=f.mixin({},this.requestOptions,d,a);return c(this.parsedUrl.path+"/difference",a).then(function(a){return(a.data.geometries||[]).map(function(a){return m.fromJSON(a).set("spatialReference",g)})})},distance:function(a,b){a={query:f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/distance",a).then(this._handleDistanceResponse)},fromGeoCoordinateString:function(a,b){var d=
{};f.isObject(a.sr)?d.sr=a.sr.wkid||JSON.stringify(a.sr.toJSON()):d.sr=a.sr;d.strings=JSON.stringify(a.strings);d.conversionType=v.toJSON(a.conversionType||"mgrs");d.conversionMode=a.conversionMode;a={query:f.mixin({},this.parsedUrl.query,{f:"json"},d),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/fromGeoCoordinateString",a).then(this._handleFromGeoCoordinateResponse)},generalize:function(a,b){var d=f.mixin({},this.parsedUrl.query,
{f:"json"},a.toJSON()),g=a.geometries[0].spatialReference;a={query:d,callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/generalize",a).then(function(a){return(a.data.geometries||[]).map(function(a){return m.fromJSON(a).set("spatialReference",g)})})},intersect:function(a,b,d){var g=a[0].spatialReference;a={query:f.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(g.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a)),
geometry:JSON.stringify({geometryType:m.getJsonType(b),geometry:b.toJSON()})}),callbackParamName:"callback"};if(this.requestOptions||d)a=f.mixin({},this.requestOptions,d,a);return c(this.parsedUrl.path+"/intersect",a).then(function(a){return(a.data.geometries||[]).map(function(a){return m.fromJSON(a).set("spatialReference",g)})})},lengths:function(a,b){a={query:f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,
b,a);return c(this.parsedUrl.path+"/lengths",a).then(function(a){return a.data})},labelPoints:function(a,b){var d=a.map(function(a){return a.toJSON()}),g=a[0].spatialReference;a={query:f.mixin({},this.parsedUrl.query,{f:"json",sr:g.wkid?g.wkid:JSON.stringify(g.toJSON()),polygons:JSON.stringify(d)}),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/labelPoints",a).then(function(a){return(a.data.labelPoints||[]).map(function(a){return m.fromJSON(a).set("spatialReference",
g)})})},offset:function(a,b){var d=f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),g=a.geometries[0].spatialReference;a={query:d,callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/offset",a).then(function(a){return(a.data.geometries||[]).map(function(a){return m.fromJSON(a).set("spatialReference",g)})})},project:function(a,b){a=x(a);var d=f.mixin({},a.toJSON(),this.parsedUrl.query,{f:"json"}),g=a.outSpatialReference,
p=m.getJsonType(a.geometries[0]),e=this._decodeGeometries;a={query:d,callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/project",a).then(function(a){return e(a.data,p,g)})},relation:function(a,b){a={query:f.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/relation",a).then(this._handleRelationResponse)},
reshape:function(a,b,d){var g=a.spatialReference;a={query:f.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(g.toJSON()),target:JSON.stringify({geometryType:m.getJsonType(a),geometry:a.toJSON()}),reshaper:JSON.stringify(b.toJSON())}),callbackParamName:"callback"};if(this.requestOptions||d)a=f.mixin({},this.requestOptions,d,a);return c(this.parsedUrl.path+"/reshape",a).then(function(a){return m.fromJSON(a.data.geometry).set("spatialReference",g)})},simplify:function(a,b){var d=a[0].spatialReference,
g=f.mixin({},this.parsedUrl.query,{f:"json",sr:d.wkid?d.wkid:JSON.stringify(d.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a))}),p=m.getJsonType(a[0]),e=this._decodeGeometries;a={query:g,callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/simplify",a).then(function(a){return e(a.data,p,d)})},toGeoCoordinateString:function(a,b){var d={};f.isObject(a.sr)?d.sr=a.sr.wkid||JSON.stringify(a.sr.toJSON()):d.sr=a.sr;d.coordinates=
JSON.stringify(a.coordinates);d.conversionType=v.toJSON(a.conversionType||"mgrs");d.conversionMode=a.conversionMode;d.numOfDigits=a.numOfDigits;d.rounding=a.rounding;d.addSpaces=a.addSpaces;a={query:f.mixin({},this.parsedUrl.query,{f:"json"},d),callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/toGeoCoordinateString",a).then(this._handleToGeoCoordinateResponse)},trimExtend:function(a,b){var d=f.mixin({},this.parsedUrl.query,
{f:"json"},a.toJSON()),g=a.sr;a={query:d,callbackParamName:"callback"};if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/trimExtend",a).then(function(a){return(a.data.geometries||[]).map(function(a){return new h({spatialReference:g,paths:a.paths})})})},union:function(a,b){var d=a[0].spatialReference;a={query:f.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(d.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a))}),callbackParamName:"callback"};
if(this.requestOptions||b)a=f.mixin({},this.requestOptions,b,a);return c(this.parsedUrl.path+"/union",a).then(function(a){return m.fromJSON(a.data.geometry).set("spatialReference",d)})},_handleRelationResponse:function(a){return a.data.relations},_handleDistanceResponse:function(a){return(a=a.data)&&a.distance},_handleToGeoCoordinateResponse:function(a){return a.data.strings},_handleFromGeoCoordinateResponse:function(a){return a.data.coordinates},_encodeGeometries:function(a){var b=[],c,d=a.length;
for(c=0;c<d;c++)b.push(a[c].toJSON());return{geometryType:m.getJsonType(a[0]),geometries:b}},_decodeGeometries:function(a,b,c){var d=m.getGeometryType(b);a=a.geometries;var g=[],e={spatialReference:c.toJSON()},l=f.mixin;a.forEach(function(a,b){g[b]=new d(l(a,e))});return g},_toProjectGeometry:function(a){var b=a.spatialReference.toJSON();return a instanceof r?new n({rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]],spatialReference:b}):new h({paths:[[].concat(a.points)],
spatialReference:b})},_fromProjectedGeometry:function(a,b,c){return"extent"===b?(a=a.rings[0],new r(a[0][0],a[0][1],a[2][0],a[2][1],c)):new d({points:a.paths[0],spatialReference:c.toJSON()})}});f.mixin(a,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,
UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,
UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,
UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",
UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});return a})},"esri/core/kebabDictionary":function(){define(["require","exports"],function(a,b){return function(a,b){void 0===b&&(b={});var d=b.ignoreUnknown||!1,n={},m;for(m in a)n[a[m]]=m;var c=function(a){return n.hasOwnProperty(a)?n[a]:d?void 0:a},k=function(b){return a.hasOwnProperty(b)?a[b]:d?void 0:b};return{toJSON:c,fromJSON:k,read:function(a){return k(a)},
write:function(a,b,d){a=c(a);void 0!==a&&(b[d]=a)}}}})},"esri/tasks/Task":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators".split(" "),function(a,b,r,d,h,n,m,c,k){return function(a){function b(b){b=a.call(this)||this;b.requestOptions=null;b.url=null;return b}r(b,a);b.prototype.normalizeCtorArgs=function(a,b){return"string"!==
typeof a?a:n({url:a},b)};Object.defineProperty(b.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!0,configurable:!0});b.prototype._parseUrl=function(a){return a?c.urlToObject(a):null};b.prototype._encode=function(a,b,c){var d={},f;for(f in a)if("declaredClass"!==f){var g=a[f];if(null!=g&&"function"!==typeof g)if(Array.isArray(g)){d[f]=[];for(var k=0;k<g.length;k++)d[f][k]=this._encode(g[k])}else"object"===typeof g?g.toJSON&&(g=g.toJSON(c&&c[f]),d[f]=b?g:JSON.stringify(g)):
d[f]=g}return d};d([k.property({readOnly:!0,dependsOn:["url"]})],b.prototype,"parsedUrl",null);d([k.property()],b.prototype,"requestOptions",void 0);d([k.property({type:String})],b.prototype,"url",void 0);return b=d([k.subclass("esri.tasks.Task")],b)}(k.declared(m))})},"esri/tasks/support/ProjectParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators ../../geometry/support/jsonUtils".split(" "),
function(a,b,r,d,h,n,m,c,k){var g=m.getLogger("esri.tasks.support.ProjectParameters");return function(a){function b(b){b=a.call(this)||this;b.geometries=null;b.outSpatialReference=null;b.transformation=null;b.transformForward=null;return b}r(b,a);Object.defineProperty(b.prototype,"outSR",{get:function(){g.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");return this.outSpatialReference},set:function(a){g.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");
this.outSpatialReference=a},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){var a=this.geometries.map(function(a){return a.toJSON()}),b=this.geometries[0],c={};c.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON());c.inSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON());c.geometries=JSON.stringify({geometryType:k.getJsonType(b),geometries:a});this.transformation&&(c.transformation=this.transformation.wkid||JSON.stringify(this.transformation));
n.isDefined(this.transformForward)&&(c.transformForward=this.transformForward);return c};d([c.property()],b.prototype,"geometries",void 0);d([c.property({json:{read:{source:"outSR"}}})],b.prototype,"outSpatialReference",void 0);d([c.property({json:{read:!1}})],b.prototype,"outSR",null);d([c.property()],b.prototype,"transformation",void 0);d([c.property()],b.prototype,"transformForward",void 0);return b=d([c.subclass("esri.tasks.support.ProjectParameters")],b)}(c.declared(h))})},"esri/geometry/support/scaleUtils":function(){define(["require",
"exports","../../config","../../core/kebabDictionary","./WKIDUnitConversion"],function(a,b,r,d,h){function n(a){return x.fromJSON(a.toLowerCase())||null}function m(a){return c(a)||b.decDegToMeters}function c(a){var b,c,d;a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=v.values[v[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=f.exec(c))&&a[1]&&(d=parseFloat(a[1].split(",")[1]));return d}function k(a){var b,c,d;a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===
typeof a?b=a:"string"===typeof a&&(c=a));b?d=v.units[v[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=f.exec(c))&&a[1]&&(d=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return d?n(d):null}function g(a,c){c=m(c);return a/(c*b.inchesPerMeter*r.screenDPI)}Object.defineProperty(b,"__esModule",{value:!0});b.inchesPerMeter=39.37;b.decDegToMeters=20015077/180;var f=/UNIT\[([^\]]+)\]\]$/i,v=h,x=d({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",
yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"},{ignoreUnknown:!0});b.unitFromRESTJSON=n;b.unitToRESTJSON=function(a){return x.toJSON(a)||null};b.getMetersPerVerticalUnitForSR=function(a){a=m(a);return 1E5<a?
1:a};b.getVerticalUnitStringForSR=function(a){return 1E5<m(a)?"meters":k(a)};b.getMetersPerUnitForSR=m;b.getMetersPerUnit=c;b.getUnitString=k;b.getScale=function(a,d){d=d||a.extent;a=a.width;var f=c(d&&d.spatialReference);return d&&a?d.width/a*(f||b.decDegToMeters)*b.inchesPerMeter*r.screenDPI:0};b.getResolutionForScale=g;b.getExtentForScale=function(a,b){var c=a.extent;a=a.width;b=g(b,c.spatialReference);return c.clone().expand(b*a/c.width)}})},"esri/layers/graphics/data/attributeSupport":function(){define("require exports ../../../core/Error ../../../core/LRUCache ../../../core/LRUMap ../../../core/sql/WhereClause".split(" "),
function(a,b,r,d,h,n){function m(a,b){for(var c=[],d=0;d<b.length;d++){var k=b[d];"*"===k||a.has(k)||c.push(k)}return c}Object.defineProperty(b,"__esModule",{value:!0});b.invalidClauseCache=new d(500);b.whereClausesCache=new h(50);b.validateWhere=function(a,d){if(!d)return!0;var c;try{c=n.create(d),b.whereClausesCache.set(d,c)}catch(f){throw b.invalidClauseCache.insert(d,null),new r("feature-store:unsupported-query","invalid SQL expression",{where:d});}if(!c.isStandardized())throw new r("feature-store:unsupported-query",
"where clause is not standard",{where:d});c=c.getFields();a=m(a,c);if(a.length)throw new r("feature-store:unsupported-query","where clause contains missing fields",{missingFields:a,where:d});return!0};b.getWhereClause=function(a){if(!a)return null;if(b.invalidClauseCache.has(a))return b.invalidClauseCache.use(a);if(b.whereClausesCache.has(a))return b.whereClausesCache.get(a);var c;c=n.create(a);b.whereClausesCache.set(a,c);return c};b.getMissingFields=m})},"esri/core/LRUCache":function(){define(["require",
"exports"],function(a,b){return function(){function a(a){this._cache={};this._lruQueue=[];if(0>=a)throw Error("LRU cache size must be bigger than zero!");this._maxSize=a}a.prototype.has=function(a){return void 0!==this._cache[a]};a.prototype.insert=function(a,b){null!==this.use(a)?this._cache[a]=b:(this._collect(),this._cache[a]=b,this._lruQueue.unshift(a))};a.prototype.use=function(a){var b=this._cache[a];if(!b)return null;this._lruQueue.splice(this._lruQueue.indexOf(a),1);this._lruQueue.unshift(a);
return b};a.prototype.print=function(){for(var a=0,b=this._lruQueue;a<b.length;a++){var n=b[a];console.log("key: "+n+", value: "+this._cache[n])}};a.prototype._collect=function(){if(!(this._lruQueue.length<this._maxSize)){var a=this._lruQueue.pop(),b=this._cache[a];b&&b.release&&b.release();delete this._cache[a]}};return a}()})},"esri/core/LRUMap":function(){define(["require","exports"],function(a,b){return function(){function a(a,b){void 0===a&&(a=0);this.sizeOfFunction=function(){return 1};this._sizeOf=
0;this._cache=new Map;this._queue=[];if(0>=a)throw Error("LRU cache size must be bigger than zero!");this._maxSize=a;b&&(b.disposeFunction&&(this.disposeFunction=b.disposeFunction),b.sizeOfFunction&&(this.sizeOfFunction=b.sizeOfFunction))}Object.defineProperty(a.prototype,"length",{get:function(){return this._cache.size},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._sizeOf},enumerable:!0,configurable:!0});a.prototype.clear=function(){var a=this;
this._queue.length=0;this.disposeFunction&&this._cache.forEach(function(b,d){a.disposeFunction(d,b)});this._cache.clear();this._sizeOf=0};a.prototype.delete=function(a){var b=this._cache.get(a);return this._cache.delete(a)?(this._sizeOf-=this.sizeOfFunction(b),this._queue.splice(this._queue.indexOf(a),1),this.disposeFunction&&this.disposeFunction(a,b),!0):!1};a.prototype.forEach=function(a,b){this._cache.forEach(a,b)};a.prototype.get=function(a){var b=this._cache.get(a);if(void 0!==b)return this._queue.splice(this._queue.indexOf(a),
1),this._queue.unshift(a),b};a.prototype.has=function(a){return this._cache.has(a)};a.prototype.set=function(a,b){var d=this.get(a);void 0!==d?this._sizeOf-=this.sizeOfFunction(d):this._queue.unshift(a);this._sizeOf+=this.sizeOfFunction(b);this._cache.set(a,b);this._collect();return this};a.prototype._collect=function(){for(;this._queue.length&&this._sizeOf>this._maxSize;){var a=this._queue.pop(),b=this._cache.get(a);this._cache.delete(a)&&(this._sizeOf-=this.sizeOfFunction(b),this.disposeFunction&&
this.disposeFunction(a,b))}};return a}()})},"esri/core/sql/WhereClause":function(){define(["require","exports","../../moment","./StandardizedFunctions","./WhereGrammar"],function(a,b,r,d,h){function n(a){return Array.isArray(a)?a:[a]}function m(a){return null!==a?!0!==a:null}function c(a,b){if(null==a)return null;for(var c=!1,d=0;d<b.length;d++){var f=b[d];if(null==f)c=null;else if(a===f){c=!0;break}}return c}function k(a,b,c){if(null==a)return null;for(var d="",f=0,g=0;g<b.length;g++){var e=b.charAt(g);
switch(f){case 0:e===c?f=1:d=0<="-[]/{}()*+?.\\^$|".indexOf(e)?d+("\\"+e):"%"===e?d+".*":"_"===e?d+".":d+e;break;case 1:d=0<="-[]/{}()*+?.\\^$|".indexOf(e)?d+("\\"+e):d+e,f=0}}return(new RegExp("^"+d+"$")).test(a)}function g(a){return a instanceof Date?a.valueOf():a}function f(a,b,c){if(null==b||null==c)return null;b=g(b);c=g(c);switch(a){case "\x3c\x3e":return b!==c;case "\x3d":return b===c;case "\x3e":return b>c;case "\x3c":return b<c;case "\x3e\x3d":return b>=c;case "\x3c\x3d":return b<=c}}function v(a){for(var b=
[],c={},d=0;d<a.length;d++){var f=a[d],g=f.toLowerCase();void 0===c[g]&&(b.push(f),c[g]=1)}return b}return function(){function a(){this.parameters=this.parseTree=null}a.create=function(b){var c=new a;c.parseTree=h.WhereGrammar.parse(b);return c};a.prototype.isStandardized=function(){var a=!0;this.visitAll(this.parseTree,function(b){a&&"function"===b.type&&(a=d.isStandardized(b.name,b.args.value.length))});return a};a.prototype.setVariablesDictionary=function(a){this.parameters=a};a.prototype.testFeature=
function(a){return!!this.evaluateNode(this.parseTree,a)};a.prototype.calculateValue=function(a){return this.evaluateNode(this.parseTree,a)};a.prototype.getFunctions=function(){var a=[];this.visitAll(this.parseTree,function(b){"function"===b.type&&a.push(b.name.toLowerCase())});return v(a)};a.prototype.getFields=function(){var a=[];this.visitAll(this.parseTree,function(b){"column_ref"===b.type&&a.push(b.column)});return v(a)};a.prototype.getVariables=function(){var a=[];this.visitAll(this.parseTree,
function(b){"param"===b.type&&a.push(b.value.toLowerCase())});return v(a)};a.prototype.featureValue=function(a,b,c){a=a&&"object"===typeof a.attributes?a.attributes:a;var d=a[b];if(void 0!==d)return d;for(var f in a)if(b.toLowerCase()===f.toLowerCase())return c.column=f,a[f];return null};a.prototype.visitAll=function(a,b){if(null!=a)switch(b(a),a.type){case "when_clause":this.visitAll(a.operand,b);this.visitAll(a.value,b);break;case "case_expression":for(var c=0,d=a.clauses;c<d.length;c++){var f=
d[c];this.visitAll(f,b)}"simple"===a.format&&this.visitAll(a.operand,b);null!==a.else&&this.visitAll(a.else,b);break;case "expr_list":c=0;for(a=a.value;c<a.length;c++)f=a[c],this.visitAll(f,b);break;case "unary_expr":this.visitAll(a.expr,b);break;case "binary_expr":this.visitAll(a.left,b);this.visitAll(a.right,b);break;case "function":this.visitAll(a.args,b)}};a.prototype.evaluateNode=function(a,b){switch(a.type){case "case_expression":if("simple"===a.format)for(var h=g(this.evaluateNode(a.operand,
b)),p=0;p<a.clauses.length;p++){if(h===g(this.evaluateNode(a.clauses[p].operand,b)))return this.evaluateNode(a.clauses[p].value,b)}else for(p=0;p<a.clauses.length;p++)if(!0===this.evaluateNode(a.clauses[p].operand,b))return this.evaluateNode(a.clauses[p].value,b);return null!==a.else?this.evaluateNode(a.else,b):null;case "param":return this.parameters[a.value.toLowerCase()];case "expr_list":h=[];p=0;for(a=a.value;p<a.length;p++){var u=a[p];h.push(this.evaluateNode(u,b))}return h;case "unary_expr":return m(this.evaluateNode(a.expr,
b));case "binary_expr":switch(a.operator){case "AND":return h=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null!=h&&null!=b?!0===h&&!0===b:!1===h||!1===b?!1:null;case "OR":return h=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null!=h&&null!=b?!0===h||!0===b:!0===h||!0===b?!0:null;case "IS":if("null"!==a.right.type)throw Error("Unsupported RHS for IS");return null===this.evaluateNode(a.left,b);case "ISNOT":if("null"!==a.right.type)throw Error("Unsupported RHS for IS");return null!==
this.evaluateNode(a.left,b);case "IN":return h=n(this.evaluateNode(a.right,b)),c(this.evaluateNode(a.left,b),h);case "NOT IN":return h=n(this.evaluateNode(a.right,b)),m(c(this.evaluateNode(a.left,b),h));case "BETWEEN":return h=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null==h||null==b[0]||null==b[1]?null:h>=b[0]&&h<=b[1];case "NOTBETWEEN":return h=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null==h||null==b[0]||null==b[1]?null:h<b[0]||h>b[1];case "LIKE":return k(this.evaluateNode(a.left,
b),this.evaluateNode(a.right,b),a.escape);case "NOT LIKE":return m(k(this.evaluateNode(a.left,b),this.evaluateNode(a.right,b),a.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return f(a.operator,this.evaluateNode(a.left,b),this.evaluateNode(a.right,b));case "*":return this.evaluateNode(a.left,b)*this.evaluateNode(a.right,b);case "-":return this.evaluateNode(a.left,b)-this.evaluateNode(a.right,b);case "+":return this.evaluateNode(a.left,b)+this.evaluateNode(a.right,
b);case "/":return this.evaluateNode(a.left,b)/this.evaluateNode(a.right,b)}throw Error("Not Supported Operator "+a.operator);case "null":case "bool":case "string":case "number":return a.value;case "date":return r(a.value,["YYYY-M-D"]).toDate();case "timestamp":return r(a.value,["YYYY-M-D H:m:s","YYYY-M-D H:mZ","YYYY-M-D H:m:sZ","YYYY-M-D H:m","YYYY-m-d"]).toDate();case "column_ref":return"CURRENT_DATE"===a.column.toUpperCase()?(u=new Date,u.setHours(0,0,0,0),u):"CURRENT_TIMESTAMP"===a.column.toUpperCase()?
new Date:this.featureValue(b,a.column,a);case "function":return b=this.evaluateNode(a.args,b),d.evaluateFunction(a.name,b)}throw Error("Unsupported sql syntax "+a.type);};return a}()})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(a,b,r){return r})},"esri/plugins/moment":function(){define(["require","exports","dojo/_base/kernel","moment/moment"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});var h={ar:1,"ar-dz":1,"ar-kw":1,"ar-ly":1,"ar-ma":1,
"ar-sa":1,"ar-tn":1,bs:1,ca:1,cs:1,da:1,de:1,"de-at":1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,"en-ie":1,"en-il":1,"en-nz":1,es:1,"es-do":1,"es-us":1,et:1,fi:1,fr:1,"fr-ca":1,"fr-ch":1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,ko:1,lt:1,lv:1,nb:1,nl:1,"nl-be":1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,sl:1,sr:1,"sr-cyrl":1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1};b.load=function(a,b,c){a=r.locale;var k=a in h;if(!k){var g=a.split("-");1<g.length&&g[0]in h&&(a=g[0],k=!0)}k?b(["moment/locale/"+a],function(){c(d)}):
c(d)}})},"moment/moment":function(){(function(a,b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define(b):a.moment=b()})(this,function(){function a(){return gd.apply(null,arguments)}function b(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function r(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function d(a){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(a).length;
for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function h(a){return void 0===a}function n(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function m(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function c(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function k(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)k(b,c)&&(a[c]=b[c]);k(b,"toString")&&(a.toString=b.toString);
k(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function f(a,b,c,d){return cb(a,b,c,d,!0).utc()}function v(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return a._pf}function x(a){if(null==a._isValid){var b=v(a),c=hd.call(b.parsedDateParts,function(a){return null!=a}),c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&
!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function p(a){var b=f(NaN);null!=a?g(v(b),a):v(b).userInvalidated=!0;return b}function A(a,b){var c,d,e;h(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject);h(b._i)||(a._i=b._i);h(b._f)||
(a._f=b._f);h(b._l)||(a._l=b._l);h(b._strict)||(a._strict=b._strict);h(b._tzm)||(a._tzm=b._tzm);h(b._isUTC)||(a._isUTC=b._isUTC);h(b._offset)||(a._offset=b._offset);h(b._pf)||(a._pf=v(b));h(b._locale)||(a._locale=b._locale);if(0<Vc.length)for(c=0;c<Vc.length;c++)d=Vc[c],e=b[d],h(e)||(a[d]=e);return a}function w(b){A(this,b);this._d=new Date(null!=b._d?b._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Wc&&(Wc=!0,a.updateOffset(this),Wc=!1)}function y(a){return a instanceof w||null!=
a&&null!=a._isAMomentObject}function u(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function e(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=u(a));return b}function l(a,b,c){var d=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0,l;for(l=0;l<d;l++)(c&&a[l]!==b[l]||!c&&e(a[l])!==e(b[l]))&&g++;return g+f}function B(b){!1===a.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function z(b,c){var d=!0;return g(function(){null!=a.deprecationHandler&&
a.deprecationHandler(null,b);if(d){for(var e=[],f,g=0;g<arguments.length;g++){f="";if("object"===typeof arguments[g]){f+="\n["+g+"] ";for(var l in arguments[0])f+=l+": "+arguments[0][l]+", ";f=f.slice(0,-2)}else f=arguments[g];e.push(f)}B(b+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+Error().stack);d=!1}return c.apply(this,arguments)},c)}function C(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c);id[b]||(B(c),id[b]=!0)}function F(a){return a instanceof Function||"[object Function]"===
Object.prototype.toString.call(a)}function G(a,b){var c=g({},a),d;for(d in b)k(b,d)&&(r(a[d])&&r(b[d])?(c[d]={},g(c[d],a[d]),g(c[d],b[d])):null!=b[d]?c[d]=b[d]:delete c[d]);for(d in a)k(a,d)&&!k(b,d)&&r(a[d])&&(c[d]=g({},c[d]));return c}function I(a){null!=a&&this.set(a)}function E(a,b){var c=a.toLowerCase();Fb[c]=Fb[c+"s"]=Fb[b]=a}function M(a){return"string"===typeof a?Fb[a]||Fb[a.toLowerCase()]:void 0}function ma(a){var b={},c,d;for(d in a)k(a,d)&&(c=M(d))&&(b[c]=a[d]);return b}function ga(a){var b=
[],c;for(c in a)b.push({unit:c,priority:Da[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function X(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function Q(a,b,c,d){var e=d;"string"===typeof d&&(e=function(){return this[d]()});a&&($a[a]=e);b&&($a[b[0]]=function(){return X(e.apply(this,arguments),b[1],b[2])});c&&($a[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function ja(a){return a.match(/\[[\s\S]/)?
a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function aa(a){var b=a.match(Zb),c,d;c=0;for(d=b.length;c<d;c++)b[c]=$a[b[c]]?$a[b[c]]:ja(b[c]);return function(c){var e="",f;for(f=0;f<d;f++)e+=F(b[f])?b[f].call(c,a):b[f];return e}}function ra(a,b){if(!a.isValid())return a.localeData().invalidDate();b=S(b,a.localeData());$b[b]=$b[b]||aa(b);return $b[b](a)}function S(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kb.lastIndex=0;0<=d&&Kb.test(a);)a=a.replace(Kb,c),Kb.lastIndex=0,--d;return a}
function J(a,b,c){Xc[a]=F(b)?b:function(a,d){return a&&c?c:b}}function Y(a,b){return k(Xc,a)?Xc[a](b._strict,b._locale):new RegExp(O(a))}function O(a){return V(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function V(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function T(a,b){var c,d=b;"string"===typeof a&&(a=[a]);n(b)&&(d=function(a,c){c[b]=e(a)});for(c=0;c<a.length;c++)ac[a[c]]=d}function fa(a,b){T(a,function(a,c,d,e){d._w=
d._w||{};b(a,d._w,d,e)})}function U(a){return 0===a%4&&0!==a%100||0===a%400}function W(b,c){return function(d){return null!=d?(na(this,b,d),a.updateOffset(this,c),this):la(this,b)}}function la(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function na(a,b,c){if(a.isValid()&&!isNaN(c))if("FullYear"===b&&U(a.year())&&1===a.month()&&29===a.date())a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ka(c,a.month()));else a._d["set"+(a._isUTC?"UTC":"")+b](c)}function ka(a,b){if(isNaN(a)||isNaN(b))return NaN;
var c=(b%12+12)%12;return 1===c?U(a+(b-c)/12)?29:28:31-c%7%2}function ba(a,b){var c;if(!a.isValid())return a;if("string"===typeof b)if(/^\d+$/.test(b))b=e(b);else if(b=a.localeData().monthsParse(b),!n(b))return a;c=Math.min(a.date(),ka(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function va(b){return null!=b?(ba(this,b),a.updateOffset(this,!0),this):la(this,"Month")}function sa(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],e,g;for(e=0;12>e;e++)g=f([2E3,e]),b.push(this.monthsShort(g,
"")),c.push(this.months(g,"")),d.push(this.months(g,"")),d.push(this.monthsShort(g,""));b.sort(a);c.sort(a);d.sort(a);for(e=0;12>e;e++)b[e]=V(b[e]),c[e]=V(c[e]);for(e=0;24>e;e++)d[e]=V(d[e]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+d.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function Ma(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a);
return b}function Ga(a){var b=new Date(Date.UTC.apply(null,arguments));100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a);return b}function Ha(a,b,c){c=7+b-c;return-((7+Ga(a,0,c).getUTCDay()-b)%7)+c-1}function N(a,b,c,d,e){c=(7+c-d)%7;d=Ha(a,d,e);d=1+7*(b-1)+c+d;0>=d?(b=a-1,a=(U(b)?366:365)+d):d>(U(a)?366:365)?(b=a+1,a=d-(U(a)?366:365)):(b=a,a=d);return{year:b,dayOfYear:a}}function Za(a,b,c){var d=Ha(a.year(),b,c),d=Math.floor((a.dayOfYear()-d-1)/7)+1;1>d?(a=a.year()-1,b=d+pa(a,b,c)):
d>pa(a.year(),b,c)?(b=d-pa(a.year(),b,c),a=a.year()+1):(a=a.year(),b=d);return{week:b,year:a}}function pa(a,b,c){var d=Ha(a,b,c);b=Ha(a+1,b,c);return((U(a)?366:365)-d+b)/7}function Wa(a,b,c){var d,e;a=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;7>d;++d)e=f([2E3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(e,"").toLocaleLowerCase(),
this._weekdaysParse[d]=this.weekdays(e,"").toLocaleLowerCase();if(c)b="dddd"===b?Ea.call(this._weekdaysParse,a):"ddd"===b?Ea.call(this._shortWeekdaysParse,a):Ea.call(this._minWeekdaysParse,a);else if("dddd"===b){b=Ea.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._minWeekdaysParse,a)}else if("ddd"===b){b=Ea.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._minWeekdaysParse,
a)}else{b=Ea.call(this._minWeekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._shortWeekdaysParse,a)}return-1!==b?b:null}function q(){function a(a,b){return b.length-a.length}var b=[],c=[],d=[],e=[],g,l,k,h;for(g=0;7>g;g++)l=f([2E3,1]).day(g),k=this.weekdaysMin(l,""),h=this.weekdaysShort(l,""),l=this.weekdays(l,""),b.push(k),c.push(h),d.push(l),e.push(k),e.push(h),e.push(l);b.sort(a);c.sort(a);d.sort(a);e.sort(a);for(g=0;7>g;g++)c[g]=V(c[g]),d[g]=
V(d[g]),e[g]=V(e[g]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+e.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function Ia(){return this.hours()%12||12}function ab(a,b){Q(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function qb(a,b){return b._meridiemParse}
function Bb(a){return a?a.toLowerCase().replace("_","-"):a}function Ja(a){var b=null;if(!Na[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=ic._abbr,require("./locale/"+a),Ra(b)}catch(Rd){}return Na[a]}function Ra(a,b){a&&((b=h(b)?Ka(a):ib(a,b))?ic=b:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?"));return ic._abbr}function ib(a,b){if(null!==b){var c;c=jd;b.abbr=a;if(null!=Na[a])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
c=Na[a]._config;else if(null!=b.parentLocale)if(null!=Na[b.parentLocale])c=Na[b.parentLocale]._config;else if(c=Ja(b.parentLocale),null!=c)c=c._config;else return jc[b.parentLocale]||(jc[b.parentLocale]=[]),jc[b.parentLocale].push({name:a,config:b}),null;Na[a]=new I(G(c,b));jc[a]&&jc[a].forEach(function(a){ib(a.name,a.config)});Ra(a);return Na[a]}delete Na[a];return null}function Ka(a){var c;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return ic;if(!b(a)){if(c=Ja(a))return c;a=[a]}a:{c=
0;for(var d,e,f,g;c<a.length;){g=Bb(a[c]).split("-");d=g.length;for(e=(e=Bb(a[c+1]))?e.split("-"):null;0<d;){if(f=Ja(g.slice(0,d).join("-"))){a=f;break a}if(e&&e.length>=d&&l(g,e,!0)>=d-1)break;d--}c++}a=ic}return a}function jb(a){var b;(b=a._a)&&-2===v(a).overflow&&(b=0>b[Cb]||11<b[Cb]?Cb:1>b[rb]||b[rb]>ka(b[Sa],b[Cb])?rb:0>b[Oa]||24<b[Oa]||24===b[Oa]&&(0!==b[kb]||0!==b[Db]||0!==b[Lb])?Oa:0>b[kb]||59<b[kb]?kb:0>b[Db]||59<b[Db]?Db:0>b[Lb]||999<b[Lb]?Lb:-1,v(a)._overflowDayOfYear&&(b<Sa||b>rb)&&(b=
rb),v(a)._overflowWeeks&&-1===b&&(b=kc),v(a)._overflowWeekday&&-1===b&&(b=yc),v(a).overflow=b);return a}function Ba(a,b,c){return null!=a?a:null!=b?b:c}function Qa(b){var c,d=[],e;if(!b._d){e=new Date(a.now());e=b._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()];if(b._w&&null==b._a[rb]&&null==b._a[Cb]){var f,g,l,k,h,p;f=b._w;if(null!=f.GG||null!=f.W||null!=f.E){if(h=1,p=4,g=Ba(f.GG,b._a[Sa],Za(K(),1,4).year),l=Ba(f.W,1),k=Ba(f.E,1),1>k||7<k)c=
!0}else if(h=b._locale._week.dow,p=b._locale._week.doy,l=Za(K(),h,p),g=Ba(f.gg,b._a[Sa],l.year),l=Ba(f.w,l.week),null!=f.d){if(k=f.d,0>k||6<k)c=!0}else if(null!=f.e){if(k=f.e+h,0>f.e||6<f.e)c=!0}else k=h;1>l||l>pa(g,h,p)?v(b)._overflowWeeks=!0:null!=c?v(b)._overflowWeekday=!0:(c=N(g,l,k,h,p),b._a[Sa]=c.year,b._dayOfYear=c.dayOfYear)}if(null!=b._dayOfYear){c=Ba(b._a[Sa],e[Sa]);if(b._dayOfYear>(U(c)?366:365)||0===b._dayOfYear)v(b)._overflowDayOfYear=!0;c=Ga(c,0,b._dayOfYear);b._a[Cb]=c.getUTCMonth();
b._a[rb]=c.getUTCDate()}for(c=0;3>c&&null==b._a[c];++c)b._a[c]=d[c]=e[c];for(;7>c;c++)b._a[c]=d[c]=null==b._a[c]?2===c?1:0:b._a[c];24===b._a[Oa]&&0===b._a[kb]&&0===b._a[Db]&&0===b._a[Lb]&&(b._nextDay=!0,b._a[Oa]=0);b._d=(b._useUTC?Ga:Ma).apply(null,d);d=b._useUTC?b._d.getUTCDay():b._d.getDay();null!=b._tzm&&b._d.setUTCMinutes(b._d.getUTCMinutes()-b._tzm);b._nextDay&&(b._a[Oa]=24);b._w&&"undefined"!==typeof b._w.d&&b._w.d!==d&&(v(b).weekdayMismatch=!0)}}function R(a){var b,c;b=a._i;var d=wd.exec(b)||
xd.exec(b),e,f,g,l;if(d){v(a).iso=!0;b=0;for(c=zc.length;b<c;b++)if(zc[b][1].exec(d[1])){f=zc[b][0];e=!1!==zc[b][2];break}if(null==f)a._isValid=!1;else{if(d[3]){b=0;for(c=Yc.length;b<c;b++)if(Yc[b][1].exec(d[3])){g=(d[2]||" ")+Yc[b][0];break}if(null==g){a._isValid=!1;return}}if(e||null==g){if(d[4])if(yd.exec(d[4]))l="Z";else{a._isValid=!1;return}a._f=f+(g||"")+(l||"");ea(a)}else a._isValid=!1}}else a._isValid=!1}function Pa(a){var b=Ac.exec(a._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g,
" ").trim());if(b){var c=b[3],d=b[2],e=b[5],f=b[6],g=b[7],l=parseInt(b[4],10),c=[49>=l?2E3+l:999>=l?1900+l:l,Mb.indexOf(c),parseInt(d,10),parseInt(e,10),parseInt(f,10)];g&&c.push(parseInt(g,10));a:{if(g=b[1])if(g=kd.indexOf(g),d=(new Date(c[0],c[1],c[2])).getDay(),g!==d){v(a).weekdayMismatch=!0;g=a._isValid=!1;break a}g=!0}g&&(a._a=c,(g=b[8])?b=Bc[g]:b[9]?b=0:(b=parseInt(b[10],10),g=b%100,b=(b-g)/100*60+g),a._tzm=b,a._d=Ga.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),v(a).rfc2822=
!0)}else a._isValid=!1}function Aa(b){var c=zd.exec(b._i);null!==c?b._d=new Date(+c[1]):(R(b),!1===b._isValid&&(delete b._isValid,Pa(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(b){if(b._f===a.ISO_8601)R(b);else if(b._f===a.RFC_2822)Pa(b);else{b._a=[];v(b).empty=!0;var c=""+b._i,d,e,f,g,l,h=c.length,p=0;f=S(b._f,b._locale).match(Zb)||[];for(d=0;d<f.length;d++){g=f[d];if(e=(c.match(Y(g,b))||[])[0])l=c.substr(0,c.indexOf(e)),0<l.length&&v(b).unusedInput.push(l),
c=c.slice(c.indexOf(e)+e.length),p+=e.length;if($a[g]){if(e?v(b).empty=!1:v(b).unusedTokens.push(g),l=b,null!=e&&k(ac,g))ac[g](e,l._a,l,g)}else b._strict&&!e&&v(b).unusedTokens.push(g)}v(b).charsLeftOver=h-p;0<c.length&&v(b).unusedInput.push(c);12>=b._a[Oa]&&!0===v(b).bigHour&&0<b._a[Oa]&&(v(b).bigHour=void 0);v(b).parsedDateParts=b._a.slice(0);v(b).meridiem=b._meridiem;c=b._a;d=Oa;h=b._locale;f=b._a[Oa];p=b._meridiem;null!=p&&(null!=h.meridiemHour?f=h.meridiemHour(f,p):null!=h.isPM&&((h=h.isPM(p))&&
12>f&&(f+=12),h||12!==f||(f=0)));c[d]=f;Qa(b);jb(b)}}function lb(a){if(!a._d){var b=ma(a._i);a._a=c([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});Qa(a)}}function La(a){var c=a._i,d=a._f;a._locale=a._locale||Ka(a._l);if(null===c||void 0===d&&""===c)return p({nullInput:!0});"string"===typeof c&&(a._i=c=a._locale.preparse(c));if(y(c))return new w(jb(c));if(m(c))a._d=c;else if(b(d)){var e,f,l;if(0===a._f.length)v(a).invalidFormat=!0,a._d=
new Date(NaN);else{for(c=0;c<a._f.length;c++)if(d=0,e=A({},a),null!=a._useUTC&&(e._useUTC=a._useUTC),e._f=a._f[c],ea(e),x(e)&&(d+=v(e).charsLeftOver,d+=10*v(e).unusedTokens.length,v(e).score=d,null==l||d<l))l=d,f=e;g(a,f||e)}}else d?ea(a):oa(a);x(a)||(a._d=null);return a}function oa(d){var e=d._i;h(e)?d._d=new Date(a.now()):m(e)?d._d=new Date(e.valueOf()):"string"===typeof e?Aa(d):b(e)?(d._a=c(e.slice(0),function(a){return parseInt(a,10)}),Qa(d)):r(e)?lb(d):n(e)?d._d=new Date(e):a.createFromInputFallback(d)}
function cb(a,c,e,f,g){var l={};if(!0===e||!1===e)f=e,e=void 0;if(r(a)&&d(a)||b(a)&&0===a.length)a=void 0;l._isAMomentObject=!0;l._useUTC=l._isUTC=g;l._l=e;l._i=a;l._f=c;l._strict=f;a=new w(jb(La(l)));a._nextDay&&(a.add(1,"d"),a._nextDay=void 0);return a}function K(a,b,c,d){return cb(a,b,c,d,!1)}function ua(a,c){var d,e;1===c.length&&b(c[0])&&(c=c[0]);if(!c.length)return K();d=c[0];for(e=1;e<c.length;++e)if(!c[e].isValid()||c[e][a](d))d=c[e];return d}function D(a){for(var b in a)if(-1===Ea.call(db,
b)||null!=a[b]&&isNaN(a[b]))return!1;b=!1;for(var c=0;c<db.length;++c)if(a[db[c]]){if(b)return!1;parseFloat(a[db[c]])!==e(a[db[c]])&&(b=!0)}return!0}function da(a){a=ma(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,f=a.day||0,g=a.hour||0,l=a.minute||0,k=a.second||0,h=a.millisecond||0;this._isValid=D(a);this._milliseconds=+h+1E3*k+6E4*l+36E5*g;this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=Ka();this._bubble()}function ia(a){return a instanceof da}function ta(a){return 0>
a?-1*Math.round(-1*a):Math.round(a)}function Z(a,b){Q(a,0,0,function(){var a=this.utcOffset(),c="+";0>a&&(a=-a,c="-");return c+X(~~(a/60),2)+b+X(~~a%60,2)})}function ca(a,b){a=(b||"").match(a);if(null===a)return null;a=((a[a.length-1]||[])+"").match(lc)||["-",0,0];b=+(60*a[1])+e(a[2]);return 0===b?0:"+"===a[0]?b:-b}function L(b,c){return c._isUTC?(c=c.clone(),b=(y(b)||m(b)?b.valueOf():K(b).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+b),a.updateOffset(c,!1),c):K(b).local()}function sb(){return this.isValid()?
this._isUTC&&0===this._offset:!1}function bb(a,b){var c=a,d=null;ia(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:n(a)?(c={},b?c[b]=a:c.milliseconds=a):(d=Cc.exec(a))?(c="-"===d[1]?-1:1,c={y:0,d:e(d[rb])*c,h:e(d[Oa])*c,m:e(d[kb])*c,s:e(d[Db])*c,ms:e(ta(1E3*d[Lb]))*c}):(d=Dc.exec(a))?(c="-"===d[1]?-1:1,c={y:Xa(d[2],c),M:Xa(d[3],c),w:Xa(d[4],c),d:Xa(d[5],c),h:Xa(d[6],c),m:Xa(d[7],c),s:Xa(d[8],c)}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(d=K(c.from),c=K(c.to),d.isValid()&&c.isValid()?
(c=L(c,d),d.isBefore(c)?c=tb(d,c):(c=tb(c,d),c.milliseconds=-c.milliseconds,c.months=-c.months),d=c):d={milliseconds:0,months:0},c={},c.ms=d.milliseconds,c.M=d.months);c=new da(c);ia(a)&&k(a,"_locale")&&(c._locale=a._locale);return c}function Xa(a,b){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*b}function tb(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,
"M");return c}function mb(a,b){return function(c,d){var e;null===d||isNaN(+d)||(C(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),e=c,c=d,d=e);c=bb("string"===typeof c?+c:c,d);mc(this,c,a);return this}}function mc(b,c,d,e){var f=c._milliseconds,g=ta(c._days);c=ta(c._months);b.isValid()&&(e=null==e?!0:e,c&&ba(b,la(b,"Month")+c*d),g&&na(b,"Date",la(b,"Date")+g*d),f&&b._d.setTime(b._d.valueOf()+
f*d),e&&a.updateOffset(b,g||c))}function gb(a,b){var c=12*(b.year()-a.year())+(b.month()-a.month()),d=a.clone().add(c,"months");0>b-d?(a=a.clone().add(c-1,"months"),b=(b-d)/(d-a)):(a=a.clone().add(c+1,"months"),b=(b-d)/(a-d));return-(c+b)||0}function bc(a){if(void 0===a)return this._locale._abbr;a=Ka(a);null!=a&&(this._locale=a);return this}function nb(){return this._locale}function ob(a,b){Q(0,[a,a.length],0,b)}function ub(a,b,c,d,e){var f;if(null==a)return Za(this,d,e).year;f=pa(a,d,e);b>f&&(b=
f);a=N(a,b,c,d,e);a=Ga(a.year,0,a.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());this.date(a.getUTCDate());return this}function nc(a,b){b[Lb]=e(1E3*("0."+a))}function cc(a){return a}function pb(a,b,c,d){var e=Ka();b=f().set(d,b);return e[c](b,a)}function Nb(a,b,c){n(a)&&(b=a,a=void 0);a=a||"";if(null!=b)return pb(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=pb(a,b,c,"month");return d}function Gb(a,b,c,d){"boolean"!==typeof a&&(c=b=a,a=!1);n(b)&&(c=b,b=void 0);b=b||"";var e=
Ka();a=a?e._week.dow:0;if(null!=c)return pb(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=pb(b,(c+a)%7,d,"day");return e}function oc(a,b,c,d){b=bb(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function Ob(a){return 0>a?Math.floor(a):Math.ceil(a)}function Ta(a){return function(){return this.as(a)}}function vb(a){return function(){return this.isValid()?this._data[a]:NaN}}function Ec(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function hb(a){return(0<
a)-(0>a)||+a}function Fc(){if(!this.isValid())return this.localeData().invalidDate();var a=Ad(this._milliseconds)/1E3,b=Ad(this._days),c=Ad(this._months),d,e;d=u(a/60);e=u(d/60);a%=60;d%=60;var f=u(c/12),c=c%12,a=a?a.toFixed(3).replace(/\.?0+$/,""):"",g=this.asSeconds();if(!g)return"P0D";var l=0>g?"-":"",k=hb(this._months)!==hb(g)?"-":"",h=hb(this._days)!==hb(g)?"-":"",g=hb(this._milliseconds)!==hb(g)?"-":"";return l+"P"+(f?k+f+"Y":"")+(c?k+c+"M":"")+(b?h+b+"D":"")+(e||d||a?"T":"")+(e?g+e+"H":"")+
(d?g+d+"M":"")+(a?g+a+"S":"")}var gd,hd;hd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Vc=a.momentProperties=[],Wc=!1,id={};a.suppressDeprecationWarnings=!1;a.deprecationHandler=null;var Pb;Pb=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)k(a,b)&&c.push(b);return c};var Fb={},Da={},Zb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
Kb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$b={},$a={},Qb=/\d/,Ua=/\d\d/,Rb=/\d{3}/,dc=/\d{4}/,Hb=/[+-]?\d{6}/,xa=/\d\d?/,Sb=/\d\d\d\d?/,Tb=/\d\d\d\d\d\d?/,Ub=/\d{1,3}/,Vb=/\d{1,4}/,Wb=/[+-]?\d{1,6}/,Bd=/\d+/,Gc=/[+-]?\d+/,Cd=/Z|[+-]\d\d:?\d\d/gi,Hc=/Z|[+-]\d\d(?::?\d\d)?/gi,pc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Xc={},ac={},Sa=0,Cb=1,rb=2,Oa=3,kb=4,Db=5,Lb=6,kc=7,yc=8;Q("Y",0,
0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});Q(0,["YY",2],0,function(){return this.year()%100});Q(0,["YYYY",4],0,"year");Q(0,["YYYYY",5],0,"year");Q(0,["YYYYYY",6,!0],0,"year");E("year","y");Da.year=1;J("Y",Gc);J("YY",xa,Ua);J("YYYY",Vb,dc);J("YYYYY",Wb,Hb);J("YYYYYY",Wb,Hb);T(["YYYYY","YYYYYY"],Sa);T("YYYY",function(b,c){c[Sa]=2===b.length?a.parseTwoDigitYear(b):e(b)});T("YY",function(b,c){c[Sa]=a.parseTwoDigitYear(b)});T("Y",function(a,b){b[Sa]=parseInt(a,10)});a.parseTwoDigitYear=
function(a){return e(a)+(68<e(a)?1900:2E3)};var qc=W("FullYear",!0),Ea;Ea=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};Q("M",["MM",2],"Mo",function(){return this.month()+1});Q("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});Q("MMMM",0,0,function(a){return this.localeData().months(this,a)});E("month","M");Da.month=8;J("M",xa);J("MM",xa,Ua);J("MMM",function(a,b){return b.monthsShortRegex(a)});J("MMMM",
function(a,b){return b.monthsRegex(a)});T(["M","MM"],function(a,b){b[Cb]=e(a)-1});T(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[Cb]=d:v(c).invalidMonth=a});var ec=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");Q("w",["ww",2],"wo","week");Q("W",["WW",2],"Wo","isoWeek");E("week","w");E("isoWeek","W");Da.week=5;Da.isoWeek=5;J("w",xa);J("ww",xa,Ua);J("W",xa);J("WW",xa,Ua);fa(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,
1)]=e(a)});Q("d",0,"do","day");Q("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});Q("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});Q("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});Q("e",0,0,"weekday");Q("E",0,0,"isoWeekday");E("day","d");E("weekday","e");E("isoWeekday","E");Da.day=11;Da.weekday=11;Da.isoWeekday=11;J("d",xa);J("e",xa);J("E",xa);J("dd",function(a,b){return b.weekdaysMinRegex(a)});J("ddd",function(a,b){return b.weekdaysShortRegex(a)});
J("dddd",function(a,b){return b.weekdaysRegex(a)});fa(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:v(c).invalidWeekday=a});fa(["d","e","E"],function(a,b,c,d){b[d]=e(a)});var kd="Sun Mon Tue Wed Thu Fri Sat".split(" ");Q("H",["HH",2],0,"hour");Q("h",["hh",2],0,Ia);Q("k",["kk",2],0,function(){return this.hours()||24});Q("hmm",0,0,function(){return""+Ia.apply(this)+X(this.minutes(),2)});Q("hmmss",0,0,function(){return""+Ia.apply(this)+X(this.minutes(),
2)+X(this.seconds(),2)});Q("Hmm",0,0,function(){return""+this.hours()+X(this.minutes(),2)});Q("Hmmss",0,0,function(){return""+this.hours()+X(this.minutes(),2)+X(this.seconds(),2)});ab("a",!0);ab("A",!1);E("hour","h");Da.hour=13;J("a",qb);J("A",qb);J("H",xa);J("h",xa);J("k",xa);J("HH",xa,Ua);J("hh",xa,Ua);J("kk",xa,Ua);J("hmm",Sb);J("hmmss",Tb);J("Hmm",Sb);J("Hmmss",Tb);T(["H","HH"],Oa);T(["k","kk"],function(a,b,c){a=e(a);b[Oa]=24===a?0:a});T(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=
a});T(["h","hh"],function(a,b,c){b[Oa]=e(a);v(c).bigHour=!0});T("hmm",function(a,b,c){var d=a.length-2;b[Oa]=e(a.substr(0,d));b[kb]=e(a.substr(d));v(c).bigHour=!0});T("hmmss",function(a,b,c){var d=a.length-4,f=a.length-2;b[Oa]=e(a.substr(0,d));b[kb]=e(a.substr(d,2));b[Db]=e(a.substr(f));v(c).bigHour=!0});T("Hmm",function(a,b,c){c=a.length-2;b[Oa]=e(a.substr(0,c));b[kb]=e(a.substr(c))});T("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[Oa]=e(a.substr(0,c));b[kb]=e(a.substr(c,2));b[Db]=e(a.substr(d))});
var Dd=W("Hours",!0),jd={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",
hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:Mb,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:kd,meridiemParse:/[ap]\.?m?\.?/i},Na={},jc={},ic,wd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
xd=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yd=/Z|[+-]\d\d(?::?\d\d)?/,zc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Yc=
[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zd=/^\/?Date\((\-?\d+)/i,Ac=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bc={UT:0,GMT:0,EDT:-240,
EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};a.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});a.ISO_8601=function(){};
a.RFC_2822=function(){};var rc=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=K.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:p()}),Ic=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=K.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),db="year quarter month week day hour minute second millisecond".split(" ");
Z("Z",":");Z("ZZ","");J("Z",Hc);J("ZZ",Hc);T(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=ca(Hc,a)});var lc=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Cc=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Dc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;bb.fn=da.prototype;bb.invalid=function(){return bb(NaN)};var Jc=mb(1,"add"),Kc=mb(-1,"subtract");a.defaultFormat=
"YYYY-MM-DDTHH:mm:ssZ";a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sc=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});Q(0,["gg",2],0,function(){return this.weekYear()%100});Q(0,["GG",2],0,function(){return this.isoWeekYear()%100});ob("gggg","weekYear");ob("ggggg","weekYear");ob("GGGG","isoWeekYear");ob("GGGGG","isoWeekYear");E("weekYear",
"gg");E("isoWeekYear","GG");Da.weekYear=1;Da.isoWeekYear=1;J("G",Gc);J("g",Gc);J("GG",xa,Ua);J("gg",xa,Ua);J("GGGG",Vb,dc);J("gggg",Vb,dc);J("GGGGG",Wb,Hb);J("ggggg",Wb,Hb);fa(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=e(a)});fa(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)});Q("Q",0,"Qo","quarter");E("quarter","Q");Da.quarter=7;J("Q",Qb);T("Q",function(a,b){b[Cb]=3*(e(a)-1)});Q("D",["DD",2],"Do","date");E("date","D");Da.date=9;J("D",xa);J("DD",xa,Ua);J("Do",function(a,
b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});T(["D","DD"],rb);T("Do",function(a,b){b[rb]=e(a.match(xa)[0])});var tc=W("Date",!0);Q("DDD",["DDDD",3],"DDDo","dayOfYear");E("dayOfYear","DDD");Da.dayOfYear=4;J("DDD",Ub);J("DDDD",Rb);T(["DDD","DDDD"],function(a,b,c){c._dayOfYear=e(a)});Q("m",["mm",2],0,"minute");E("minute","m");Da.minute=14;J("m",xa);J("mm",xa,Ua);T(["m","mm"],kb);var Lc=W("Minutes",!1);Q("s",["ss",2],0,"second");E("second","s");Da.second=15;
J("s",xa);J("ss",xa,Ua);T(["s","ss"],Db);var Mc=W("Seconds",!1);Q("S",0,0,function(){return~~(this.millisecond()/100)});Q(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Q(0,["SSS",3],0,"millisecond");Q(0,["SSSS",4],0,function(){return 10*this.millisecond()});Q(0,["SSSSS",5],0,function(){return 100*this.millisecond()});Q(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});Q(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});Q(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});
Q(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});E("millisecond","ms");Da.millisecond=16;J("S",Ub,Qb);J("SS",Ub,Ua);J("SSS",Ub,Rb);var eb;for(eb="SSSS";9>=eb.length;eb+="S")J(eb,Bd);for(eb="S";9>=eb.length;eb+="S")T(eb,nc);var Nc=W("Milliseconds",!1);Q("z",0,0,"zoneAbbr");Q("zz",0,0,"zoneName");var P=w.prototype;P.add=Jc;P.calendar=function(b,c){b=b||K();var d=L(b,this).startOf("day"),d=a.calendarFormat(this,d)||"sameElse";c=c&&(F(c[d])?c[d].call(this,b):c[d]);return this.format(c||
this.localeData().calendar(d,this,K(b)))};P.clone=function(){return new w(this)};P.diff=function(a,b,c){var d;if(!this.isValid())return NaN;a=L(a,this);if(!a.isValid())return NaN;d=6E4*(a.utcOffset()-this.utcOffset());b=M(b);switch(b){case "year":b=gb(this,a)/12;break;case "month":b=gb(this,a);break;case "quarter":b=gb(this,a)/3;break;case "second":b=(this-a)/1E3;break;case "minute":b=(this-a)/6E4;break;case "hour":b=(this-a)/36E5;break;case "day":b=(this-a-d)/864E5;break;case "week":b=(this-a-d)/
6048E5;break;default:b=this-a}return c?b:u(b)};P.endOf=function(a){a=M(a);if(void 0===a||"millisecond"===a)return this;"date"===a&&(a="day");return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};P.format=function(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);b=ra(this,b);return this.localeData().postformat(b)};P.from=function(a,b){return this.isValid()&&(y(a)&&a.isValid()||K(a).isValid())?bb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};
P.fromNow=function(a){return this.from(K(),a)};P.to=function(a,b){return this.isValid()&&(y(a)&&a.isValid()||K(a).isValid())?bb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};P.toNow=function(a){return this.to(K(),a)};P.get=function(a){a=M(a);return F(this[a])?this[a]():this};P.invalidAt=function(){return v(this).overflow};P.isAfter=function(a,b){a=y(a)?a:K(a);if(!this.isValid()||!a.isValid())return!1;b=M(h(b)?"millisecond":b);return"millisecond"===b?this.valueOf()>
a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf()};P.isBefore=function(a,b){a=y(a)?a:K(a);if(!this.isValid()||!a.isValid())return!1;b=M(h(b)?"millisecond":b);return"millisecond"===b?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf()};P.isBetween=function(a,b,c,d){d=d||"()";return("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};P.isSame=function(a,b){a=y(a)?a:K(a);if(!this.isValid()||!a.isValid())return!1;b=M(b||"millisecond");
if("millisecond"===b)return this.valueOf()===a.valueOf();a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()};P.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};P.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};P.isValid=function(){return x(this)};P.lang=sc;P.locale=bc;P.localeData=nb;P.max=Ic;P.min=rc;P.parsingFlags=function(){return g({},v(this))};P.set=function(a,b){if("object"===typeof a){a=ma(a);b=ga(a);
for(var c=0;c<b.length;c++)this[b[c].unit](a[b[c].unit])}else if(a=M(a),F(this[a]))return this[a](b);return this};P.startOf=function(a){a=M(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};
P.subtract=Kc;P.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};P.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};P.toDate=function(){return new Date(this.valueOf())};P.toISOString=function(a){if(!this.isValid())return null;var b=(a=!0!==a)?this.clone().utc():this;return 0>b.year()||9999<b.year()?
ra(b,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):F(Date.prototype.toISOString)?a?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",ra(b,"Z")):ra(b,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};P.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var a="["+a+'("]',c=0<=this.year()&&
9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};P.toJSON=function(){return this.isValid()?this.toISOString():null};P.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};P.unix=function(){return Math.floor(this.valueOf()/1E3)};P.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};P.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};
P.year=qc;P.isLeapYear=function(){return U(this.year())};P.weekYear=function(a){return ub.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};P.isoWeekYear=function(a){return ub.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};P.quarter=P.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};P.month=va;P.daysInMonth=function(){return ka(this.year(),this.month())};P.week=P.weeks=function(a){var b=this.localeData().week(this);
return null==a?b:this.add(7*(a-b),"d")};P.isoWeek=P.isoWeeks=function(a){var b=Za(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};P.weeksInYear=function(){var a=this.localeData()._week;return pa(this.year(),a.dow,a.doy)};P.isoWeeksInYear=function(){return pa(this.year(),1,4)};P.date=tc;P.day=P.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){var c=this.localeData();"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),
a="number"===typeof a?a:null):a=parseInt(a,10));return this.add(a-b,"d")}return b};P.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};P.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"===typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};P.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-
this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};P.hour=P.hours=Dd;P.minute=P.minutes=Lc;P.second=P.seconds=Mc;P.millisecond=P.milliseconds=Nc;P.utcOffset=function(b,c,d){var e=this._offset||0,f;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"===typeof b){if(b=ca(Hc,b),null===b)return this}else 16>Math.abs(b)&&!d&&(b*=60);!this._isUTC&&c&&(f=15*-Math.round(this._d.getTimezoneOffset()/15));this._offset=b;this._isUTC=!0;null!=f&&this.add(f,"m");e!==b&&(!c||
this._changeInProgress?mc(this,bb(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?e:15*-Math.round(this._d.getTimezoneOffset()/15)};P.utc=function(a){return this.utcOffset(0,a)};P.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};P.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,
!0);else if("string"===typeof this._i){var a=ca(Cd,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this};P.hasAlignedHourOffset=function(a){if(!this.isValid())return!1;a=a?K(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};P.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};P.isLocal=function(){return this.isValid()?!this._isUTC:!1};P.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};P.isUtc=
sb;P.isUTC=sb;P.zoneAbbr=function(){return this._isUTC?"UTC":""};P.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};P.dates=z("dates accessor is deprecated. Use date instead.",tc);P.months=z("months accessor is deprecated. Use month instead",va);P.years=z("years accessor is deprecated. Use year instead",qc);P.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!==typeof a&&(a=
-a),this.utcOffset(a,b),this):-this.utcOffset()});P.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var a={};A(a,this);a=La(a);if(a._a){var b=a._isUTC?f(a._a):K(a._a);this._isDSTShifted=this.isValid()&&0<l(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var ya=I.prototype;ya.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;
return F(a)?a.call(b,c):a};ya.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];if(b||!c)return b;this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)});return this._longDateFormat[a]};ya.invalidDate=function(){return this._invalidDate};ya.ordinal=function(a){return this._ordinal.replace("%d",a)};ya.preparse=cc;ya.postformat=cc;ya.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return F(e)?e(a,b,c,d):e.replace(/%d/i,
a)};ya.pastFuture=function(a,b){a=this._relativeTime[0<a?"future":"past"];return F(a)?a(b):a.replace(/%s/i,b)};ya.set=function(a){var b,c;for(c in a)b=a[c],F(b)?this[c]=b:this["_"+c]=b;this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};ya.months=function(a,c){return a?b(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||ec).test(c)?"format":"standalone"][a.month()]:b(this._months)?
this._months:this._months.standalone};ya.monthsShort=function(a,c){return a?b(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[ec.test(c)?"format":"standalone"][a.month()]:b(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};ya.monthsParse=function(a,b,c){var d,e;if(this._monthsParseExact){a:{a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;12>d;++d)e=f([2E3,d]),this._shortMonthsParse[d]=
this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(e,"").toLocaleLowerCase();if(c)b="MMM"===b?Ea.call(this._shortMonthsParse,a):Ea.call(this._longMonthsParse,a);else if("MMM"===b){b=Ea.call(this._shortMonthsParse,a);if(-1!==b)break a;b=Ea.call(this._longMonthsParse,a)}else{b=Ea.call(this._longMonthsParse,a);if(-1!==b)break a;b=Ea.call(this._shortMonthsParse,a)}b=-1!==b?b:null}return b}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=
[]);for(d=0;12>d;d++)if(e=f([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a)||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};
ya.monthsRegex=function(a){if(this._monthsParseExact)return k(this,"_monthsRegex")||sa.call(this),a?this._monthsStrictRegex:this._monthsRegex;k(this,"_monthsRegex")||(this._monthsRegex=pc);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};ya.monthsShortRegex=function(a){if(this._monthsParseExact)return k(this,"_monthsRegex")||sa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex;k(this,"_monthsShortRegex")||(this._monthsShortRegex=pc);return this._monthsShortStrictRegex&&
a?this._monthsShortStrictRegex:this._monthsShortRegex};ya.week=function(a){return Za(a,this._week.dow,this._week.doy).week};ya.firstDayOfYear=function(){return this._week.doy};ya.firstDayOfWeek=function(){return this._week.dow};ya.weekdays=function(a,c){return a?b(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(c)?"format":"standalone"][a.day()]:b(this._weekdays)?this._weekdays:this._weekdays.standalone};ya.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:
this._weekdaysMin};ya.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};ya.weekdaysParse=function(a,b,c){var d,e;if(this._weekdaysParseExact)return Wa.call(this,a,b,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++)if(e=f([2E3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=
new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(e="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(e.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a)||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d};
ya.weekdaysRegex=function(a){if(this._weekdaysParseExact)return k(this,"_weekdaysRegex")||q.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex;k(this,"_weekdaysRegex")||(this._weekdaysRegex=pc);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex};ya.weekdaysShortRegex=function(a){if(this._weekdaysParseExact)return k(this,"_weekdaysRegex")||q.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;k(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=
pc);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};ya.weekdaysMinRegex=function(a){if(this._weekdaysParseExact)return k(this,"_weekdaysRegex")||q.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;k(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pc);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};ya.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};ya.meridiem=function(a,b,c){return 11<
a?c?"pm":"PM":c?"am":"AM"};Ra("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===e(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});a.lang=z("moment.lang is deprecated. Use moment.locale instead.",Ra);a.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Ka);var wb=Math.abs,ld=Ta("ms"),md=Ta("s"),nd=Ta("m"),t=Ta("h"),Xb=Ta("d"),Va=Ta("w"),Yb=Ta("M"),H=Ta("y"),Eb=vb("milliseconds"),Ld=vb("seconds"),Md=vb("minutes"),Nd=vb("hours"),
Od=vb("days"),Pd=vb("months"),Qd=vb("years"),fc=Math.round,Ib={ss:44,s:45,m:45,h:22,d:26,M:11},Ad=Math.abs,wa=da.prototype;wa.isValid=function(){return this._isValid};wa.abs=function(){var a=this._data;this._milliseconds=wb(this._milliseconds);this._days=wb(this._days);this._months=wb(this._months);a.milliseconds=wb(a.milliseconds);a.seconds=wb(a.seconds);a.minutes=wb(a.minutes);a.hours=wb(a.hours);a.months=wb(a.months);a.years=wb(a.years);return this};wa.add=function(a,b){return oc(this,a,b,1)};
wa.subtract=function(a,b){return oc(this,a,b,-1)};wa.as=function(a){if(!this.isValid())return NaN;var b,c=this._milliseconds;a=M(a);if("month"===a||"year"===a)return b=this._days+c/864E5,b=this._months+4800*b/146097,"month"===a?b:b/12;b=this._days+Math.round(146097*this._months/4800);switch(a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*b)+
c;default:throw Error("Unknown unit "+a);}};wa.asMilliseconds=ld;wa.asSeconds=md;wa.asMinutes=nd;wa.asHours=t;wa.asDays=Xb;wa.asWeeks=Va;wa.asMonths=Yb;wa.asYears=H;wa.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*e(this._months/12):NaN};wa._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*Ob(146097*c/4800+b),c=b=0);d.milliseconds=a%1E3;a=u(a/1E3);d.seconds=
a%60;a=u(a/60);d.minutes=a%60;a=u(a/60);d.hours=a%24;b+=u(a/24);a=u(4800*b/146097);c+=a;b-=Ob(146097*a/4800);a=u(c/12);d.days=b;d.months=c%12;d.years=a;return this};wa.clone=function(){return bb(this)};wa.get=function(a){a=M(a);return this.isValid()?this[a+"s"]():NaN};wa.milliseconds=Eb;wa.seconds=Ld;wa.minutes=Md;wa.hours=Nd;wa.days=Od;wa.weeks=function(){return u(this.days()/7)};wa.months=Pd;wa.years=Qd;wa.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),
c;c=!a;var d=bb(this).abs(),e=fc(d.as("s")),f=fc(d.as("m")),g=fc(d.as("h")),l=fc(d.as("d")),k=fc(d.as("M")),d=fc(d.as("y")),e=e<=Ib.ss&&["s",e]||e<Ib.s&&["ss",e]||1>=f&&["m"]||f<Ib.m&&["mm",f]||1>=g&&["h"]||g<Ib.h&&["hh",g]||1>=l&&["d"]||l<Ib.d&&["dd",l]||1>=k&&["M"]||k<Ib.M&&["MM",k]||1>=d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Ec.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};wa.toISOString=Fc;wa.toString=Fc;wa.toJSON=Fc;wa.locale=bc;wa.localeData=nb;wa.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
Fc);wa.lang=sc;Q("X",0,0,"unix");Q("x",0,0,"valueOf");J("x",Gc);J("X",/[+-]?\d+(\.\d{1,3})?/);T("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});T("x",function(a,b,c){c._d=new Date(e(a))});a.version="2.22.1";gd=K;a.fn=P;a.min=function(){var a=[].slice.call(arguments,0);return ua("isBefore",a)};a.max=function(){var a=[].slice.call(arguments,0);return ua("isAfter",a)};a.now=function(){return Date.now?Date.now():+new Date};a.utc=f;a.unix=function(a){return K(1E3*a)};a.months=function(a,b){return Nb(a,
b,"months")};a.isDate=m;a.locale=Ra;a.invalid=p;a.duration=bb;a.isMoment=y;a.weekdays=function(a,b,c){return Gb(a,b,c,"weekdays")};a.parseZone=function(){return K.apply(null,arguments).parseZone()};a.localeData=Ka;a.isDuration=ia;a.monthsShort=function(a,b){return Nb(a,b,"monthsShort")};a.weekdaysMin=function(a,b,c){return Gb(a,b,c,"weekdaysMin")};a.defineLocale=ib;a.updateLocale=function(a,b){if(null!=b){var c,d=jd;c=Ja(a);null!=c&&(d=c._config);b=G(d,b);b=new I(b);b.parentLocale=Na[a];Na[a]=b;Ra(a)}else null!=
Na[a]&&(null!=Na[a].parentLocale?Na[a]=Na[a].parentLocale:null!=Na[a]&&delete Na[a]);return Na[a]};a.locales=function(){return Pb(Na)};a.weekdaysShort=function(a,b,c){return Gb(a,b,c,"weekdaysShort")};a.normalizeUnits=M;a.relativeTimeRounding=function(a){return void 0===a?fc:"function"===typeof a?(fc=a,!0):!1};a.relativeTimeThreshold=function(a,b){if(void 0===Ib[a])return!1;if(void 0===b)return Ib[a];Ib[a]=b;"s"===a&&(Ib.ss=b-1);return!0};a.calendarFormat=function(a,b){a=a.diff(b,"days",!0);return-6>
a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"};a.prototype=P;a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};return a})},"esri/core/sql/StandardizedFunctions":function(){define(["require","exports","dojo/regexp"],function(a,b,r){Object.defineProperty(b,
"__esModule",{value:!0});b.evaluateFunction=function(a,b){var h=d[a.toLowerCase()];if(null==h)throw Error("Function Not Recognised");if(b.length<h.minParams||b.length>h.maxParams)throw Error("Invalid Parameter count for call to "+a.toUpperCase());return h.evaluate(b)};b.isStandardized=function(a,b){a=d[a.toLowerCase()];return null!=a&&b>=a.minParams&&b<=a.maxParams};var d={extract:{minParams:2,maxParams:2,evaluate:function(a){var b=a[0];a=a[1];if(null==a)return null;if(a instanceof Date)switch(b.toUpperCase()){case "SECOND":return a.getSeconds();
case "MINUTE":return a.getMinutes();case "HOUR":return a.getHours();case "DAY":return a.getDate();case "MONTH":return a.getMonth()+1;case "YEAR":return a.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:function(a){if(2===a.length){var b=a[0],d=a[1];return null==b||null==d?null:b.toString().substring(d-1)}if(3===a.length)return b=a[0],d=a[1],a=a[2],null==b||null==d||null==a?null:0>=a?"":b.toString().substring(d-1,d+a-1)}},position:{minParams:2,
maxParams:2,evaluate:function(a){var b=a[0];a=a[1];return null==b||null==a?null:a.indexOf(b)+1}},trim:{minParams:2,maxParams:3,evaluate:function(a){var b=3===a.length,d=b?a[1]:" ",b=b?a[2]:a[1];if(null==d||null==b)return null;d="("+r.escapeString(d)+")";switch(a[0]){case "BOTH":return b.replace(new RegExp("^"+d+"*|"+d+"*$","g"),"");case "LEADING":return b.replace(new RegExp("^"+d+"*","g"),"");case "TRAILING":return b.replace(new RegExp(d+"*$","g"),"")}throw Error("Invalid Parameter for call to TRIM");
}},abs:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.abs(a[0])}},ceiling:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.ceil(a[0])}},floor:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.floor(a[0])}},log:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.log(a[0])}},log10:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.log(a[0])*Math.LOG10E}},sin:{minParams:1,maxParams:1,
evaluate:function(a){return null==a[0]?null:Math.sin(a[0])}},cos:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.cos(a[0])}},tan:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.tan(a[0])}},asin:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.asin(a[0])}},acos:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.acos(a[0])}},atan:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.atan(a[0])}},
sign:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:0<a[0]?1:0>a[1]?-1:0}},power:{minParams:2,maxParams:2,evaluate:function(a){return null==a[0]||null==a[1]?null:Math.pow(a[0],a[1])}},mod:{minParams:2,maxParams:2,evaluate:function(a){return null==a[0]||null==a[1]?null:a[0]%a[1]}},round:{minParams:1,maxParams:2,evaluate:function(a){var b=a[0];a=2===a.length?Math.pow(10,a[1]):1;return null==b?null:Math.round(b*a)/a}},truncate:{minParams:1,maxParams:2,evaluate:function(a){return null==
a[0]?null:1===a.length?parseInt(a[0].toFixed(0),10):parseFloat(a[0].toFixed(a[1]))}},char_length:{minParams:1,maxParams:1,evaluate:function(a){return"string"===typeof a[0]||a[0]instanceof String?a[0].length:0}},concat:{minParams:1,maxParams:Infinity,evaluate:function(a){for(var b="",d=0;d<a.length;d++){if(null==a[d])return null;b+=a[d].toString()}return b}},lower:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:a[0].toString().toLowerCase()}},upper:{minParams:1,maxParams:1,evaluate:function(a){return null==
a[0]?null:a[0].toString().toUpperCase()}}}})},"esri/core/sql/WhereGrammar":function(){define(["require","exports","./sql92grammar"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){}a.parse=function(a){return r.parse(a)};return a}();b.WhereGrammar=a})},"esri/core/sql/sql92grammar":function(){define([],function(){function a(b,r,d,h){this.message=b;this.expected=r;this.found=d;this.location=h;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&
Error.captureStackTrace(this,a)}(function(a,r){function b(){this.constructor=a}b.prototype=r.prototype;a.prototype=new b})(a,Error);a.buildMessage=function(a,r){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}function h(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+b(a)})}function n(a){return a.replace(/\\/g,
"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+b(a)})}var m={literal:function(a){return'"'+h(a.text)+'"'},"class":function(a){var b="",c;for(c=0;c<a.parts.length;c++)b+=a.parts[c]instanceof Array?n(a.parts[c][0])+"-"+n(a.parts[c][1]):n(a.parts[c]);return"["+(a.inverted?"^":"")+b+"]"},
any:function(a){return"any character"},end:function(a){return"end of input"},other:function(a){return a.description}};return"Expected "+function(a){var b=Array(a.length),c;for(c=0;c<a.length;c++){var d=c,h;h=a[c];h=m[h.type](h);b[d]=h}b.sort();if(0<b.length){for(a=c=1;c<b.length;c++)b[c-1]!==b[c]&&(b[a]=b[c],a++);b.length=a}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}(a)+" but "+(r?'"'+h(r)+'"':"end of input")+" found."};
return{SyntaxError:a,parse:function(b,r){function d(a,b){return{type:"literal",text:a,ignoreCase:b}}function h(a,b,c){return{type:"class",parts:a,inverted:b,ignoreCase:c}}function n(a){var c=Xb[a],d;if(!c){for(d=a-1;!Xb[d];)d--;c=Xb[d];for(c={line:c.line,column:c.column};d<a;)10===b.charCodeAt(d)?(c.line++,c.column=1):c.column++,d++;Xb[a]=c}return c}function m(a,b){var c=n(a),d=n(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:d.line,column:d.column}}}function c(a){t<Va||
(t>Va&&(Va=t,Yb=[]),Yb.push(a))}function k(){var a,b,c;a=t;b=N();b!==q?(b=f(),b!==q?(c=N(),c!==q?a=b:(t=a,a=q)):(t=a,a=q)):(t=a,a=q);return a}function g(){var a,b,c,d,e,g,l,k;a=t;b=f();if(b!==q){c=[];d=t;e=N();e!==q?(g=Ma(),g!==q?(l=N(),l!==q?(k=f(),k!==q?d=e=[e,g,l,k]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);for(;d!==q;)c.push(d),d=t,e=N(),e!==q?(g=Ma(),g!==q?(l=N(),l!==q?(k=f(),k!==q?d=e=[e,g,l,k]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);if(c!==q){a={type:"expr_list"};b=[b];for(d=0;d<c.length;d++)b.push(c[d][3]);
a.value=b}else t=a,a=q}else t=a,a=q;return a}function f(){var a,b,c,d,e,f,g,l;a=t;b=v();if(b!==q){c=[];d=t;e=N();e!==q?(f=U(),f!==q?(g=N(),g!==q?(l=v(),l!==q?d=e=[e,f,g,l]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);for(;d!==q;)c.push(d),d=t,e=N(),e!==q?(f=U(),f!==q?(g=N(),g!==q?(l=v(),l!==q?d=e=[e,f,g,l]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);c!==q?a=b=Wa(b,c):(t=a,a=q)}else t=a,a=q;return a}function v(){var a,b,c,d,e,f,g,l;a=t;b=x();if(b!==q){c=[];d=t;e=N();e!==q?(f=fa(),f!==q?(g=N(),g!==q?(l=
x(),l!==q?d=e=[e,f,g,l]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);for(;d!==q;)c.push(d),d=t,e=N(),e!==q?(f=fa(),f!==q?(g=N(),g!==q?(l=x(),l!==q?d=e=[e,f,g,l]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);c!==q?a=b=Wa(b,c):(t=a,a=q)}else t=a,a=q;return a}function x(){var a,d,e,f,l;a=t;d=T();d===q&&(d=t,33===b.charCodeAt(t)?(e=qb,t++):(e=q,0===H&&c(Bb)),e!==q?(f=t,H++,61===b.charCodeAt(t)?(l=Ja,t++):(l=q,0===H&&c(Ra)),H--,l===q?f=void 0:(t=f,f=q),f!==q?d=e=[e,f]:(t=d,d=q)):(t=d,d=q));d!==q?(e=N(),e!==
q?(f=x(),f!==q?a=d={type:"unary_expr",operator:"NOT",expr:f}:(t=a,a=q)):(t=a,a=q)):(t=a,a=q);if(a===q)if(a=t,d=y(),d!==q)if(e=N(),e!==q){var k,u,h;e=[];f=t;l=N();l!==q?(k=p(),k!==q?(u=N(),u!==q?(h=y(),h!==q?f=l=[l,k,u,h]:(t=f,f=q)):(t=f,f=q)):(t=f,f=q)):(t=f,f=q);if(f!==q)for(;f!==q;)e.push(f),f=t,l=N(),l!==q?(k=p(),k!==q?(u=N(),u!==q?(h=y(),h!==q?f=l=[l,k,u,h]:(t=f,f=q)):(t=f,f=q)):(t=f,f=q)):(t=f,f=q);else e=q;e!==q&&(e={type:"arithmetic",tail:e});e===q&&(e=t,f=w(),f!==q?(l=N(),l!==q?(l=Ga(),l!==
q?(l=N(),l!==q?(l=g(),l!==q?(k=N(),k!==q?(k=Ha(),k!==q?e=f={op:f,right:l}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q),e===q&&(e=t,f=w(),f!==q?(l=N(),l!==q?(l=Ga(),l!==q?(l=N(),l!==q?(l=Ha(),l!==q?e=f={op:f,right:{type:"expr_list",value:[]}}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q),e===q&&(e=t,f=w(),f!==q?(l=N(),l!==q?(l=I(),l!==q?e=f={op:f,right:l}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q))),e===q&&(e=t,l=T(),l!==q?(f=N(),f!==q?(f=W(),f!==q?(k=N(),k!==q?(k=y(),k!==
q?(u=N(),u!==q?(u=fa(),u!==q?(l=N(),l!==q?(l=y(),l!==q?e=l={op:"NOT"+f,right:{type:"expr_list",value:[k,l]}}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q),e===q&&(e=t,l=W(),l!==q?(f=N(),f!==q?(f=y(),f!==q?(k=N(),k!==q?(k=fa(),k!==q?(u=N(),u!==q?(u=y(),u!==q?e=l={op:l,right:{type:"expr_list",value:[f,u]}}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)),e===q&&(e=t,f=O(),f!==q?(l=N(),l!==q?(l=T(),l!==q?(l=N(),l!==q?(l=
y(),l!==q?e=f={op:f+"NOT",right:l}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q),e===q&&(e=t,f=O(),f!==q?(l=N(),l!==q?(l=y(),l!==q?e=f={op:f,right:l}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q)),e===q&&(e=t,f=A(),f!==q?(l=N(),l!==q?(l=M(),l!==q?(k=N(),k!==q?(k=t,b.substr(t,6).toLowerCase()===$a?(u=b.substr(t,6),t+=6):(u=q,0===H&&c(Qb)),u!==q?(u=t,H++,h=F(),H--,h===q?u=void 0:(t=u,u=q),u!==q?k="ESCAPE":(t=k,k=q)):(t=k,k=q),k!==q?(k=N(),k!==q?(k=ma(),k!==q?e=f={op:f,right:l,escape:k.value}:(t=e,e=q)):(t=
e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q)):(t=e,e=q),e===q&&(e=t,f=A(),f!==q?(l=N(),l!==q?(l=M(),l!==q?e=f={op:f,right:l,escape:""}:(t=e,e=q)):(t=e,e=q)):(t=e,e=q))))));e===q&&(e=null);e!==q?(a=d,d=e,""==d||void 0==d||null==d?d=a:(e=null,d=e="arithmetic"==d.type?Wa(a,d.tail):pa(d.op,a,d.right,d.escape)),a=d):(t=a,a=q)}else t=a,a=q;else t=a,a=q;return a}function p(){var a;b.substr(t,2)===ib?(a=ib,t+=2):(a=q,0===H&&c(Ka));a===q&&(62===b.charCodeAt(t)?(a=jb,t++):(a=q,0===H&&c(Ba)),a===q&&(b.substr(t,
2)===Qa?(a=Qa,t+=2):(a=q,0===H&&c(R)),a===q&&(b.substr(t,2)===Pa?(a=Pa,t+=2):(a=q,0===H&&c(Aa)),a===q&&(60===b.charCodeAt(t)?(a=ea,t++):(a=q,0===H&&c(lb)),a===q&&(61===b.charCodeAt(t)?(a=Ja,t++):(a=q,0===H&&c(Ra)),a===q&&(b.substr(t,2)===La?(a=La,t+=2):(a=q,0===H&&c(oa))))))));return a}function A(){var a,b,c,d;a=a=t;b=T();b!==q?(c=N(),c!==q?(d=V(),d!==q?a=b=[b,c,d]:(t=a,a=q)):(t=a,a=q)):(t=a,a=q);a!==q&&(a=a[0]+" "+a[2]);a===q&&(a=V());return a}function w(){var a,b,c,d;a=a=t;b=T();b!==q?(c=N(),c!==
q?(d=Y(),d!==q?a=b=[b,c,d]:(t=a,a=q)):(t=a,a=q)):(t=a,a=q);a!==q&&(a=a[0]+" "+a[2]);a===q&&(a=Y());return a}function y(){var a,b,c,d,f,g,l,k;a=t;b=e();if(b!==q){c=[];d=t;f=N();f!==q?(g=u(),g!==q?(l=N(),l!==q?(k=e(),k!==q?d=f=[f,g,l,k]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);for(;d!==q;)c.push(d),d=t,f=N(),f!==q?(g=u(),g!==q?(l=N(),l!==q?(k=e(),k!==q?d=f=[f,g,l,k]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);c!==q?a=b=Wa(b,c):(t=a,a=q)}else t=a,a=q;return a}function u(){var a;43===b.charCodeAt(t)?
(a=cb,t++):(a=q,0===H&&c(K));a===q&&(45===b.charCodeAt(t)?(a=ua,t++):(a=q,0===H&&c(D)));return a}function e(){var a,b,c,d,e,f,g,k;a=t;b=B();if(b!==q){c=[];d=t;e=N();e!==q?(f=l(),f!==q?(g=N(),g!==q?(k=B(),k!==q?d=e=[e,f,g,k]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);for(;d!==q;)c.push(d),d=t,e=N(),e!==q?(f=l(),f!==q?(g=N(),g!==q?(k=B(),k!==q?d=e=[e,f,g,k]:(t=d,d=q)):(t=d,d=q)):(t=d,d=q)):(t=d,d=q);c!==q?a=b=Wa(b,c):(t=a,a=q)}else t=a,a=q;return a}function l(){var a;42===b.charCodeAt(t)?(a=da,t++):
(a=q,0===H&&c(ia));a===q&&(47===b.charCodeAt(t)?(a=ta,t++):(a=q,0===H&&c(Z)));return a}function B(){var a,d,e,l,k,u,p;p=ma();if(p===q){var h,m,n,v;h=t;var x,r,w,B;x=t;r=ja();r!==q?(w=aa(),w!==q?(B=ra(),B!==q?x=r=parseFloat(r+w+B):(t=x,x=q)):(t=x,x=q)):(t=x,x=q);x===q&&(x=t,r=ja(),r!==q?(w=aa(),w!==q?x=r=parseFloat(r+w):(t=x,x=q)):(t=x,x=q),x===q&&(x=t,r=ja(),r!==q?(w=ra(),w!==q?x=r=parseFloat(r+w):(t=x,x=q)):(t=x,x=q),x===q&&(x=t,r=ja(),r!==q&&(r=parseFloat(r)),x=r)));m=x;m!==q?(n=t,H++,v=C(),H--,
v===q?n=void 0:(t=n,n=q),n!==q?h=m={type:"number",value:m}:(t=h,h=q)):(t=h,h=q);p=h;if(p===q){var A,y;A=t;var sb,W,J,bb;sb=t;b.substr(t,4).toLowerCase()===hd?(W=b.substr(t,4),t+=4):(W=q,0===H&&c(Vc));W!==q?(J=t,H++,bb=F(),H--,bb===q?J=void 0:(t=J,J=q),J!==q?sb=W=[W,J]:(t=sb,sb=q)):(t=sb,sb=q);y=sb;y!==q&&(y={type:"bool",value:!0});A=y;if(A===q){A=t;var Xa,va,O,Ma;Xa=t;b.substr(t,5).toLowerCase()===Wc?(va=b.substr(t,5),t+=5):(va=q,0===H&&c(id));va!==q?(O=t,H++,Ma=F(),H--,Ma===q?O=void 0:(t=O,O=q),
O!==q?Xa=va=[va,O]:(t=Xa,Xa=q)):(t=Xa,Xa=q);y=Xa;y!==q&&(y={type:"bool",value:!1});A=y}p=A;if(p===q){var D,tb,sa,S,V;tb=t;b.substr(t,4).toLowerCase()===Fc?(sa=b.substr(t,4),t+=4):(sa=q,0===H&&c(gd));sa!==q?(S=t,H++,V=F(),H--,V===q?S=void 0:(t=S,S=q),S!==q?tb=sa=[sa,S]:(t=tb,tb=q)):(t=tb,tb=q);D=tb;D!==q&&(D={type:"null",value:null});p=D;if(p===q){var T,mb,K,L;T=t;var Ja,R,P,mc;Ja=t;b.substr(t,4).toLowerCase()===Db?(R=b.substr(t,4),t+=4):(R=q,0===H&&c(Lb));R!==q?(P=t,H++,mc=F(),H--,mc===q?P=void 0:
(t=P,P=q),P!==q?Ja=R="DATE":(t=Ja,Ja=q)):(t=Ja,Ja=q);mb=Ja;mb!==q?(K=N(),K!==q?(L=M(),L!==q?T=mb={type:"date",value:L.value}:(t=T,T=q)):(t=T,T=q)):(t=T,T=q);p=T;if(p===q){var U,fa,Z,ca;U=t;var gb,ea,da,ia;gb=t;b.substr(t,9).toLowerCase()===Oa?(ea=b.substr(t,9),t+=9):(ea=q,0===H&&c(kb));ea!==q?(da=t,H++,ia=F(),H--,ia===q?da=void 0:(t=da,da=q),da!==q?gb=ea="TIMESTAMP":(t=gb,gb=q)):(t=gb,gb=q);fa=gb;fa!==q?(Z=N(),Z!==q?(ca=M(),ca!==q?U=fa={type:"timestamp",value:ca.value}:(t=U,U=q)):(t=U,U=q)):(t=U,
U=q);p=U}}}}}a=p;if(a===q){var pa,Ra,Za,ib,oa,Bb,bc,ta,ua,ya,Ia,ab;pa=t;var Ka,xa,qb,Ea;Ka=t;b.substr(t,7).toLowerCase()===pc?(xa=b.substr(t,7),t+=7):(xa=q,0===H&&c(Xc));xa!==q?(qb=t,H++,Ea=F(),H--,Ea===q?qb=void 0:(t=qb,qb=q),qb!==q?Ka=xa="EXTRACT":(t=Ka,Ka=q)):(t=Ka,Ka=q);Ra=Ka;if(Ra!==q)if(Za=N(),Za!==q)if(ib=Ga(),ib!==q)if(oa=N(),oa!==q){var Ba,Aa,Wa,Da,Pa;Aa=t;b.substr(t,4).toLowerCase()===kd?(Wa=b.substr(t,4),t+=4):(Wa=q,0===H&&c(Dd));Wa!==q?(Da=t,H++,Pa=F(),H--,Pa===q?Da=void 0:(t=Da,Da=q),
Da!==q?Aa=Wa="YEAR":(t=Aa,Aa=q)):(t=Aa,Aa=q);Ba=Aa;if(Ba===q){var nb,jb,Qa,Ua;nb=t;b.substr(t,5).toLowerCase()===jd?(jb=b.substr(t,5),t+=5):(jb=q,0===H&&c(Na));jb!==q?(Qa=t,H++,Ua=F(),H--,Ua===q?Qa=void 0:(t=Qa,Qa=q),Qa!==q?nb=jb="MONTH":(t=nb,nb=q)):(t=nb,nb=q);Ba=nb;if(Ba===q){var La,Sa,Va,lb;La=t;b.substr(t,3).toLowerCase()===jc?(Sa=b.substr(t,3),t+=3):(Sa=q,0===H&&c(ic));Sa!==q?(Va=t,H++,lb=F(),H--,lb===q?Va=void 0:(t=Va,Va=q),Va!==q?La=Sa="DAY":(t=La,La=q)):(t=La,La=q);Ba=La;if(Ba===q){var Ta,
eb,cb,vb;Ta=t;b.substr(t,4).toLowerCase()===wd?(eb=b.substr(t,4),t+=4):(eb=q,0===H&&c(xd));eb!==q?(cb=t,H++,vb=F(),H--,vb===q?cb=void 0:(t=cb,cb=q),cb!==q?Ta=eb="HOUR":(t=Ta,Ta=q)):(t=Ta,Ta=q);Ba=Ta;if(Ba===q){var $a,ob,hb,Fb;$a=t;b.substr(t,6).toLowerCase()===yd?(ob=b.substr(t,6),t+=6):(ob=q,0===H&&c(zc));ob!==q?(hb=t,H++,Fb=F(),H--,Fb===q?hb=void 0:(t=hb,hb=q),hb!==q?$a=ob="MINUTE":(t=$a,$a=q)):(t=$a,$a=q);Ba=$a;if(Ba===q){var db,ub,pb,Kb;db=t;b.substr(t,6).toLowerCase()===Yc?(ub=b.substr(t,6),
t+=6):(ub=q,0===H&&c(zd));ub!==q?(pb=t,H++,Kb=F(),H--,Kb===q?pb=void 0:(t=pb,pb=q),pb!==q?db=ub="SECOND":(t=db,db=q)):(t=db,db=q);Ba=db}}}}}Bb=Ba;Bb!==q?(bc=N(),bc!==q?(ta=la(),ta!==q?(ua=N(),ua!==q?(ya=f(),ya!==q?(Ia=N(),Ia!==q?(ab=Ha(),ab!==q?pa=Ra={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:Bb},ya]}}:(t=pa,pa=q)):(t=pa,pa=q)):(t=pa,pa=q)):(t=pa,pa=q)):(t=pa,pa=q)):(t=pa,pa=q)):(t=pa,pa=q)}else t=pa,pa=q;else t=pa,pa=q;else t=pa,pa=q;else t=pa,pa=q;a=pa;if(a===
q){var Ca,Hb,Ub,Wb,Xb,Eb,$b,ac,cc,Gb,dc,fb,Oc,Vb,Yb,Zb;Ca=t;var uc,Mb,Zc,nc;uc=t;b.substr(t,9).toLowerCase()===Cd?(Mb=b.substr(t,9),t+=9):(Mb=q,0===H&&c(Hc));Mb!==q?(Zc=t,H++,nc=F(),H--,nc===q?Zc=void 0:(t=Zc,Zc=q),Zc!==q?uc=Mb="SUBSTRING":(t=uc,uc=q)):(t=uc,uc=q);Hb=uc;if(Hb!==q)if(Ub=N(),Ub!==q)if(Wb=Ga(),Wb!==q)if(Xb=N(),Xb!==q)if(Eb=f(),Eb!==q)if($b=N(),$b!==q)if(ac=la(),ac!==q)if(cc=N(),cc!==q)if(Gb=f(),Gb!==q)if(dc=N(),dc!==q){fb=t;var vc,Nb,$c,oc;vc=t;b.substr(t,3).toLowerCase()===Bd?(Nb=b.substr(t,
3),t+=3):(Nb=q,0===H&&c(Gc));Nb!==q?($c=t,H++,oc=F(),H--,oc===q?$c=void 0:(t=$c,$c=q),$c!==q?vc=Nb="FOR":(t=vc,vc=q)):(t=vc,vc=q);Oc=vc;Oc!==q?(Vb=N(),Vb!==q?(Yb=f(),Yb!==q?(Zb=N(),Zb!==q?fb=Oc=[Oc,Vb,Yb,Zb]:(t=fb,fb=q)):(t=fb,fb=q)):(t=fb,fb=q)):(t=fb,fb=q);fb===q&&(fb=null);fb!==q?(Oc=Ha(),Oc!==q?Ca=Hb={type:"function",name:"substring",args:{type:"expr_list",value:fb?[Eb,Gb,fb[2]]:[Eb,Gb]}}:(t=Ca,Ca=q)):(t=Ca,Ca=q)}else t=Ca,Ca=q;else t=Ca,Ca=q;else t=Ca,Ca=q;else t=Ca,Ca=q;else t=Ca,Ca=q;else t=
Ca,Ca=q;else t=Ca,Ca=q;else t=Ca,Ca=q;else t=Ca,Ca=q;else t=Ca,Ca=q;a=Ca;if(a===q){var ha,Pc,Ob,Pb,Qb,xb,Rb,Qc,Sb,Tb,qc,ec,sc,tc;ha=t;Pc=na();Pc!==q?(Ob=N(),Ob!==q?(Pb=Ga(),Pb!==q?(Qb=N(),Qb!==q?(xb=E(),xb===q&&(xb=null),xb!==q?(Rb=N(),Rb!==q?(Qc=f(),Qc!==q?(Sb=N(),Sb!==q?(Tb=la(),Tb!==q?(qc=N(),qc!==q?(ec=f(),ec!==q?(sc=N(),sc!==q?(tc=Ha(),tc!==q?ha=Pc={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==xb?"BOTH":xb},Qc,ec]}}:(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):
(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q);ha===q&&(ha=t,Pc=na(),Pc!==q?(Ob=N(),Ob!==q?(Pb=Ga(),Pb!==q?(Qb=N(),Qb!==q?(xb=E(),xb===q&&(xb=null),xb!==q?(Rb=N(),Rb!==q?(Qc=f(),Qc!==q?(Sb=N(),Sb!==q?(Tb=Ha(),Tb!==q?ha=Pc={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==xb?"BOTH":xb},Qc]}}:(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):(t=ha,ha=q)):
(t=ha,ha=q)):(t=ha,ha=q));a=ha;if(a===q){var Fa,kc,yc,Ac,Bc,lc,Cc,Dc,Ec,rc,Ic,Jc;Fa=t;var wc,od,ad,Kc;wc=t;b.substr(t,8).toLowerCase()===Cb?(od=b.substr(t,8),t+=8):(od=q,0===H&&c(rb));od!==q?(ad=t,H++,Kc=F(),H--,Kc===q?ad=void 0:(t=ad,ad=q),ad!==q?wc=od="POSITION":(t=wc,wc=q)):(t=wc,wc=q);kc=wc;kc!==q?(yc=N(),yc!==q?(Ac=Ga(),Ac!==q?(Bc=N(),Bc!==q?(lc=f(),lc!==q?(Cc=N(),Cc!==q?(Dc=Y(),Dc!==q?(Ec=N(),Ec!==q?(rc=f(),rc!==q?(Ic=N(),Ic!==q?(Jc=Ha(),Jc!==q?Fa=kc={type:"function",name:"position",args:{type:"expr_list",
value:[lc,rc]}}:(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q)):(t=Fa,Fa=q);a=Fa;if(a===q){var Ya,pd,Lc,Mc,Nc,Rc,Fd,Gd;Ya=t;var yb,bd,cd,Jb;yb=t;yb=bd=z();if(yb===q)if(yb=t,96===b.charCodeAt(t)?(bd=wb,t++):(bd=q,0===H&&c(ld)),bd!==q){cd=[];md.test(b.charAt(t))?(Jb=b.charAt(t),t++):(Jb=q,0===H&&c(nd));if(Jb!==q)for(;Jb!==q;)cd.push(Jb),md.test(b.charAt(t))?(Jb=b.charAt(t),t++):(Jb=q,0===H&&c(nd));else cd=q;cd!==q?(96===
b.charCodeAt(t)?(Jb=wb,t++):(Jb=q,0===H&&c(ld)),Jb!==q?yb=bd=cd.join(""):(t=yb,yb=q)):(t=yb,yb=q)}else t=yb,yb=q;pd=yb;pd!==q?(Lc=N(),Lc!==q?(Mc=Ga(),Mc!==q?(Nc=N(),Nc!==q?(Rc=g(),Rc===q&&(Rc=null),Rc!==q?(Fd=N(),Fd!==q?(Gd=Ha(),Gd!==q?Ya=pd={type:"function",name:pd,args:Rc?Rc:{type:"expr_list",value:[]}}:(t=Ya,Ya=q)):(t=Ya,Ya=q)):(t=Ya,Ya=q)):(t=Ya,Ya=q)):(t=Ya,Ya=q)):(t=Ya,Ya=q)):(t=Ya,Ya=q);a=Ya;if(a===q){var qd,qa,Sc,rd,Tc,sd,gc,zb,dd,Hd,Id;qa=t;Sc=ka();if(Sc!==q)if(rd=N(),rd!==q)if(Tc=f(),Tc!==
q)if(sd=N(),sd!==q){gc=[];for(zb=X();zb!==q;)gc.push(zb),zb=X();gc!==q?(zb=N(),zb!==q?(dd=ba(),dd!==q?qa=Sc={type:"case_expression",format:"simple",operand:Tc,clauses:gc,else:null}:(t=qa,qa=q)):(t=qa,qa=q)):(t=qa,qa=q)}else t=qa,qa=q;else t=qa,qa=q;else t=qa,qa=q;else t=qa,qa=q;if(qa===q)if(qa=t,Sc=ka(),Sc!==q)if(rd=N(),rd!==q)if(Tc=f(),Tc!==q)if(sd=N(),sd!==q){gc=[];for(zb=X();zb!==q;)gc.push(zb),zb=X();gc!==q?(zb=N(),zb!==q?(dd=Q(),dd!==q?(Hd=N(),Hd!==q?(Id=ba(),Id!==q?qa=Sc={type:"case_expression",
format:"simple",operand:Tc,clauses:gc,else:dd.value}:(t=qa,qa=q)):(t=qa,qa=q)):(t=qa,qa=q)):(t=qa,qa=q)):(t=qa,qa=q)}else t=qa,qa=q;else t=qa,qa=q;else t=qa,qa=q;else t=qa,qa=q;qd=qa;if(qd===q){var za,Uc,td,hc,Ab,ed,Jd,Kd;za=t;Uc=ka();if(Uc!==q)if(td=N(),td!==q){hc=[];for(Ab=ga();Ab!==q;)hc.push(Ab),Ab=ga();hc!==q?(Ab=N(),Ab!==q?(ed=ba(),ed!==q?za=Uc={type:"case_expression",format:"searched",clauses:hc,else:null}:(t=za,za=q)):(t=za,za=q)):(t=za,za=q)}else t=za,za=q;else t=za,za=q;if(za===q)if(za=
t,Uc=ka(),Uc!==q)if(td=N(),td!==q){hc=[];for(Ab=ga();Ab!==q;)hc.push(Ab),Ab=ga();hc!==q?(Ab=N(),Ab!==q?(ed=Q(),ed!==q?(Jd=N(),Jd!==q?(Kd=ba(),Kd!==q?za=Uc={type:"case_expression",format:"searched",clauses:hc,else:ed.value}:(t=za,za=q)):(t=za,za=q)):(t=za,za=q)):(t=za,za=q)):(t=za,za=q)}else t=za,za=q;else t=za,za=q;qd=za}a=qd;if(a===q){var fd,xc,Ed,ud,vd;xc=t;Ed=C();if(Ed!==q){ud=[];for(vd=G();vd!==q;)ud.push(vd),vd=G();ud!==q?xc=Ed+=ud.join(""):(t=xc,xc=q)}else t=xc,xc=q;fd=xc;fd!==q&&(fd={type:"column_ref",
table:"",column:fd});a=fd;a===q&&(a=I(),a===q&&(a=t,d=Ga(),d!==q?(e=N(),e!==q?(l=f(),l!==q?(k=N(),k!==q?(u=Ha(),u!==q?(l.paren=!0,a=d=l):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)))}}}}}}}return a}function z(){var a,b,c,d;a=t;b=C();if(b!==q){c=[];for(d=F();d!==q;)c.push(d),d=F();c!==q?a=b+=c.join(""):(t=a,a=q)}else t=a,a=q;return a}function C(){var a;ca.test(b.charAt(t))?(a=b.charAt(t),t++):(a=q,0===H&&c(L));return a}function F(){var a;sb.test(b.charAt(t))?(a=b.charAt(t),t++):(a=q,0===
H&&c(bb));return a}function G(){var a;Xa.test(b.charAt(t))?(a=b.charAt(t),t++):(a=q,0===H&&c(tb));return a}function I(){var a,d,e;a=t;64===b.charCodeAt(t)?(d=mb,t++):(d=q,0===H&&c(mc));d!==q?(e=z(),e!==q?a=d=[d,e]:(t=a,a=q)):(t=a,a=q);a!==q&&(a={type:"param",value:a[1]});return a}function E(){var a,d,e;a=t;b.substr(t,7).toLowerCase()===kc?(d=b.substr(t,7),t+=7):(d=q,0===H&&c(yc));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="LEADING":(t=a,a=q)):(t=a,a=q);a===q&&(a=t,b.substr(t,8).toLowerCase()===
qc?(d=b.substr(t,8),t+=8):(d=q,0===H&&c(Ea)),d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="TRAILING":(t=a,a=q)):(t=a,a=q),a===q&&(a=t,b.substr(t,4).toLowerCase()===ec?(d=b.substr(t,4),t+=4):(d=q,0===H&&c(Mb)),d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="BOTH":(t=a,a=q)):(t=a,a=q)));return a}function M(){var a;a=ma();a===q&&(a=I());return a}function ma(){var a,d,e;a=t;39===b.charCodeAt(t)?(d=gb,t++):(d=q,0===H&&c(bc));d===q&&(b.substr(t,2)===nb?(d=nb,t+=2):(d=q,0===H&&c(ob)));
if(d!==q){d=[];e=t;b.substr(t,2)===ub?(e=ub,t+=2):(e=q,0===H&&c(nc));e!==q&&(e="'");e===q&&(cc.test(b.charAt(t))?(e=b.charAt(t),t++):(e=q,0===H&&c(pb)));for(;e!==q;)d.push(e),e=t,b.substr(t,2)===ub?(e=ub,t+=2):(e=q,0===H&&c(nc)),e!==q&&(e="'"),e===q&&(cc.test(b.charAt(t))?(e=b.charAt(t),t++):(e=q,0===H&&c(pb)));d!==q?(39===b.charCodeAt(t)?(e=gb,t++):(e=q,0===H&&c(bc)),e!==q?a=d={type:"string",value:d.join("")}:(t=a,a=q)):(t=a,a=q)}else t=a,a=q;return a}function ga(){var a,b,c;a=t;b=va();b!==q?(b=
N(),b!==q?(b=f(),b!==q?(c=N(),c!==q?(c=sa(),c!==q?(c=N(),c!==q?(c=f(),c!==q?a=b={type:"when_clause",operand:b,value:c}:(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q);return a}function X(){var a,b,c;a=t;b=va();b!==q?(b=N(),b!==q?(b=f(),b!==q?(c=N(),c!==q?(c=sa(),c!==q?(c=N(),c!==q?(c=f(),c!==q?a=b={type:"when_clause",operand:b,value:c}:(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q)):(t=a,a=q);return a}function Q(){var a,d;a=t;var e,g;d=t;b.substr(t,4).toLowerCase()===
Jc?(e=b.substr(t,4),t+=4):(e=q,0===H&&c(Kc));e!==q?(e=t,H++,g=F(),H--,g===q?e=void 0:(t=e,e=q),e!==q?d="ELSE":(t=d,d=q)):(t=d,d=q);d!==q?(d=N(),d!==q?(d=f(),d!==q?a={type:"else_clause",value:d}:(t=a,a=q)):(t=a,a=q)):(t=a,a=q);return a}function ja(){var a,d,e;a=S();a===q&&(a=t,45===b.charCodeAt(t)?(d=ua,t++):(d=q,0===H&&c(D)),d===q&&(43===b.charCodeAt(t)?(d=cb,t++):(d=q,0===H&&c(K))),d!==q?(e=S(),e!==q?a=d=d[0]+e:(t=a,a=q)):(t=a,a=q));return a}function aa(){var a,d;a=t;46===b.charCodeAt(t)?(d=Nb,t++):
(d=q,0===H&&c(Gb));d!==q?(d=S(),d===q&&(d=null),d!==q?a="."+(null!=d?d:""):(t=a,a=q)):(t=a,a=q);return a}function ra(){var a,d,e;d=a=t;Ta.test(b.charAt(t))?(e=b.charAt(t),t++):(e=q,0===H&&c(vb));e!==q?(Ec.test(b.charAt(t))?(e=b.charAt(t),t++):(e=q,0===H&&c(hb)),e===q&&(e=null),e!==q?d="e"+(null===e?"":e):(t=d,d=q)):(t=d,d=q);d!==q?(e=S(),e!==q?a=d+e:(t=a,a=q)):(t=a,a=q);return a}function S(){var a,b;a=[];b=J();if(b!==q)for(;b!==q;)a.push(b),b=J();else a=q;a!==q&&(a=a.join(""));return a}function J(){var a;
oc.test(b.charAt(t))?(a=b.charAt(t),t++):(a=q,0===H&&c(Ob));return a}function Y(){var a,d,e;a=t;b.substr(t,2).toLowerCase()===Pb?(d=b.substr(t,2),t+=2):(d=q,0===H&&c(Fb));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="IN":(t=a,a=q)):(t=a,a=q);return a}function O(){var a,d,e;a=t;b.substr(t,2).toLowerCase()===Da?(d=b.substr(t,2),t+=2):(d=q,0===H&&c(Zb));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="IS":(t=a,a=q)):(t=a,a=q);return a}function V(){var a,d,e;a=t;b.substr(t,4).toLowerCase()===
Kb?(d=b.substr(t,4),t+=4):(d=q,0===H&&c($b));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="LIKE":(t=a,a=q)):(t=a,a=q);return a}function T(){var a,d,e;a=t;b.substr(t,3).toLowerCase()===Ua?(d=b.substr(t,3),t+=3):(d=q,0===H&&c(Rb));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="NOT":(t=a,a=q)):(t=a,a=q);return a}function fa(){var a,d,e;a=t;b.substr(t,3).toLowerCase()===dc?(d=b.substr(t,3),t+=3):(d=q,0===H&&c(Hb));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="AND":
(t=a,a=q)):(t=a,a=q);return a}function U(){var a,d,e;a=t;b.substr(t,2).toLowerCase()===xa?(d=b.substr(t,2),t+=2):(d=q,0===H&&c(Sb));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="OR":(t=a,a=q)):(t=a,a=q);return a}function W(){var a,d,e;a=t;b.substr(t,7).toLowerCase()===Tb?(d=b.substr(t,7),t+=7):(d=q,0===H&&c(Ub));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="BETWEEN":(t=a,a=q)):(t=a,a=q);return a}function la(){var a,d,e;a=t;b.substr(t,4).toLowerCase()===Vb?(d=b.substr(t,4),
t+=4):(d=q,0===H&&c(Wb));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="FROM":(t=a,a=q)):(t=a,a=q);return a}function na(){var a,d,e;a=t;b.substr(t,4).toLowerCase()===ac?(d=b.substr(t,4),t+=4):(d=q,0===H&&c(Sa));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="TRIM":(t=a,a=q)):(t=a,a=q);return a}function ka(){var a,d,e;a=t;b.substr(t,4).toLowerCase()===Ac?(d=b.substr(t,4),t+=4):(d=q,0===H&&c(Bc));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="CASE":(t=a,a=q)):(t=a,
a=q);return a}function ba(){var a,d,e;a=t;b.substr(t,3).toLowerCase()===rc?(d=b.substr(t,3),t+=3):(d=q,0===H&&c(Ic));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="END":(t=a,a=q)):(t=a,a=q);return a}function va(){var a,d,e;a=t;b.substr(t,4).toLowerCase()===db?(d=b.substr(t,4),t+=4):(d=q,0===H&&c(lc));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="WHEN":(t=a,a=q)):(t=a,a=q);return a}function sa(){var a,d,e;a=t;b.substr(t,4).toLowerCase()===Cc?(d=b.substr(t,4),t+=4):(d=q,0===
H&&c(Dc));d!==q?(d=t,H++,e=F(),H--,e===q?d=void 0:(t=d,d=q),d!==q?a="THEN":(t=a,a=q)):(t=a,a=q);return a}function Ma(){var a;44===b.charCodeAt(t)?(a=sc,t++):(a=q,0===H&&c(tc));return a}function Ga(){var a;40===b.charCodeAt(t)?(a=Lc,t++):(a=q,0===H&&c(Mc));return a}function Ha(){var a;41===b.charCodeAt(t)?(a=eb,t++):(a=q,0===H&&c(Nc));return a}function N(){var a,b;a=[];for(b=Za();b!==q;)a.push(b),b=Za();return a}function Za(){var a;P.test(b.charAt(t))?(a=b.charAt(t),t++):(a=q,0===H&&c(ya));return a}
function pa(a,b,c,d){a={type:"binary_expr",operator:a,left:b,right:c};void 0!==d&&(a.escape=d);return a}function Wa(a,b){for(var c=0;c<b.length;c++)a=pa(b[c][1],a,b[c][3]);return a}r=void 0!==r?r:{};var q={},Ia={start:k},ab=k,qb="!",Bb=d("!",!1),Ja="\x3d",Ra=d("\x3d",!1),ib="\x3e\x3d",Ka=d("\x3e\x3d",!1),jb="\x3e",Ba=d("\x3e",!1),Qa="\x3c\x3d",R=d("\x3c\x3d",!1),Pa="\x3c\x3e",Aa=d("\x3c\x3e",!1),ea="\x3c",lb=d("\x3c",!1),La="!\x3d",oa=d("!\x3d",!1),cb="+",K=d("+",!1),ua="-",D=d("-",!1),da="*",ia=
d("*",!1),ta="/",Z=d("/",!1),ca=/^[A-Za-z_\x80-\uFFFF]/,L=h([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),sb=/^[A-Za-z0-9_]/,bb=h([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Xa=/^[A-Za-z0-9_.\x80-\uFFFF]/,tb=h([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),mb="@",mc=d("@",!1),gb="'",bc=d("'",!1),nb="N'",ob=d("N'",!1),ub="''",nc=d("''",!1),cc=/^[^']/,pb=h(["'"],!0,!1),Nb=".",Gb=d(".",!1),oc=/^[0-9]/,Ob=h([["0","9"]],!1,!1),Ta=/^[eE]/,vb=h(["e","E"],!1,!1),Ec=/^[+\-]/,hb=h(["+",
"-"],!1,!1),Fc="null",gd=d("NULL",!0),hd="true",Vc=d("TRUE",!0),Wc="false",id=d("FALSE",!0),Pb="in",Fb=d("IN",!0),Da="is",Zb=d("IS",!0),Kb="like",$b=d("LIKE",!0),$a="escape",Qb=d("ESCAPE",!0),Ua="not",Rb=d("NOT",!0),dc="and",Hb=d("AND",!0),xa="or",Sb=d("OR",!0),Tb="between",Ub=d("BETWEEN",!0),Vb="from",Wb=d("FROM",!0),Bd="for",Gc=d("FOR",!0),Cd="substring",Hc=d("SUBSTRING",!0),pc="extract",Xc=d("EXTRACT",!0),ac="trim",Sa=d("TRIM",!0),Cb="position",rb=d("POSITION",!0),Oa="timestamp",kb=d("TIMESTAMP",
!0),Db="date",Lb=d("DATE",!0),kc="leading",yc=d("LEADING",!0),qc="trailing",Ea=d("TRAILING",!0),ec="both",Mb=d("BOTH",!0),kd="year",Dd=d("YEAR",!0),jd="month",Na=d("MONTH",!0),jc="day",ic=d("DAY",!0),wd="hour",xd=d("HOUR",!0),yd="minute",zc=d("MINUTE",!0),Yc="second",zd=d("SECOND",!0),Ac="case",Bc=d("CASE",!0),rc="end",Ic=d("END",!0),db="when",lc=d("WHEN",!0),Cc="then",Dc=d("THEN",!0),Jc="else",Kc=d("ELSE",!0),sc=",",tc=d(",",!1),Lc="(",Mc=d("(",!1),eb=")",Nc=d(")",!1),P=/^[ \t\n\r]/,ya=h([" ","\t",
"\n","\r"],!1,!1),wb="`",ld=d("`",!1),md=/^[^`]/,nd=h(["`"],!0,!1),t=0,Xb=[{line:1,column:1}],Va=0,Yb=[],H=0,Eb;if("startRule"in r){if(!(r.startRule in Ia))throw Error("Can't start parsing from rule \""+r.startRule+'".');ab=Ia[r.startRule]}Eb=ab();if(Eb!==q&&t===b.length)return Eb;Eb!==q&&t<b.length&&c({type:"end"});throw function(b,c,d){return new a(a.buildMessage(b,c),b,c,d)}(Yb,Va<b.length?b.charAt(Va):null,Va<b.length?m(Va,Va+1):m(Va,Va));}}})},"esri/layers/graphics/data/FeatureSetReader":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/generatorHelper ../../../geometry/support/boundsUtils ../../../geometry/support/centroid ../../../geometry/support/quantizationUtils @dojo/shim/Symbol".split(" "),
function(a,b,r,d,h,n,m){Object.defineProperty(b,"__esModule",{value:!0});b.createFeatureSetReader=function(a){switch(a.geometryType){case "esriGeometryEnvelope":return new c(a);case "esriGeometryMultipoint":return new k(a);case "esriGeometryPoint":return new g(a);case "esriGeometryPolygon":return new f(a);case "esriGeometryPolyline":return new v(a);default:throw new TypeError("invalid feature set");}};a=function(){function a(a){this._boundsByOID=new Map;this._hydratedGeometryByOID=new Map;this._centroidByOID=
new Map;this._features=a.features;this._hasM=a.hasM;this._hasZ=a.hasZ;this._objectIdFieldName=a.objectIdFieldName;if(this._transform=a.transform)this._hydrateX=m.getHydrateX(this._transform),this._hydrateY=m.getHydrateY(this._transform)}a.prototype.add=function(a){if(!m.equals(a.transform,this._transform))throw Error("transform not equivalent");(f=this._features).push.apply(f,a.features);if(f=this._featureByOID){var b=this._objectIdFieldName,c=0;for(a=a.features;c<a.length;c++){var d=a[c];f.set(d.attributes[b],
d)}}var f};a.prototype.oids=function(){var a,b,c;return d(this,function(d){switch(d.label){case 0:a=0,b=this._features,d.label=1;case 1:if(!(a<b.length))return[3,4];c=b[a];return[4,c.attributes[this._objectIdFieldName]];case 2:d.sent(),d.label=3;case 3:return a++,[3,1];case 4:return[2]}})};a.prototype.getAttributes=function(a){return this._getFeatureByOID(a).attributes};a.prototype.getBounds=function(a){if(this._boundsByOID.has(a))return this._boundsByOID.get(a);var b;b=this._transform?m.hydrateBounds(this._getBounds(this._getRawGeometry(a)),
this._hydrateX,this._hydrateY):this._getHydratedBounds(this.getGeometry(a));this._boundsByOID.set(a,b);return b};a.prototype.getCentroid=function(a){var b=this._centroidByOID;if(b.has(a))return b.get(a);var c=this.getGeometry(a),c=this._getCentroid(c);b.set(a,c);return c};a.prototype.getCentroidQuantized=function(a,b,c,d){return(a=this.getCentroid(a))?m.hydratePoint({},a,c,d,this._hasZ,this._hasM):null};a.prototype.getGeometry=function(a){if(!this._transform)return this._getRawGeometry(a);var b=this._hydratedGeometryByOID;
if(b.has(a))return b.get(a);var c=this._hydrateGeometry(this._getRawGeometry(a),this._hydrateX,this._hydrateY,this._hasZ,this._hasM);b.set(a,c);return c};a.prototype.getProjectedGeometry=function(a,b){this.getGeometry(b)};a.prototype.getGeometryQuantized=function(a,b,c,d){return m.equals(b,this._transform)?this._getRawGeometry(a):this._quantizeGeometry(this.getGeometry(a),c,d,this._hasZ,this._hasM)};a.prototype._getRawGeometry=function(a){return this._getFeatureByOID(a).geometry};a.prototype._getFeatureByOID=
function(a){if(this._featureByOID)return this._featureByOID.get(a);for(var b=this._featureByOID=new Map,c=this._objectIdFieldName,d=0,f=this._features;d<f.length;d++){var e=f[d];b.set(e.attributes[c],e)}return b.get(a)};return a}();b.FeatureSetReader=a;var c=function(a){function b(b){return a.call(this,b)||this}r(b,a);b.prototype._getBounds=function(a){return[a.xmin,a.ymin,a.xmax,a.ymax]};b.prototype._getCentroid=function(a){a=n.extentCentroid(a);return{x:a[0],y:a[1]}};b.prototype._getHydratedBounds=
function(a){return[a.xmin,a.ymin,a.xmax,a.ymax]};b.prototype._hydrateGeometry=function(a,b,c,d,e){return m.hydrateExtent({},a,b,c,d,e)};b.prototype._quantizeGeometry=function(a,b,c,d,e){return m.quantizeExtent({},a,b,c,d,e)};return b}(a);b.ExtentFeatureSetReader=c;var k=function(a){function b(b){return a.call(this,b)||this}r(b,a);b.prototype._getBounds=function(a){return m.getQuantizedBoundsPoints(a.points)};b.prototype._getCentroid=function(a){a=this._getHydratedBounds(a);return{x:a[0]-a[2],y:a[3]-
a[1]}};b.prototype._getHydratedBounds=function(a){return h.getPointsBounds(a.points)};b.prototype._hydrateGeometry=function(a,b,c,d,e){return m.hydrateMultipoint({},a,b,c,d,e)};b.prototype._quantizeGeometry=function(a,b,c,d,e){return m.quantizeMultipoint({},a,b,c,d,e)};return b}(a);b.MultipointFeatureSetReader=k;var g=function(a){function b(b){return a.call(this,b)||this}r(b,a);b.prototype._getBounds=function(a){return[a.x,a.y,a.x,a.y]};b.prototype._getCentroid=function(a){return a};b.prototype._getHydratedBounds=
function(a){return[a.x,a.y,a.x,a.y]};b.prototype._hydrateGeometry=function(a,b,c,d,e){return m.hydratePoint({},a,b,c,d,e)};b.prototype._quantizeGeometry=function(a,b,c,d,e){return m.hydratePoint({},a,b,c,d,e)};return b}(a);b.PointFeatureSetReader=g;var f=function(a){function b(b){return a.call(this,b)||this}r(b,a);b.prototype._getBounds=function(a){return m.getQuantizedBoundsRings(a.rings)};b.prototype._getCentroid=function(a){a=n.polygonCentroid(a);return{x:a[0],y:a[1]}};b.prototype._getHydratedBounds=
function(a){return h.getRingsOrPathsBounds(a.rings)};b.prototype._hydrateGeometry=function(a,b,c,d,e){return m.hydratePolygon({},a,b,c,d,e)};b.prototype._quantizeGeometry=function(a,b,c,d,e){return m.quantizePolygon({},a,b,c,d,e)};return b}(a);b.PolygonFeatureSetReader=f;var v=function(a){function b(b){return a.call(this,b)||this}r(b,a);b.prototype._getBounds=function(a){return m.getQuantizedBoundsPaths(a.paths)};b.prototype._getCentroid=function(a){a=this._getHydratedBounds(a);return{x:a[0]-a[2],
y:a[3]-a[1]}};b.prototype._getHydratedBounds=function(a){return h.getRingsOrPathsBounds(a.paths)};b.prototype._hydrateGeometry=function(a,b,c,d,e){return m.hydratePolyline({},a,b,c,d,e)};b.prototype._quantizeGeometry=function(a,b,c,d,e){return m.quantizePolyline({},a,b,c,d,e)};return b}(a);b.PolylineFeatureSetReader=v})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(a,b){function r(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}Object.defineProperty(b,
"__esModule",{value:!0});var d=r(Math.min),h=r(Math.max);b.getRingsOrPathsBounds=function(a,b,c){var k=b?3:2;if(!a.length||!a[0].length)return null;for(var g=a[0][0],f=g[0],g=g[1],m=a[0][0],n=m[0],m=m[1],p=void 0,r=void 0,w=void 0,y=void 0,u=0;u<a.length;u++)for(var e=a[u],l=0;l<e.length;l++){var B=e[l],z=B[0],C=B[1],f=d(f,z),g=d(g,C),n=h(n,z),m=h(m,C);b&&2<B.length&&(z=B[2],p=d(p,z),r=h(r,z));c&&B.length>k&&(y=B[k],w=d(p,y),y=h(r,y))}return b?c?[f,g,p,w,n,m,r,y]:[f,g,p,n,m,r]:c?[f,g,w,n,m,y]:[f,
g,n,m]};b.getPointsBounds=function(a,b,c,k,g){var f=b?3:2;c=c&&g;b=b&&k;if(!a.length||!a[0].length)return null;for(var m=a[0],n=m[0],m=m[1],p=a[0],r=p[0],p=p[1],w=void 0,y=void 0,u=void 0,e=void 0,l=0;l<a.length;l++){var B=a[l],z=B[0],C=B[1],n=d(n,z),m=d(m,C),r=h(r,z),p=h(p,C);b&&2<B.length&&(z=B[2],w=d(w,z),y=h(y,z));c&&B.length>f&&(e=B[f],u=d(w,e),e=h(y,e))}return k?(w=w||0,y=y||0,g?[n,m,w,u||0,r,p,y,e||0]:[n,m,w,r,p,y]):g?[n,m,u||0,r,p,e||0]:[n,m,r,p]}})},"esri/geometry/support/quantizationUtils":function(){define(["require",
"exports"],function(a,b){function r(a){return a&&"upperLeft"===a.originPosition}function d(a,b,c,d){for(var e=[],f,g,l,k,u=0;u<a.length;u++){var h=a[u];if(0<u){if(l=b(h[0]),k=c(h[1]),l!==f||k!==g)e.push(d(h,l-f,k-g)),f=l,g=k}else f=b(h[0]),g=c(h[1]),e.push(d(h,f,g))}return 0<e.length?e:null}function h(a,b,c,f,g){return d(a,b,c,f?g?u:y:g?y:w)}function n(a,b,c,f,g){var e=[];f=f?g?u:y:g?y:w;for(g=0;g<a.length;g++){var l=d(a[g],b,c,f);l&&3<=l.length&&e.push(l)}return e.length?e:null}function m(a,b,c,
f,g){var e=[];f=f?g?u:y:g?y:w;for(g=0;g<a.length;g++){var l=d(a[g],b,c,f);l&&2<=l.length&&e.push(l)}return e.length?e:null}function c(a,b,c,d){for(var e=Array(a.length),f,g,l=0;l<a.length;l++){var k=a[l];0<l?(f+=k[0],g+=k[1]):(f=k[0],g=k[1]);e[l]=d(k,b(f),c(g))}return e}function k(a,b,d,f){for(var e=Array(a.length),g=0;g<a.length;g++)e[g]=c(a[g],b,d,f);return e}function g(a,b,d,f,g){return c(a,b,d,f?g?u:y:g?y:w)}function f(a,b,c,d,f){return k(a,b,c,d?f?u:y:f?y:w)}function v(a,b,c,d,f){return k(a,
b,c,d?f?u:y:f?y:w)}function x(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),g=Math.min(d,b[1]),l=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var k=1;k<c.length;k++){var u=c[k],h=u[0],u=u[1],e=e+h,d=d+u;0>h&&(f=Math.min(f,e));0<h&&(l=Math.max(l,e));0>u?g=Math.min(g,d):0<u&&(b=Math.max(b,d))}a[0]=f;a[1]=g;a[2]=l;a[3]=b;return a}function p(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)x(a,a,b[c]);return a}Object.defineProperty(b,
"__esModule",{value:!0});var A=function(a){return a},w=function(a,b,c){return[b,c]},y=function(a,b,c){return[b,c,a[2]]},u=function(a,b,c){return[b,c,a[2],a[3]]};b.toTransform=function(a){return{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,f;r(a)?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);r(b)?
(e=b.translate[0],f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};b.getQuantizeX=function(a){if(!a)return A;var b,c;r(a)?(b=a.translate[0],c=a.scale[0]):(b=a.extent.xmin,c=a.tolerance);return function(a){return Math.round((a-b)/c)}};b.getQuantizeY=function(a){if(!a)return A;var b,c;r(a)?(b=a.translate[1],c=a.scale[1]):(b=a.extent.ymax,c=a.tolerance);return function(a){return Math.round((b-a)/c)}};b.quantizeBounds=function(a,b,c,d){a[0]=c(b[0]);
a[3]=d(b[1]);a[2]=c(b[2]);a[1]=d(b[3]);return a};b.quantizePoints=h;b.quantizeRings=n;b.quantizePaths=m;b.getHydrateX=function(a){if(!a)return A;var b,c;r(a)?(b=a.translate[0],c=a.scale[0]):(b=a.extent.xmin,c=a.tolerance);return function(a){return a*c+b}};b.getHydrateY=function(a){if(!a)return A;var b,c;r(a)?(b=a.translate[1],c=a.scale[1]):(b=a.extent.ymax,c=a.tolerance);return function(a){return b-a*c}};b.hydrateCoordsArray=c;b.hydrateCoordsArrayArray=k;b.hydrateBounds=function(a,b,c,d){return a?
d?(a[0]=c(b[0]),a[1]=d(b[3]),a[2]=c(b[2]),a[3]=d(b[1]),a):[b(a[0]),c(a[3]),b(a[2]),c(a[1])]:a};b.hydratePoints=g;b.hydratePaths=f;b.hydrateRings=v;b.getQuantizedBoundsCoordsArray=x;b.getQuantizedBoundsCoordsArrayArray=p;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return x(b,b,a)};b.getQuantizedBoundsPaths=function(a){return p([0,0,0,0],a)};b.getQuantizedBoundsRings=function(a){return p([0,0,0,0],
a)};b.quantizeExtent=function(a,b,c,d,f,g){a.xmin=c(b.xmin);a.ymin=d(b.ymin);a.xmax=c(b.xmax);a.ymax=d(b.ymax);a!==b&&(f&&(a.zmin=b.zmin,a.zmax=b.zmax),g&&(a.mmin=b.mmin,a.mmax=b.mmax));return a};b.quantizeMultipoint=function(a,b,c,d,f,g){a.points=h(b.points,c,d,f,g);return a};b.quantizePoint=function(a,b,c,d,f,g){a.x=c(b.x);a.y=d(b.y);a!==b&&(f&&(a.z=b.z),g&&(a.m=b.m));return a};b.quantizePolygon=function(a,b,c,d,f,g){b=n(b.rings,c,d,f,g);if(!b)return null;a.rings=b;return a};b.quantizePolyline=
function(a,b,c,d,f,g){b=m(b.paths,c,d,f,g);if(!b)return null;a.paths=b;return a};b.hydrateExtent=function(a,b,c,d,f,g){a.xmin=c(b.xmin);a.ymin=d(b.ymin);a.xmax=c(b.xmax);a.ymax=d(b.ymax);a!==b&&(f&&(a.zmin=b.zmin,a.zmax=b.zmax),g&&(a.mmin=b.mmin,a.mmax=b.mmax));return a};b.hydrateMultipoint=function(a,b,c,d,f,k){a.points=g(b.points,c,d,f,k);return a};b.hydratePoint=function(a,b,c,d,f,g){a.x=c(b.x);a.y=d(b.y);a!==b&&(f&&(a.z=b.z),g&&(a.m=b.m));return a};b.hydratePolygon=function(a,b,c,d,f,g){a.rings=
v(b.rings,c,d,f,g);return a};b.hydratePolyline=function(a,b,c,d,g,k){a.paths=f(b.paths,c,d,g,k);return a}})},"esri/layers/graphics/data/FeatureStoreCapabilities":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.queryCapabilities={supportsStatistics:!0,supportsCentroid:!1,supportsDistance:!0,supportsDistinct:!1,supportsExtent:!0,supportsGeometryProperties:!1,supportsOrderBy:!1,supportsPagination:!0,supportsQuantization:!0,supportsResultType:!1,
supportsSqlExpression:!0,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!1,supportsHistoricMoment:!1}})},"esri/layers/graphics/data/FeatureStoreItem":function(){define(["require","exports","@dojo/shim/iterator","./FeatureSetReader"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});var h=function(){function a(a,b){this.reader=a;this.oid=b;this.count=1;this.bounds=void 0}a.prototype.getBounds=function(){void 0===this.bounds&&(this.bounds=this.reader.getBounds(this.oid));
return this.bounds};a.prototype.getCentroid=function(){return this.reader.getCentroid(this.oid)};a.prototype.getCentroidQuantized=function(a,b,d){return this.reader.getCentroidQuantized(this.oid,a,b,d)};a.prototype.getGeometry=function(){return this.reader.getGeometry(this.oid)};a.prototype.getGeometryQuantized=function(a,b,d){return this.reader.getGeometryQuantized(this.oid,a,b,d)};a.prototype.getAttributes=function(){return this.reader.getAttributes(this.oid)};return a}();b.default=h;b.createFromFeatureSet=
function(a){var b=d.createFeatureSetReader(a),c=[];r.forOf(b.oids(),function(a){c.push(new h(b,a))});return c}})},"esri/layers/graphics/data/FeatureStoreResult":function(){define("require exports @dojo/shim/array @dojo/shim/Set ../../../core/promiseUtils ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ./attributeSupport ./FeatureStoreItem ./projectionSupport".split(" "),function(a,b,r,d,h,n,m,c,k,g){function f(a){return a?JSON.parse(JSON.stringify(a,["latestWkid",
"wkid","wkt"])):a}Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b){this.items=a;this.definitionExpression=b.definitionExpression;this.geometryType=b.geometryType;this.hasM=b.hasM;this.hasZ=b.hasZ;this.objectIdField=b.objectIdField;this.spatialReference=b.spatialReference;this.fieldsMap=b.fieldsMap}Object.defineProperty(a.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0});a.prototype.createQueryResponse=function(a){return a.outStatistics?
this._createStatisticsQueryResponse(a):this._createFeatureQueryResponse(a)};a.prototype.executeAttributesQuery=function(a){var b=c.getWhereClause(a.where);if(!b)return h.resolve(this);if(b.isStandardized()){for(var d=0,f=[],g=0,k=this.items;g<k.length;g++){var e=k[g];b.testFeature(e.getAttributes())&&(f[d++]=e)}b=this._createNew(f);b.definitionExpression=a.where;return h.resolve(b)}return h.reject(new TypeError("Where clause is not standardized"))};a.prototype.executeObjectIdsQuery=function(a){if(!a.objectIds||
!a.objectIds.length)return h.resolve(this);var b=new d.default(a.objectIds);return h.resolve(this._createNew(this.items.filter(function(a){return b.has(a.oid)})))};a.prototype.project=function(b){var c=this;return!b||m.equals(this.spatialReference,b)?h.resolve(this):g.projectMany(this.items.map(function(a){return a.getGeometry()}),this.spatialReference,b).then(function(d){for(var f=[],g=0;g<c.items.length;g++)f[g]={attributes:c.items[g].getAttributes(),geometry:d[g]};d=k.createFromFeatureSet({fields:r.from(c.fieldsMap.values()),
spatialReference:b,geometryType:c.geometryType,hasM:c.hasM,hasZ:c.hasZ,features:f,objectIdFieldName:c.objectIdField});return new a(d,{definitionExpression:c.definitionExpression,geometryType:c.geometryType,hasM:c.hasM,hasZ:c.hasZ,objectIdField:c.objectIdField,spatialReference:b,fieldsMap:c.fieldsMap})})};a.prototype._createFeatureQueryResponse=function(a){var b=this,c=this.items,d=this.geometryType,g=this.hasM,k=this.hasZ,e=this.objectIdField,l=this.spatialReference,h=a.outFields,m=a.outSpatialReference,
v=a.quantizationParameters,x=!1;if(null!=a.num&&null!=a.start)var r=a.start+a.num,x=c.length>r,c=c.slice(a.start,Math.min(c.length,r));return{exceededTransferLimit:x,features:this._createFeatures(a,c),fields:h&&h.map(function(a){return b.fieldsMap.get(a)}),geometryType:d,hasM:g,hasZ:k,objectIdFieldName:e,spatialReference:f(m?m.toJSON():l),transform:v&&n.toTransform(v)}};a.prototype._createFeatures=function(a,b){var c=a.quantizationParameters,d=a.returnGeometry,f=a.returnCentroid;a=[];var g=0;if(d||
f)if(c){var c=n.toTransform(c),e=n.getQuantizeX(c),l=n.getQuantizeY(c);if(d&&!f)for(f=0;f<b.length;f++)d=b[f],a[g++]={attributes:d.getAttributes(),geometry:d.getGeometryQuantized(c,e,l)};else if(!d&&f)for(f=0;f<b.length;f++)d=b[f],a[g++]={attributes:d.getAttributes(),centroid:d.getCentroidQuantized(c,e,l)};else for(f=0;f<b.length;f++)d=b[f],a[g++]={attributes:d.getAttributes(),centroid:d.getCentroidQuantized(c,e,l),geometry:d.getGeometryQuantized(c,e,l)}}else if(d&&!f)for(c=0;c<b.length;c++)d=b[c],
a[g++]={attributes:d.getAttributes(),geometry:d.getGeometry()};else if(!d&&f)for(c=0;c<b.length;c++)d=b[c],a[g++]={attributes:d.getAttributes(),centroid:d.getCentroid()};else for(c=0;c<b.length;c++)d=b[c],a[g++]={attributes:d.getAttributes(),centroid:d.getCentroid(),geometry:d.getGeometry()};else for(c=0;c<b.length;c++)d=b[c],a[g++]={attributes:d.getAttributes()};return a};a.prototype._createNew=function(b){return new a(b,this)};a.prototype._createStatisticsQueryResponse=function(a){var b=a.outStatistics,
c=[],d=[];if(a.groupByFieldsForStatistics&&a.groupByFieldsForStatistics.length)for(var f={},g=0;g<b.length;g++){var e=b[g];a=e.onStatisticField;var l=e.outStatisticFieldName,e=e.statisticType;if("count"===e){f[a]||(f[a]=this._calculateUniqueValues(a));var e=f[a],k;for(k in e){var h=e[k],m={attributes:{}};m.attributes[l]=h.count;m.attributes[a]=h.data;c.push(m)}d.push({name:l,alias:l,type:"esriFieldTypeString"})}}else{k={};f={attributes:{}};for(g=0;g<b.length;g++)e=b[g],a=e.onStatisticField,l=e.outStatisticFieldName,
e=e.statisticType,k[a]||(k[a]=this._calculateStatistics(a)),f.attributes[l]=k[a]["var"===e?"variance":e],d.push({name:l,alias:l,type:"esriFieldTypeDouble"});c.push(f)}return{fields:d,features:c}};a.prototype._calculateStatistics=function(a){for(var b=this.items,c=b.length,d=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,g=null,e=null,l=null,k=null,h=[],m=0;m<c;m++)var n=h[m]=b[m].getAttributes()[a],g=g+n,d=Math.min(d,n),f=Math.max(f,n);if(c){e=g/c;for(b=a=0;b<h.length;b++)n=h[b],a+=Math.pow(n-
e,2);k=1<c?a/(c-1):0;l=Math.sqrt(k)}else f=d=null;return{avg:e,count:c,max:f,min:d,stddev:l,sum:g,variance:k}};a.prototype._calculateUniqueValues=function(a){for(var b={},c=0,d=this.items;c<d.length;c++){var f=d[c].getAttributes()[a];if(null==f||"string"===typeof f&&""===f.trim())f=null;null==b[f]?b[f]={count:1,data:f}:b[f].count++}return b};return a}();b.default=a})},"esri/layers/graphics/data/projectionSupport":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../geometry/projection ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(a,b,r,d,h,n,m){function c(a,b){if(!b)return null;if("x"in b){var c={x:0,y:0};a=a(b.x,b.y,f,0);c.x=a[0];c.y=a[1];null!=b.z&&(c.z=b.z);null!=b.m&&(c.m=b.m);return c}if("xmin"in b)return c={xmin:0,ymin:0,xmax:0,ymax:0},d=a(b.xmin,b.ymin,f,0),c.xmin=d[0],c.ymin=d[1],a=a(b.xmax,b.ymax,f,0),c.xmax=a[0],c.ymax=a[1],b.hasZ&&(c.zmin=b.zmin,c.zmax=b.zmax,c.hasZ=!0),b.hasM&&(c.mmin=b.mmin,c.mmax=b.mmax,c.hasM=!0),c;if("rings"in b)return{rings:k(b.rings,a),hasM:b.hasM,hasZ:b.hasZ};if("paths"in b)return{paths:k(b.paths,
a),hasM:b.hasM,hasZ:b.hasZ};if("points"in b)return{points:g(b.points,a),hasM:b.hasM,hasZ:b.hasZ};var d}function k(a,b){for(var c=[],d=0;d<a.length;d++)c.push(g(a[d],b));return c}function g(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=b(e[0],e[1],[0,0],0);c.push(f);2<e.length&&f.push(e[2]);3<e.length&&f.push(e[3])}return c}Object.defineProperty(b,"__esModule",{value:!0});var f=[0,0];b.checkProjectionSupport=function(a,b,c){return!b||!c||n.equals(b,c)||m.canProject(b,c)?d.resolve():h.isSupported()?
h.load():d.reject(new r("feature-store:unsupported-query","projection not supported",{query:a}))};var v=c.bind(null,m.lngLatToXY),x=c.bind(null,m.xyToLngLat);b.project=function(a,b,c){return b&&c&&!n.equals(b,c)?m.canProject(b,c)?n.isWebMercator(c)?v(a):x(a):h.projectMany([a],b,c,null,!0)[0]:a};var p=new (function(){function a(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a,b,c){var e=this;a&&a.length&&b&&c&&!n.equals(b,c)||d.resolve(a);var f={geometries:a,
inSpatialReference:b,outSpatialReference:c,resolve:null};this._jobs.push(f);return d.create(function(a){f.resolve=a;null===e._timer&&(e._timer=setTimeout(e._process,10))},function(){var a=e._jobs.indexOf(f);-1<a&&e._jobs.splice(a,1)})};a.prototype._process=function(){this._timer=null;var a=this._jobs.shift();if(a){var b=a.geometries,c=a.inSpatialReference,d=a.outSpatialReference,a=a.resolve;m.canProject(c,d)?n.isWebMercator(d)?a(b.map(v)):a(b.map(x)):a(h.projectMany(b,c,d,null,!0));0<this._jobs.length&&
(this._timer=setTimeout(this._process,10))}};return a}());b.projectMany=function(a,b,c){return p.push(a,b,c)}})},"esri/layers/graphics/data/SpatialQueryCache":function(){define(["require","exports","@dojo/shim/iterator","../../../core/LRUMap"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});var h=function(){return function(a,b,d){this.cache=a;this.key=b;this.result=d}}(),n=new d(2E6,{disposeFunction:function(a,b){b.cache.has(b.key)&&b.cache.delete(b.key)},sizeOfFunction:function(a){return a.result.size}});
a=function(){function a(){this._id=a.id_gen++ +"$$";this._keys=new Set}Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.size},enumerable:!0,configurable:!0});a.prototype.clear=function(){var a=this;0!==this._keys.size&&(r.forOf(this._keys,function(b){n.delete(a._getGlobalKey(b))}),this._keys.clear())};a.prototype.delete=function(a){this._keys.delete(a);return n.delete(this._getGlobalKey(a))};a.prototype.get=function(a){return(a=n.get(this._getGlobalKey(a)))&&a.result};a.prototype.has=
function(a){return n.has(this._getGlobalKey(a))};a.prototype.set=function(a,b){this._keys.add(a);n.set(this._getGlobalKey(a),new h(this,a,b));return this};a.prototype._getGlobalKey=function(a){return this._id+a};a.id_gen=0;return a}();b.default=a})},"esri/layers/graphics/data/spatialQuerySupport":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../geometry/support/contains ../../../geometry/support/intersects ../../../geometry/support/webMercatorUtils".split(" "),
function(a,b,r,d,h,n,m){function c(){return d.create(function(b){return a(["../../../geometry/geometryEngine"],b)})}Object.defineProperty(b,"__esModule",{value:!0});var k={intersects:!0,contains:!0,within:!0,crosses:!0,touches:!0,overlaps:!0,"envelope-intersects":!0},g={point:!0,multipoint:!0,polyline:!0,polygon:!0,extent:!0},f={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0};b.importGeometryEngine=c;b.getGeodesicBufferOperator=function(){return c().then(function(a){return a.geodesicBuffer})};
b.getBufferOperator=function(){return c().then(function(a){return a.buffer})};b.getSpatialQueryOperator=function(a,b,f){if("intersects"===a){if("polygon"===b.type&&"esriGeometryPoint"===f)return d.resolve(h.polygonContainsPoint.bind(null,b.toJSON()));if("extent"===b.type)return d.resolve(n.getExtentIntersector(f).bind(null,b))}return c().then(function(c){return c[a].bind(null,b.toJSON())})};b.checkSpatialQuerySupport=function(a,b,c){var h=a.geometry;return h?!0!==k[a.spatialRelationship]?d.reject(new r("feature-store:unsupported-query",
"Unsupported query spatial relationship",{query:a})):!0!==g[h.type]?d.reject(new r("feature-store:unsupported-query","Unsupported query geometry type",{query:a})):!0!==f[b]?d.reject(new r("feature-store:unsupported-query","Unsupported layer geometry type",{query:a})):m.canProject(h.spatialReference,c)?d.resolve():d.reject(new r("feature-store:unsupported-query","Unsupported geometry spatialReference",{query:a})):null};b.canQueryWithRBush=function(a){switch(a.type){case "extent":return!0;case "polygon":return a.rings.every(function(a){return 5!==
a.length?!1:a[0][0]===a[1][0]&&a[0][0]===a[4][0]&&a[2][0]===a[3][0]&&a[0][1]===a[3][1]&&a[0][1]===a[4][1]&&a[1][1]===a[2][1]});default:return!1}}})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../TimeExtent ../../core/JSONSupport ../../core/kebabDictionary ../../core/lang ../../core/accessorSupport/decorators ../../geometry/support/jsonUtils ../../geometry/support/typeUtils ../../symbols/support/jsonUtils ../../symbols/support/typeUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w){var y=c({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),u=c({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",
esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(a){function b(b){b=a.call(this,b)||this;b.datumTransformation=null;b.distance=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=null;b.parameterValues=
null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnDistinctValues=!1;b.returnGeometry=!1;b.returnCentroid=!1;b.returnExceededLimitFeatures=!0;b.returnM=!1;b.returnZ=!1;b.source=null;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units="meters";b.where=null;return b}r(b,a);c=b;b.prototype.castDatumTransformation=function(a){return"number"===typeof a||"object"===typeof a?a:null};
b.prototype.writeHistoricMoment=function(a,b,c){b.historicMoment=a&&a.getTime()};b.prototype.writeParameterValues=function(a,b,c){if(a){c={};for(var d in a){var e=a[d];Array.isArray(e)?c[d]=e.map(function(a){return a instanceof Date?a.getTime():a}):c[d]=e instanceof Date?e.getTime():e}b.parameterValues=c}};b.prototype.writeStart=function(a,b,c){b.resultOffset=this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};b.prototype.writeWhere=function(a,b,c){b.where=a||"1\x3d1"};b.prototype.clone=
function(){return new c(k.clone({datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,
outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnM:this.returnM,
returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.text,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};d([g.property({json:{write:!0}})],b.prototype,"datumTransformation",void 0);d([g.cast("datumTransformation")],b.prototype,"castDatumTransformation",null);d([g.property({type:Number,json:{write:!0}})],b.prototype,"distance",void 0);d([g.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",
void 0);d([g.property({types:v.types,json:{read:f.fromJSON,write:!0}})],b.prototype,"geometry",void 0);d([g.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);d([g.property({type:[String],json:{write:!0}})],b.prototype,"groupByFieldsForStatistics",void 0);d([g.property({type:Date})],b.prototype,"historicMoment",void 0);d([g.writer("historicMoment")],b.prototype,"writeHistoricMoment",null);d([g.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",
void 0);d([g.property({type:Number,cast:function(a){return 1>a?1:5<a?5:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],b.prototype,"maxRecordCountFactor",void 0);d([g.property({type:String,json:{write:!0}})],b.prototype,"multipatchOption",void 0);d([g.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);d([g.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);d([g.property({type:[String],json:{write:!0}})],b.prototype,
"orderByFields",void 0);d([g.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);d([g.property({type:h.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);d([g.property({type:[w],json:{write:!0}})],b.prototype,"outStatistics",void 0);d([g.property({json:{write:!0}})],b.prototype,"parameterValues",void 0);d([g.writer("parameterValues")],b.prototype,"writeParameterValues",null);d([g.property({types:p.types,json:{read:x.read,
write:!0}})],b.prototype,"pixelSize",void 0);d([g.property({type:A.default,json:{write:!0}})],b.prototype,"quantizationParameters",void 0);d([g.property({type:[Object],json:{write:!0}})],b.prototype,"rangeValues",void 0);d([g.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(a){return{enabled:"relation"===this.spatialRelationship}}}}})],b.prototype,"relationParameter",void 0);d([g.property({type:String,json:{write:!0}})],b.prototype,"resultType",
void 0);d([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnDistinctValues",void 0);d([g.property({type:Boolean,json:{write:!0}})],b.prototype,"returnGeometry",void 0);d([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnCentroid",void 0);d([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],b.prototype,"returnExceededLimitFeatures",void 0);d([g.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnM",void 0);d([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnZ",void 0);d([g.property({json:{write:!0}})],b.prototype,"source",void 0);d([g.property({type:String,json:{read:{source:"spatialRel",reader:y.read},write:{target:"spatialRel",writer:y.write}}})],b.prototype,"spatialRelationship",void 0);d([g.property({type:Number,json:{read:{source:"resultOffset"}}})],
b.prototype,"start",void 0);d([g.writer("start"),g.writer("num")],b.prototype,"writeStart",null);d([g.property({type:String,json:{write:!0}})],b.prototype,"sqlFormat",void 0);d([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d([g.property({type:n,json:{write:!0}})],b.prototype,"timeExtent",void 0);d([g.property({type:String,json:{read:u.read,write:{writer:u.write,overridePolicy:function(a){return{enabled:0<this.distance}}}}})],b.prototype,"units",void 0);d([g.property({type:String,
json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],b.prototype,"where",void 0);d([g.writer("where")],b.prototype,"writeWhere",null);return b=c=d([g.subclass("esri.tasks.support.Query")],b);var c}(g.declared(m))})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators".split(" "),function(a,b,r,d,h,n){var m={milliseconds:{getter:"getUTCMilliseconds",
setter:"setUTCMilliseconds",multiplier:1},seconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},minutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},hours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},days:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},weeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},months:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},years:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},decades:{getter:"getUTCFullYear",
setter:"setUTCFullYear",multiplier:10},centuries:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}};return function(a){function b(b,c){b=a.call(this)||this;b.endTime=null;b.startTime=null;return b}r(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b){return!a||a instanceof Date?{startTime:a,endTime:b}:a};b.prototype.readEndTime=function(a,b){return null!=b.endTime?new Date(b.endTime):null};b.prototype.writeEndTime=function(a,b,c){b.endTime=a?a.getTime():null};b.prototype.readStartTime=
function(a,b){return null!=b.startTime?new Date(b.startTime):null};b.prototype.writeStartTime=function(a,b,c){b.startTime=a?a.getTime():null};b.prototype.clone=function(){return new c({endTime:this.endTime,startTime:this.startTime})};b.prototype.intersection=function(a){if(!a)return null;var b=this.startTime?this.startTime.getTime():-Infinity,d=this.endTime?this.endTime.getTime():Infinity,f=a.startTime?a.startTime.getTime():-Infinity;a=a.endTime?a.endTime.getTime():Infinity;var g,k;f>=b&&f<=d?g=f:
b>=f&&b<=a&&(g=b);d>=f&&d<=a?k=d:a>=b&&a<=d&&(k=a);if(isNaN(g)||isNaN(k))return null;b=new c;b.startTime=-Infinity===g?null:new Date(g);b.endTime=Infinity===k?null:new Date(k);return b};b.prototype.offset=function(a,b){var d=new c,f=this.startTime,g=this.endTime;f&&(d.startTime=this._offsetDate(f,a,b));g&&(d.endTime=this._offsetDate(g,a,b));return d};b.prototype._offsetDate=function(a,b,c){a=new Date(a.getTime());b&&c&&(c=m[c],a[c.setter](a[c.getter]()+b*c.multiplier));return a};d([n.property({type:Date,
json:{write:{allowNull:!0}}})],b.prototype,"endTime",void 0);d([n.reader("endTime")],b.prototype,"readEndTime",null);d([n.writer("endTime")],b.prototype,"writeEndTime",null);d([n.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"startTime",void 0);d([n.reader("startTime")],b.prototype,"readStartTime",null);d([n.writer("startTime")],b.prototype,"writeStartTime",null);return b=c=d([n.subclass("esri.TimeExtent")],b);var c}(n.declared(h))})},"esri/geometry/support/typeUtils":function(){define("require exports ../../core/accessorSupport/ensureType ../Extent ../Geometry ../Mesh ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(a,b,r,d,h,n,m,c,k,g){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:h,key:"type",typeMap:{extent:d,multipoint:m,point:c,polyline:g,polygon:k,mesh:n}};b.ensureType=r.ensureOneOfType(b.types)})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e){function l(a,b,c){b=a?z[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new d("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function B(a,b,c){if(!a)return null;if(!c||"web-scene"!==c.origin||a.isInstanceOf(A)||a.isInstanceOf(y))return a.write(b,c);var d=e.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new r("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}Object.defineProperty(b,"__esModule",{value:!0});var z={esriSMS:p,esriPMS:k,esriTS:w,esriSLS:x,esriSFS:v,esriPFS:c,PointSymbol3D:g,LineSymbol3D:n,PolygonSymbol3D:f,MeshSymbol3D:m,LabelSymbol3D:h,styleSymbolReference:y};b.read=l;b.writeTarget=function(a,b,c,d){(a=B(a,{},d))&&(b[c]=a)};b.write=B;b.fromJSON=function(a,
b){return l(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new u}c&&c.read(a,b);return c}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(a,b,r,d,h){a=function(a){function b(c,d,g){var f=a.call(this,c,d,g)||this;return f instanceof b?f:new b(c,d,g)}r(b,a);return b}(h);a.prototype.type="warning";return a})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f){var v=h.ofType({base:null,key:"type",typeMap:{text:k}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new v;b.type="label-3d";return b}r(b,a);c=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return g.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return g.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({styleOrigin:n.clone(this.styleOrigin),
symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail),callout:n.clone(this.callout),verticalOffset:n.clone(this.verticalOffset)})};d([m.property({type:f.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d([m.property(g.calloutProperty)],b.prototype,"callout",void 0);d([m.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);d([m.property({type:v})],b.prototype,"symbolLayers",void 0);d([m.property()],b.prototype,"type",void 0);return b=c=d([m.subclass("esri.symbols.LabelSymbol3D")],
b);var c}(m.declared(c))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper dojo/aspect ./Accessor ./ArrayPool ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x){function p(a){return a?a.isInstanceOf&&a.isInstanceOf(G):!1}function A(a){return a?p(a)?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function w(a){if(a&&a.length)return a[0]}
function y(a,b,c,d){b&&b.forEach(function(b,e,f){a.push(b);y(a,c.call(d,b,e,f),c,d)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var u=function(){},e=new g(a,!0,function(a){a.item=null;a.target=null}),l=new Set,B=new Set,z=new Set,C=new Map,F=0,G=function(a){function b(b){b=a.call(this,b)||this;
b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:F++});return b}r(b,a);c=b;b.ofType=function(a){if(!a)return c;if(C.has(a))return C.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var d in a.typeMap){var e=a.typeMap[d].prototype.declaredClass;b=b?b+(" | "+e):e}b=c.createSubclass({declaredClass:"esri.core.Collection\x3c"+
b+"\x3e"});d={Type:a,ensureType:"function"===typeof a?x.ensureType(a):x.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:d});C.set(a,b);return b};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||p(a)?{items:a}:a:{}};Object.defineProperty(b.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,[0,this.length].concat(A(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});b.prototype.on=
function(a,b){var c;Array.isArray(a)?c=a:-1<a.indexOf(",")&&(c=a.split(/\s*,\s*/));if(c){var d=[];for(a=0;a<c.length;a++)d.push(this.on(c[a],b));d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d}if("change"===a){var e=this._chgListeners,f={removed:!1,callback:b};e.push(f);this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]});return{remove:function(){this.remove=u;f.removed=!0;e.splice(e.indexOf(f),1)}}}return h.after(this,"on"+
a,b,!0)};b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this.inherited(arguments)};b.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(A(a)));this._emitAfterChanges();return this};
b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(k.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=a.map(A);return this._createNewInstance({items:(c=this._items).concat.apply(c,a)});var c};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=
this._splice(0,this.length),d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c);this._emitAfterChanges()}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,d=c.length,e=0;e<d;e++){var f=c[e];if(a.call(b,f,e,c))return f}};b.prototype.findIndex=
function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,d=c.length,e=0;e<d;e++)if(a.call(b,c[e],e,c))return e;return-1};b.prototype.flatten=function(a,b){var d=[];y(d,this,a,b);return new c(d)};b.prototype.forEach=function(a,b){for(var c=this._items,d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=
function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new c({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=
this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=w(this._splice(this.length-1,1));this._emitAfterChanges();return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,
0].concat(a));this._emitAfterChanges();return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=w(this._splice(a,1)),this._emitAfterChanges(),a};b.prototype.removeMany=
function(a){if(!a||!a.length||this._emitBeforeChanges())return[];a=p(a)?a.toArray():a;for(var b=this._items,c=[],d=a.length,e=0;e<d;e++){var f=b.indexOf(a[e]);if(-1<f){for(var g=e+1,k=f+1,l=Math.min(a.length-g,b.length-k),h=0;h<l&&a[g+h]===b[k+h];)h++;g=1+h;(f=this._splice(f,g))&&0<f.length&&c.push.apply(c,f);e+=g-1}}this._emitAfterChanges();return c};b.prototype.reverse=function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,
0].concat(a)));this._emitAfterChanges();return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=w(this._splice(0,1));this._emitAfterChanges();return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);
arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));return this};b.prototype.splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=
function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var d=this._items,g=this.constructor.prototype.itemType,k,l;!this._notifications&&
this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=f.schedule(this._boundDispatch));if(b){l=d.splice(a,b);if(this.hasEventListener("before-remove")){var h=e.acquire();h.target=this;h.cancellable=!0;for(var u=0,p=l.length;u<p;u++)k=l[u],h.reset(k),this.emit("before-remove",h),h.defaultPrevented&&(l.splice(u,1),d.splice(a,0,k),a+=1,--u,--p);e.release(h)}this.length=this._items.length;
if(this.hasEventListener("after-remove")){k=e.acquire();k.target=this;k.cancellable=!1;p=l.length;for(u=0;u<p;u++)k.reset(l[u]),this.emit("after-remove",k);e.release(k)}}if(c&&c.length){if(g){u=[];for(p=0;p<c.length;p++)k=c[p],h=g.ensureType(k),null==h&&null!=k||u.push(h);c=u}g=this.hasEventListener("before-add");u=this.hasEventListener("after-add");p=a===this.length;if(g||u){k=e.acquire();k.target=this;k.cancellable=!0;h=e.acquire();h.target=this;h.cancellable=!1;for(var m=0,n=c;m<n.length;m++){var v=
n[m];g?(k.reset(v),this.emit("before-add",k),k.defaultPrevented||(p?d.push(v):d.splice(a++,0,v),this._set("length",d.length),u&&(h.reset(v),this.emit("after-add",h)))):(p?d.push(v):d.splice(a++,0,v),this._set("length",d.length),h.reset(v),this.emit("after-add",h))}e.release(k)}else p?d.push.apply(d,c):d.splice.apply(d,[a,0].concat(c)),this._set("length",d.length)}(c&&c.length||l&&l.length)&&this._notifyChangeEvent(c,l);return l};b.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=
e.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;e.release(b)}return a};b.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=e.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",a);e.release(a)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchColChange=function(){this._timer&&
(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;l.clear();B.clear();z.clear();for(var d=0;d<b.length;d++){var e=b[d],f=e.added,e=e.removed;if(f)if(0===z.size&&0===B.size)for(var g=0,k=f;g<k.length;g++)f=k[g],l.add(f);else for(g=0,k=f;g<k.length;g++)f=k[g],B.has(f)?(z.add(f),B.delete(f)):z.has(f)||l.add(f);if(e)if(0===z.size&&0===l.size)for(g=0;g<e.length;g++)f=e[g],B.add(f);else for(g=0;g<e.length;g++)f=
e[g],l.has(f)?l.delete(f):(z.delete(f),B.add(f))}var h=m.acquire();l.forEach(function(a){h.push(a)});var u=m.acquire();B.forEach(function(a){u.push(a)});var p=c._items,n=a.items,v=m.acquire();z.forEach(function(a){n.indexOf(a)!==p.indexOf(a)&&v.push(a)});if(a.listeners&&(h.length||u.length||v.length))for(b={target:c,added:h,removed:u,moved:v},d=a.listeners.length,f=0;f<d;f++)e=a.listeners[f],e.removed||e.callback.call(c,b);m.release(h);m.release(u);m.release(v)},c=this,d=0;d<a.length;d++)b(a[d]);
l.clear();B.clear();z.clear()}};b.isCollection=p;d([v.property()],b.prototype,"length",void 0);d([v.property()],b.prototype,"items",null);return b=c=d([v.subclass("esri.core.Collection")],b);var c}(v.declared(n,c));return G})},"esri/core/Evented":function(){define(["require","exports","dojo/aspect","dojo/on"],function(a,b,r,d){function h(a,b,c,d){var g;Array.isArray(b)?g=b:-1<b.indexOf(",")&&(g=b.split(/\s*,\s*/));if(g){var f=[];for(b=0;b<g.length;b++)f.push(h(a,g[b],c,d));f.remove=function(){for(var a=
0;a<f.length;a++)f[a].remove()};return f}return d(a,b)}return function(){function a(){}a.prototype.emit=function(a,b){if(this.hasEventListener(a))return b=b||{},b.target||(b.target=this),d.emit(this,a,b)};a.prototype.on=function(a,b){return h(this,a,b,function(a,c){return r.after(a,"on"+c,b,!0)})};a.prototype.hasEventListener=function(a){a="on"+a;return!(!this[a]||!this[a].after)};return a}()})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B,z){var C={icon:p,object:w,line:A,path:y,fill:x,extrude:v,text:l},F=h.ofType({base:e,key:"type",typeMap:C}),G=m.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||h));return b}r(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},
set:function(a){G.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){n.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=function(a,b,c){b=[];for(var d=0;d<a.length;d++){var f=a[d],g=e.typeJSONDictionary.read(f.type),l=C[g];l?(f=new l,f.read(a[d],c),b.push(f)):(G.warn("Unknown symbol layer type: "+
g),c&&c.messages&&c.messages.push(new k("symbol-layer:unsupported","Symbol layers of type '"+(g||"unknown")+"' are not supported",{definition:f,context:c})))}return b};b.prototype.readStyleOrigin=function(a,b,d){if(a.styleUrl&&a.name)return b=c.read(a.styleUrl,d),new B({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new B({portal:d&&d.portal||f.getDefault(),styleName:a.styleName,name:a.name});d&&d.messages&&d.messages.push(new k("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",
{context:d,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,d,e){a.styleUrl&&a.name?(d=c.write(a.styleUrl,e),c.isAbsolute(d)&&(d=c.normalize(d)),b.styleOrigin={styleUrl:d,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!c.hasSamePortal(a.portal.restUrl,e.portal.restUrl)?e&&e.messages&&e.messages.push(new k("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin=
{styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof e||a&&C[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};d([g.property({json:{read:!1,write:!1}})],b.prototype,"color",null);d([g.property({type:F,nonNullable:!0,json:{write:!0}}),g.cast(n.castForReferenceSetter)],b.prototype,"symbolLayers",null);d([g.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);d([g.property({type:B})],b.prototype,"styleOrigin",void 0);d([g.reader("styleOrigin")],
b.prototype,"readStyleOrigin",null);d([g.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);d([g.property({type:z.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);d([g.property({type:String,readOnly:!0,json:{read:!1}})],b.prototype,"type",void 0);return b=d([g.subclass("esri.symbols.Symbol3D")],b)}(g.declared(u))})},"esri/core/collectionUtils":function(){define(["require",
"exports","./Collection"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(a,b,n){void 0===n&&(n=r);b||(b=new n);b.removeAll();a&&(Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(r))?b.addMany(a):b.add(a);return b};b.castForReferenceSetter=function(a){return a}})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper dojo/_base/kernel dojo/_base/lang dojo/_base/url dojo/promise/all ../config ../kernel ../request ../core/Error ../core/global ../core/JSONSupport ../core/Loadable ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B,z,C,F){var G,I={Bookmark:function(){return u.create(function(b){return a(["./Bookmark"],b)})},Portal:function(){return u.create(function(b){return a(["./Portal"],b)})},PortalFolder:function(){return u.create(function(b){return a(["./PortalFolder"],b)})},PortalGroup:function(){return u.create(function(b){return a(["./PortalGroup"],b)})},PortalItem:function(){return u.create(function(b){return a(["./PortalItem"],b)})},PortalQueryParams:function(){return u.create(function(b){return a(["./PortalQueryParams"],
b)})},PortalQueryResult:function(){return u.create(function(b){return a(["./PortalQueryResult"],b)})},PortalRating:function(){return u.create(function(b){return a(["./PortalRating"],b)})},PortalUser:function(){return u.create(function(b){return a(["./PortalUser"],b)})}};return function(b){function w(a){a=b.call(this)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=!1;a.canListData=!1;a.canListPreProvisionedItems=
!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!1;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=!1;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=null;a.hasCategorySchema=!1;a.helperServices=
null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;a.templatesGroupQuery=null;a.units=null;a.url=f.portalUrl;a.urlKey=null;a.user=
null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}d(w,b);y=w;w.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};w.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};w.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b],d=c;e.hasProtocol(d)||(d=e.appUrl.scheme+"://"+d);e.canUseXhr(d)||
f.request.corsEnabledServers.push({host:c,withCredentials:!0})}return a};w.prototype.readDefaultBasemap=function(a){return a?(a=G.fromJSON(a),a.portalItem={portal:this},a):null};w.prototype.readDefaultVectorBasemap=function(a){return a?(a=G.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(w.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,
"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});
w.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};w.prototype.readUser=function(a){var b=null;a&&(b=F.fromJSON(a),b.portal=this);return b};w.prototype.load=function(){var b=this,c=u.create(function(b){return a(["../Basemap"],b)}).then(function(a){G=a}).then(function(){return b._fetchSelf()}).then(function(a){if(v.id){var c=v.id;b.credential=c.findCredential(b.restUrl);b.credential||b.authMode!==y.AUTH_MODE_AUTO||(b._esriId_credentialCreateHandle=c.on("credential-create",function(){c.findCredential(b.restUrl)&&
b._signIn()}))}b.read(a)});this.addResolvingPromise(c);return this.when()};w.prototype.fetchBasemaps=function(a){var b=new z;b.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);b.disableExtraQuery=!0;return this.queryGroups(b).then(function(a){b.num=100;b.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],b.sortField=a.sortField||"name",b.sortOrder=a.sortOrder||"desc",a.queryItems(b)):null}).then(function(a){return a&&a.total?
a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new G({portalItem:a})}):[]})};w.prototype.fetchCategorySchema=function(){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema").then(function(a){return a.categorySchema}):u.resolve([])};w.prototype.fetchFeaturedGroups=function(){var a=this.featuredGroups,b=new z;b.num=100;b.sortField="title";if(a&&a.length){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push('(title:"'+e.title+'" AND owner:'+
e.owner+")")}b.query=c.join(" OR ");return this.queryGroups(b).then(function(a){return a.results})}return u.resolve([])};w.getDefault=function(){y._default||(y._default=new y);return y._default};w.prototype.queryGroups=function(a){return this._queryPortal("/community/groups",a,"PortalGroup")};w.prototype.queryItems=function(a){return this._queryPortal("/search",a,"PortalItem")};w.prototype.queryUsers=function(a){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser")};
w.prototype.toJSON=function(){throw new p("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};w.prototype._fetchSelf=function(a,b){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a={authMode:a,query:{culture:m.locale}};"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};w.prototype._queryPortal=function(a,b,c){var d=this,e=function(c){return d._request(d.restUrl+a,b.toRequestOptions(d)).then(function(a){var e=
b.clone();e.start=a.nextStart;return new C({nextQueryParams:e,queryParams:b,total:a.total,results:y._resultsToTypedArray(c,{portal:d},a)})}).then(function(a){return g(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).always(function(){return a})})};return c&&I[c]?I[c]().then(function(a){return e(a)}):e()};w.prototype._signIn=function(){var a=this;if(this.authMode===y.AUTH_MODE_ANONYMOUS)return u.reject(new p("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+
'"'));if("failed"===this.loadStatus)return u.reject(this.loadError);var b=function(b){return u.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&a.read(b)})};return v.id?v.id.getCredential(this.restUrl).then(function(a){return b(a)}):
b(this.credential)};w.prototype._normalizeSSL=function(a){var b=this.allSSL;b||("isSecureContext"in A?b=A.isSecureContext:A.location&&A.location.origin&&(b=0===A.location.origin.indexOf("https:")));if(this.isPortal){var c=new k(a);return-1<this.portalHostname.toLowerCase().indexOf(c.host.toLowerCase())&&c.port&&"80"!==c.port&&"443"!==c.port?b?"https://"+c.host+(this.httpsPort&&443!==this.httpsPort?":"+this.httpsPort:"")+c.path+"?"+c.query:"http://"+c.host+(this.httpPort&&80!==this.httpPort?":"+this.httpPort:
"")+c.path+"?"+c.query:b?a.replace("http:","https:"):a}return b?a.replace("http:","https:"):a};w.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};w.prototype._requestToTypedArray=function(b,c,d){var e=this,f=function(a){return e._request(b,c).then(function(b){var c=y._resultsToTypedArray(a,{portal:e},b);return g(c.map(function(a){return"function"===typeof a.when?a.when():b})).always(function(){return c})})};
return d?u.create(function(b){return a(["./"+d],b)}).then(function(a){return f(a)}):f()};w.prototype._request=function(a,b){var c=this.authMode===y.AUTH_MODE_ANONYMOUS?"anonymous":"auto",d=null,e="auto",f={f:"json"},g="json";b&&(b.authMode&&(c=b.authMode),b.body&&(d=b.body),b.method&&(e=b.method),b.query&&(f=r({},f,b.query)),b.responseType&&(g=b.responseType));b={authMode:c,body:d,callbackParamName:"callback",method:e,query:f,responseType:g,timeout:0};return x(this._normalizeSSL(a),b).then(function(a){return a.data})};
w._resultsToTypedArray=function(a,b,d){if(d){if(d=d.listings||d.notifications||d.userInvitations||d.tags||d.items||d.groups||d.comments||d.provisions||d.results||d.relatedItems||d,a||b)d=d.map(function(d){d=c.mixin(a?a.fromJSON(d):d,b);"function"===typeof d.load&&d.load();return d})}else d=[];return d};w.AUTH_MODE_ANONYMOUS="anonymous";w.AUTH_MODE_AUTO="auto";w.AUTH_MODE_IMMEDIATE="immediate";h([l.property()],w.prototype,"access",void 0);h([l.property()],w.prototype,"allSSL",void 0);h([l.property()],
w.prototype,"authMode",void 0);h([l.property()],w.prototype,"authorizedCrossOriginDomains",void 0);h([l.reader("authorizedCrossOriginDomains")],w.prototype,"readAuthorizedCrossOriginDomains",null);h([l.property()],w.prototype,"basemapGalleryGroupQuery",void 0);h([l.property()],w.prototype,"bingKey",void 0);h([l.property()],w.prototype,"canListApps",void 0);h([l.property()],w.prototype,"canListData",void 0);h([l.property()],w.prototype,"canListPreProvisionedItems",void 0);h([l.property()],w.prototype,
"canProvisionDirectPurchase",void 0);h([l.property()],w.prototype,"canSearchPublic",void 0);h([l.property()],w.prototype,"canShareBingPublic",void 0);h([l.property()],w.prototype,"canSharePublic",void 0);h([l.property()],w.prototype,"canSignInArcGIS",void 0);h([l.property()],w.prototype,"canSignInIDP",void 0);h([l.property()],w.prototype,"colorSetsGroupQuery",void 0);h([l.property()],w.prototype,"commentsEnabled",void 0);h([l.property({type:Date})],w.prototype,"created",void 0);h([l.property()],w.prototype,
"credential",void 0);h([l.property()],w.prototype,"culture",void 0);h([l.property()],w.prototype,"currentVersion",void 0);h([l.property()],w.prototype,"customBaseUrl",void 0);h([l.property()],w.prototype,"defaultBasemap",void 0);h([l.reader("defaultBasemap")],w.prototype,"readDefaultBasemap",null);h([l.property({type:B})],w.prototype,"defaultExtent",void 0);h([l.property()],w.prototype,"defaultVectorBasemap",void 0);h([l.reader("defaultVectorBasemap")],w.prototype,"readDefaultVectorBasemap",null);
h([l.property()],w.prototype,"description",void 0);h([l.property()],w.prototype,"eueiEnabled",void 0);h([l.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],w.prototype,"extraQuery",null);h([l.property()],w.prototype,"featuredGroups",void 0);h([l.property()],w.prototype,"featuredItemsGroupQuery",void 0);h([l.property()],w.prototype,"galleryTemplatesGroupQuery",void 0);h([l.property()],w.prototype,"livingAtlasGroupQuery",void 0);h([l.property()],w.prototype,"hasCategorySchema",void 0);
h([l.property()],w.prototype,"helpBase",void 0);h([l.property()],w.prototype,"helperServices",void 0);h([l.property()],w.prototype,"helpMap",void 0);h([l.property()],w.prototype,"homePageFeaturedContent",void 0);h([l.property()],w.prototype,"homePageFeaturedContentCount",void 0);h([l.property()],w.prototype,"httpPort",void 0);h([l.property()],w.prototype,"httpsPort",void 0);h([l.property()],w.prototype,"id",void 0);h([l.property()],w.prototype,"ipCntryCode",void 0);h([l.property({dependsOn:["access"],
readOnly:!0})],w.prototype,"isOrganization",null);h([l.property()],w.prototype,"isPortal",void 0);h([l.property()],w.prototype,"layerTemplatesGroupQuery",void 0);h([l.property()],w.prototype,"maxTokenExpirationMinutes",void 0);h([l.property({type:Date})],w.prototype,"modified",void 0);h([l.property()],w.prototype,"name",void 0);h([l.property()],w.prototype,"portalHostname",void 0);h([l.property()],w.prototype,"portalMode",void 0);h([l.property()],w.prototype,"portalProperties",void 0);h([l.property()],
w.prototype,"region",void 0);h([l.property({dependsOn:["url"],readOnly:!0})],w.prototype,"restUrl",null);h([l.property()],w.prototype,"rotatorPanels",void 0);h([l.property()],w.prototype,"showHomePageDescription",void 0);h([l.property()],w.prototype,"staticImagesUrl",void 0);h([l.property()],w.prototype,"stylesGroupQuery",void 0);h([l.property()],w.prototype,"supportsHostedServices",void 0);h([l.property()],w.prototype,"symbolSetsGroupQuery",void 0);h([l.property()],w.prototype,"templatesGroupQuery",
void 0);h([l.property()],w.prototype,"thumbnail",void 0);h([l.property({dependsOn:["restUrl","thumbnail"],readOnly:!0})],w.prototype,"thumbnailUrl",null);h([l.property()],w.prototype,"units",void 0);h([l.property()],w.prototype,"url",void 0);h([l.property()],w.prototype,"urlKey",void 0);h([l.reader("urlKey")],w.prototype,"readUrlKey",null);h([l.property()],w.prototype,"user",void 0);h([l.reader("user")],w.prototype,"readUser",null);h([l.property()],w.prototype,"useStandardizedQuery",void 0);h([l.property()],
w.prototype,"useVectorBasemaps",void 0);h([l.property()],w.prototype,"vectorBasemapGalleryGroupQuery",void 0);h([n(1,l.cast(z))],w.prototype,"_queryPortal",null);return w=y=h([l.subclass("esri.portal.Portal")],w);var y}(l.declared(w,y))})},"esri/core/Loadable":function(){define("./Promise ./Accessor ./Error ./Warning ./lang dojo/aspect dojo/Deferred".split(" "),function(a,b,r,d,h,n,m){return a.createSubclass([b],{declaredClass:"esri.core.Loadable","-chains-":h.mixin(b._meta.chains,{load:"after"}),
constructor:function(){this._set("loadWarnings",[]);var a=new m;this.addResolvingPromise(a.promise);n.around(this,"load",function(b){return function(){"not-loaded"===this.loadStatus&&(this.loadStatus="loading",b.apply(this));a&&(a.resolve(),a=null);return this.when()}});this.when(function(a){this.loadStatus="loaded"}.bind(this),function(a){this.loadStatus="failed";this.loadError=a}.bind(this))},properties:{loaded:{readOnly:!0,dependsOn:["loadStatus"],get:function(){return"loaded"===this.loadStatus}},
loadError:null,loadStatus:"not-loaded",loadWarnings:{type:[d],readOnly:!0}},load:function(){},cancelLoad:function(){if(this.isFulfilled())return this;this.loadError=new r("load:cancelled","Cancelled");this._promiseProps.cancel(this.loadError);return this}})})},"esri/core/Promise":function(){define("dojo/promise/all dojo/Deferred dojo/aspect dojo/has dojo/errors/create ./scheduling ./Logger ./declare ./lang".split(" "),function(a,b,r,d,h,n,m,c,k){function g(a,b){f.warn("DEPRECATED: "+a+"()"+(b?" -- use "+
b+" instead":""))}d.add("esri-promise-compatibility",!0);d.add("esri-promise-compatibility-deprecation-warnings",!0);var f=m.getLogger("esri.core.Promise"),v=function(c){var d=c._promiseProps;if(!d.resolver.isFulfilled()){var f=d.resolvingPromises,e,g;d.allPromise&&d.allPromise.cancel();var k=new b;for(e=f.length-1;0<=e;e--)g=f[e],g.isCanceled&&g.isCanceled()?f.splice(e,1):g.then(null,null,d.resolver.progress);g=null;(d.allPromise=a(f.concat([k.promise]))).then(function(){d.resolver.resolve(c);c=
d=k=d.allPromise=d.resolvingPromises=null},function(a){d.allPromise=null;if(!a||"cancel"!==a.dojoType){var b=Array.prototype.slice.call(arguments,0);d.resolver.reject(b[0]);c=d=k=d.allPromise=d.resolvingPromises=null}});k&&n.schedule(function(){k&&k.resolve()})}},x=h("CancelError",null,function(a){this.target=a}),p=function(a){return a||new x(this.instance)},A=function(a){this.instance=a;this.canceler=p.bind(this);this.resolver=new b;this.initialized=!1;this.resolvingPromises=[]};A.prototype={canceler:null,
cancel:function(a){if(!this.resolver.isFulfilled()){this.allPromise.cancel();for(var b=this.resolvingPromises.concat(),c=b.length-1;0<=c;c--)b[c].cancel(a);this.resolver.cancel(a)}}};h={declaredClass:"esri.core.Promise",constructor:function(){Object.defineProperty(this,"_promiseProps",{value:new A(this),enumerable:!1,configurable:!1,writable:!0});var a=r.after(this,"postscript",function(b,c){a.remove();a=null;v(this)},!0)},_promiseProps:null,always:function(a){d("esri-promise-compatibility-deprecation-warnings")&&
g("always",".when(callbackOrErrback, callbackOrErrback)");return this.when(a,a)},isResolved:function(){return this._promiseProps.resolver.isResolved()},isRejected:function(){return this._promiseProps.resolver.isRejected()},isFulfilled:function(){return this._promiseProps.resolver.isFulfilled()},otherwise:function(a){d("esri-promise-compatibility-deprecation-warnings")&&g("otherwise",".when().catch(errback)");return this.when(null,a)},catch:function(a){return this.when(null,a)},when:function(a,c,d){var e=
new b(this._promiseProps.canceler);a=e.then(a,c,d);this._promiseProps.resolver.then(e.resolve,e.reject,e.progress);return a},addResolvingPromise:function(a){a&&!this._promiseProps.resolver.isFulfilled()&&(a._promiseProps&&(a=a.when()),this._promiseProps.resolvingPromises.push(a),v(this))}};d("esri-promise-compatibility")||(h=k.mixin(h,{then:function(a,b,c){d("esri-promise-compatibility-deprecation-warnings")&&g("then",".when(callback, errback)");return this.when(a,b,c)},cancel:function(){d("esri-promise-compatibility-deprecation-warnings")&&
g("cancel")},isCanceled:function(){d("esri-promise-compatibility-deprecation-warnings")&&g("isCanceled");return!1},trace:function(){d("esri-promise-compatibility-deprecation-warnings")&&g("trace");return this},traceRejected:function(){d("esri-promise-compatibility-deprecation-warnings")&&g("traceRejected");return this}}));return c(null,h)})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/_base/lang ../core/Accessor ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v){var x=m({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}r(b,a);p=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,configurable:!0});
b.prototype.clone=function(){return new p({categories:this.categories?c.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var c;this.categories&&(c=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var d;if(this.extent){var g=v.project(this.extent,f.WGS84);g&&(d=g.xmin+
","+g.ymin+","+g.xmax+","+g.ymax)}g=this.query;!this.disableExtraQuery&&a.extraQuery&&(g="("+g+")"+a.extraQuery);a={categories:c,bbox:d,q:g,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=x.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:h.mixin(b,a)}};d([k.property()],b.prototype,"categories",void 0);d([k.property()],b.prototype,"disableExtraQuery",void 0);d([k.property({type:g})],b.prototype,"extent",void 0);d([k.property()],b.prototype,
"num",void 0);d([k.property()],b.prototype,"query",void 0);d([k.property()],b.prototype,"sortField",void 0);d([k.property()],b.prototype,"sortOrder",null);d([k.property()],b.prototype,"start",void 0);return b=p=d([k.subclass("esri.portal.PortalQueryParams")],b);var p}(k.declared(n))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,
b,r,d,h,n){return function(a){function b(b){b=a.call(this)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}r(b,a);d([n.property()],b.prototype,"nextQueryParams",void 0);d([n.property()],b.prototype,"queryParams",void 0);d([n.property()],b.prototype,"results",void 0);d([n.property()],b.prototype,"total",void 0);return b=d([n.subclass("esri.portal.PortalQueryResult")],b)}(n.declared(h))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/promise/all ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f){return function(b){function m(){var a=b.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.units=null;a.username=null;a.userType=null;return a}r(m,b);Object.defineProperty(m.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(m.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});m.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var f=
{method:"post"};c&&(f.query=c._getPostQuery(),null!=d&&("string"===typeof d?f.query.text=d:"object"===typeof d&&(f.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+a.id);return this.portal._request(d+"/addItem",f).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};m.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};m.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",d=a.map(function(a){return a.id});return d.length?(d={method:"post",query:{items:d.join(",")}},this.portal._request(b,d).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):c.resolve(void 0)};m.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=g.fromJSON(b);b.portal=
a.portal;return b}):[]})};m.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=f.fromJSON(b);b.portal=a.portal;return b}):[]})};m.prototype.fetchItems=function(b){var d=this;b||(b={});var f=this.userContentUrl;b.folder&&(f+="/"+b.folder.id);var g;return c.create(function(b){return a(["./PortalItem"],b)}).then(function(a){g=a;return d.portal._request(f,{query:{folders:!1,num:b.num||10,start:b.start||1}})}).then(function(a){var b;
return a&&a.items?(b=a.items.map(function(a){a=g.fromJSON(a);a.portal=d.portal;return a}),h(b.map(function(a){return a.load()})).always(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};m.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};m.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new f({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):
c.reject(new n("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};m.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};d([k.property()],m.prototype,"access",void 0);d([k.property({type:Date})],m.prototype,"created",void 0);d([k.property()],m.prototype,"culture",void 0);d([k.property()],m.prototype,"description",void 0);d([k.property()],m.prototype,"email",void 0);d([k.property()],m.prototype,"favGroupId",
void 0);d([k.property()],m.prototype,"fullName",void 0);d([k.property({type:Date})],m.prototype,"modified",void 0);d([k.property()],m.prototype,"orgId",void 0);d([k.property()],m.prototype,"portal",void 0);d([k.property()],m.prototype,"preferredView",void 0);d([k.property()],m.prototype,"privileges",void 0);d([k.property()],m.prototype,"region",void 0);d([k.property()],m.prototype,"role",void 0);d([k.property()],m.prototype,"roleId",void 0);d([k.property()],m.prototype,"thumbnail",void 0);d([k.property({dependsOn:["url",
"thumbnail","portal.credential.token"],readOnly:!0})],m.prototype,"thumbnailUrl",null);d([k.property()],m.prototype,"units",void 0);d([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],m.prototype,"userContentUrl",null);d([k.property({dependsOn:["portal.restUrl"],readOnly:!0})],m.prototype,"url",null);d([k.property()],m.prototype,"username",void 0);d([k.property()],m.prototype,"userType",void 0);return m=d([k.subclass("esri.portal.PortalUser")],m)}(k.declared(m))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,r,d,h,n,m){return function(a){function b(b){b=a.call(this)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}r(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new h("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};d([m.property({type:Date})],b.prototype,
"created",void 0);d([m.property()],b.prototype,"id",void 0);d([m.property()],b.prototype,"portal",void 0);d([m.property()],b.prototype,"title",void 0);d([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);d([m.property()],b.prototype,"username",void 0);return b=d([m.subclass("esri.portal.PortalFolder")],b)}(m.declared(n))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),
function(a,b,r,d,h,n,m,c,k){return function(a){function b(b){b=a.call(this)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}r(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=function(){var a=this;return this.portal._request(this.url+"/categorySchema").then(function(b){b=b.categorySchema||[];return b.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?a._fetchCategorySchemaSet("LivingAtlas"):b})};b.prototype.fetchMembers=function(){return this.portal._request(this.url+"/users")};
b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a){if(5<parseFloat(this.portal.currentVersion))return a=a||new k,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem");a=a?a.clone():new k;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a)};b.prototype._fetchCategorySchemaSet=
function(a){var b=this;return this.portal._fetchSelf(this.portal.authMode,!0).then(function(a){if(a=a.contentCategorySetsGroupQuery){var c=new k;c.disableExtraQuery=!0;c.num=1;c.query=a;return b.portal.queryGroups(c)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(b){if(b.total){b=b.results[0];var c=new k;c.num=1;c.query='typekeywords:"'+a+'"';return b.queryItems(c)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");
}).then(function(a){return a.total?a.results[0].fetchData().then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};d([c.property()],b.prototype,"access",void 0);d([c.property({type:Date})],b.prototype,"created",void 0);d([c.property()],b.prototype,"description",void 0);d([c.property()],b.prototype,"id",void 0);d([c.property()],b.prototype,"isInvitationOnly",void 0);d([c.property({type:Date})],b.prototype,"modified",void 0);d([c.property()],b.prototype,"owner",void 0);d([c.property()],
b.prototype,"portal",void 0);d([c.property()],b.prototype,"snippet",void 0);d([c.property()],b.prototype,"sortField",void 0);d([c.property()],b.prototype,"sortOrder",void 0);d([c.property()],b.prototype,"tags",void 0);d([c.property()],b.prototype,"thumbnail",void 0);d([c.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);d([c.property()],b.prototype,"title",void 0);d([c.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,
"url",null);d([h(0,c.cast(k))],b.prototype,"queryItems",null);return b=d([c.subclass("esri.portal.PortalGroup")],b)}(c.declared(m))})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils".split(" "),function(a,b,r,d,h,n,m){return function(a){function b(b){b=a.call(this)||this;b.type="extrude";b.size=void 0;b.material=null;b.edges=null;return b}
r(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};d([h.property()],b.prototype,"type",void 0);d([h.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);d([h.property()],b.prototype,"material",void 0);d([h.property(m.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=d([h.subclass("esri.symbols.ExtrudeSymbol3DLayer")],
b);var c}(h.declared(n))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators ./support/ElevationInfo ./support/Symbol3DMaterial".split(" "),function(a,b,r,d,h,n,m,c,k){var g=n({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text"});a=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;
b.material=null;b.type=null;return b}r(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};d([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);d([m.writer("enabled")],b.prototype,"writeEnabled",null);d([m.property({type:c,json:{read:!1,write:!1}})],b.prototype,"elevationInfo",void 0);d([m.property({type:k.default,json:{write:!0}})],b.prototype,"material",void 0);d([m.property({type:String,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,
writer:g.write}}})],b.prototype,"type",void 0);return b=d([m.subclass("esri.symbols.Symbol3DLayer")],b)}(m.declared(h));(a||(a={})).typeJSONDictionary=g;return a})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators ../../support/arcadeUtils".split(" "),function(a,b,r,d,h,n,m,c){var k=n({onTheGround:"on-the-ground",
relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),g=n({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);f=b;Object.defineProperty(b.prototype,"requiredFields",{get:function(){return c.extractFieldNames(this.expression)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new f({expression:this.expression,
title:this.title})};d([m.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);d([m.property({readOnly:!0,dependsOn:["expression"]})],b.prototype,"requiredFields",null);d([m.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=f=d([m.subclass("esri.layers.support.FeatureExpressionInfo")],b);var f}(m.declared(h));return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);c=b;b.prototype.readFeatureExpressionInfo=function(a,b){if(null!=
a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};b.prototype.writeFeatureExpressionInfo=function(a,b,c,d){b[c]=a.write(null,d);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(b.prototype,"mode",{get:function(){var a=this._get("mode");return a?a:null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._set("mode",a)},enumerable:!0,configurable:!0});b.prototype.write=function(a,b){return this.offset||
this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};b.prototype.clone=function(){return new c({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};d([m.property({type:f,json:{write:!0}})],b.prototype,"featureExpressionInfo",void 0);d([m.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],b.prototype,"readFeatureExpressionInfo",null);d([m.writer("featureExpressionInfo",
{featureExpressionInfo:{type:f},"featureExpression.value":{type:Number}})],b.prototype,"writeFeatureExpressionInfo",null);d([m.property({type:String,dependsOn:["offset","featureExpressionInfo"],json:{read:k.read,write:{writer:k.write,isRequired:!0}}})],b.prototype,"mode",null);d([m.property({type:Number,json:{write:!0}})],b.prototype,"offset",void 0);d([m.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"unit",void 0);return b=c=d([m.subclass("esri.layers.support.ElevationInfo")],
b);var c}(m.declared(h))})},"esri/support/arcadeUtils":function(){define("require exports dojo/_base/lang ../arcade/arcade ../arcade/Dictionary ../arcade/Feature".split(" "),function(a,b,r,d,h,n){function m(a){var b;try{b=a?d.parseScript(a):null}catch(v){b=null}return b}Object.defineProperty(b,"__esModule",{value:!0});var c=/^\$feature\./i,k={vars:{$feature:"any",$view:"any"},spatialReference:null};b.createSyntaxTree=m;b.createFunction=function(a,b){b=b||r.clone(k);a="string"===typeof a?m(a):a;var c;
try{c=a?d.compileScript(a,b):null}catch(x){c=null}return c};b.createExecContext=function(a,b){return{vars:{$feature:null==a?new n:n.createFromGraphic(a),$view:b&&b.view},spatialReference:b&&b.sr}};b.createFeature=function(a,b,c){return n.createFromGraphicLikeObject(b,a,c)};b.updateExecContext=function(a,b){a.vars.$feature=b};b.evalSyntaxTree=function(a,b){var c;try{c=d.executeScript(a,b,b.spatialReference)}catch(x){c=null}return c};b.executeFunction=function(a,b){var c;try{c=a?a(b,b.spatialReference):
null}catch(x){c=null}return c};b.extractFieldNames=function(a){if(!a)return[];a="string"===typeof a?m(a):a;var b=[];d.extractFieldLiterals(a).forEach(function(a){c.test(a)&&(a=a.replace(c,""),b.push(a))});b.sort();return b.filter(function(a,c){return 0===c||b[c-1]!==a})};b.dependsOnView=function(a){return d.referencesMember(a,"$view")};b.getViewInfo=function(a){if(a&&a.viewingMode&&null!=a.scale&&a.spatialReference)return{view:new h({viewingMode:a.viewingMode,scale:a.scale}),sr:a.spatialReference}};
b.hasGeometryOperations=function(a){return(a="string"===typeof a?m(a):a)&&d.scriptUsesGeometryEngine(a)};b.enableGeometryOperations=function(){return d.enableGeometrySupport()}})},"esri/arcade/arcade":function(){define("require exports dojo/Deferred dojo/has ./arcadeCompiler ./arcadeRuntime ./parser".split(" "),function(a,b,r,d,h,n,m){Object.defineProperty(b,"__esModule",{value:!0});var c="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");
b.compileScript=function(a,b){return d("csp-restrictions")?function(b,c){return n.executeScript(a,b,c)}:h.compileScript(a,b)};b.extend=function(a){n.extend(a);h.extend(a)};b.parseScript=function(a){return m.parseScript(a)};b.validateScript=function(a,b){return m.validateScript(a,b,"simple")};b.scriptCheck=function(a,b,c){return m.scriptCheck(a,b,c,"full")};b.parseAndExecuteScript=function(a,b,c){return n.executeScript(m.parseScript(a),b,c)};b.executeScript=function(a,b,c){return n.executeScript(a,
b,c)};b.referencesMember=function(a,b){return n.referencesMember(a,b)};b.referencesFunction=function(a,b){return n.referencesFunction(a,b)};b.extractFieldLiterals=function(a,b){void 0===b&&(b=!1);return m.extractFieldLiterals(a,b)};b.scriptUsesGeometryEngine=function(a){a=n.findFunctionCalls(a);for(var b=0;b<a.length;b++)if(-1<c.indexOf(a[b]))return!0;return!1};b.enableGeometrySupport=function(){var b=new r;a(["esri/geometry/geometryEngine","./functions/geomsync"],function(a,c){c.setGeometryEngine(a);
b.resolve(!0)},function(a){b.reject(a)});return b.promise}})},"esri/arcade/arcadeCompiler":function(){define("require exports ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),function(a,
b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B){function z(a,b,c){try{return c(a,null,b)}catch(ka){throw ka;}}function C(a,b){try{switch(b.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return M(a,b);case "VariableDeclaration":for(var d=[],e=0;e<b.declarations.length;e++)d.push(C(a,b.declarations[e]));return d.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return E(a,b);case "FunctionDeclaration":var e=b.id.name.toLowerCase(),f={applicationCache:void 0===
a.applicationCache?null:a.applicationCache,spatialReference:a.spatialReference,console:a.console,symbols:a.symbols,localScope:{_SymbolsMap:{}},depthCounter:a.depthCounter+1,globalScope:a.globalScope};if(64<f.depthCounter)throw Error("Exceeded maximum function depth");for(var g="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; var lscope \x3d [];\n ",l=0;l<b.params.length;l++){var k=b.params[l].name.toLowerCase(),h=ra(k,a);f.localScope._SymbolsMap[k]=
h;g+="lscope['"+h+"']\x3darguments["+l.toString()+"];\n"}g+=E(f,b.body)+"\n return lastStatement; }, runtimeCtx))";g+="\n lastStatement \x3d lc.voidOperation; \n";void 0!==a.globalScope[e]?d="gscope['"+e+"']\x3d"+g:void 0!==a.globalScope._SymbolsMap[e]?d="gscope['"+a.globalScope._SymbolsMap[e]+"']\x3d"+g:(h=ra(e,a),a.globalScope._SymbolsMap[e]=h,d="gscope['"+h+"']\x3d"+g);return d;case "ReturnStatement":var u;u=null===b.argument?"return lc.voidOperation;":"return "+C(a,b.argument)+";";return u;case "IfStatement":if("AssignmentExpression"===
b.test.type||"UpdateExpression"===b.test.type)throw Error(c.nodeErrorMessage(b.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var m=C(a,b.test),n=S(a),p="var "+n+" \x3d "+m+";\n if ("+n+" \x3d\x3d\x3d true) {\n"+I(a,b.consequent)+"\n }\n",p=null!==b.alternate?p+("else if ("+n+"\x3d\x3d\x3dfalse)   { \n"+I(a,b.alternate)+"}\n"):p+("else if ("+n+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");return p+="else { lang.error({type: '"+b.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";
case "ExpressionStatement":var v;v="AssignmentExpression"===b.expression.type?"lastStatement \x3d lc.voidOperation; "+C(a,b.expression)+" \n ":"lastStatement \x3d "+C(a,b.expression)+";";return v;case "AssignmentExpression":return G(a,b);case "UpdateExpression":return F(a,b);case "BreakStatement":return"break;";case "ContinueStatement":return"continue;";case "ForStatement":d="lastStatement \x3d lc.voidOperation; \n";null!==b.init&&(d+=C(a,b.init));var q=S(a),r=S(a),d=d+("var "+q+" \x3d true;")+"\n do { ";
null!==b.update&&(d+=" if ("+q+"\x3d\x3d\x3dfalse) {\n "+C(a,b.update)+"  \n}\n "+q+"\x3dfalse; \n");null!==b.test&&(d+="var "+r+" \x3d "+C(a,b.test)+";",d+="if ("+r+"\x3d\x3d\x3dfalse) { break; } else if ("+r+"!\x3d\x3dtrue) { lang.error({type: '"+b.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");d+=C(a,b.body);null!==b.update&&(d+="\n "+C(a,b.update));return d+("\n"+q+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation;");case "ForInStatement":var x=S(a),w=S(a),
B=S(a),y="var "+x+" \x3d "+C(a,b.right)+";\n";"VariableDeclaration"===b.left.type&&(y+=C(a,b.left));var z="VariableDeclaration"===b.left.type?b.left.declarations[0].id.name:b.left.name,z=z.toLowerCase(),d="";null!==a.localScope&&(void 0!==a.localScope[z]?d="lscope['"+z+"']":void 0!==a.localScope._SymbolsMap[z]&&(d="lscope['"+a.localScope._SymbolsMap[z]+"']"));""===d&&(void 0!==a.globalScope[z]?d="gscope['"+z+"']":void 0!==a.globalScope._SymbolsMap[z]&&(d="gscope['"+a.globalScope._SymbolsMap[z]+"']"));
y=y+("if ("+x+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n ")+("else if (lc.isArray("+x+") || lc.isString("+x+")) {")+("var "+w+"\x3d"+x+".length; \n")+("for(var "+B+"\x3d0; "+B+"\x3c"+w+"; "+B+"++) {\n");y+=d+"\x3d"+B+";\n";y+=C(a,b.body);y+="\n}\n";y+=" lastStatement \x3d lc.voidOperation; \n";y+=" \n}\n";y+="else if (lc.isImmutableArray("+x+")) {";y=y+("var "+w+"\x3d"+x+".length(); \n")+("for(var "+B+"\x3d0; "+B+"\x3c"+w+"; "+B+"++) {\n");y+=d+"\x3d"+B+";\n";y+=C(a,b.body);y+=
"\n}\n";y+=" lastStatement \x3d lc.voidOperation; \n";y+=" \n}\n";y+="else if (( "+x+" instanceof lang.Dictionary) || ( "+x+" instanceof lang.Feature)) {";y=y+("var "+w+"\x3d"+x+".keys(); \n")+("for(var "+B+"\x3d0; "+B+"\x3c"+w+".length; "+B+"++) {\n");y+=d+"\x3d"+w+"["+B+"];\n";y+=C(a,b.body);y+="\n}\n";y+=" lastStatement \x3d lc.voidOperation; \n";y+=" \n}\n";return y+"else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return ga(a,b);case "MemberExpression":var W;try{d=void 0,d=
!0===b.computed?C(a,b.property):"'"+b.property.name+"'",W="lang.member("+C(a,b.object)+","+d+")"}catch(Aa){throw Aa;}return W;case "Literal":return null===b.value||void 0===b.value?"null":JSON.stringify(b.value);case "ThisExpression":throw Error(c.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==b.callee.type)throw Error(c.nodeErrorMessage(b,"RUNTIME","ONLYNODESSUPPORTED"));var J=b.callee.name.toLowerCase(),d="";null!==a.localScope&&(void 0!==a.localScope[J]?
d="lscope['"+J+"']":void 0!==a.localScope._SymbolsMap[J]&&(d="lscope['"+a.localScope._SymbolsMap[J]+"']"));""===d&&(void 0!==a.globalScope[J]?d="gscope['"+J+"']":void 0!==a.globalScope._SymbolsMap[J]&&(d="gscope['"+a.globalScope._SymbolsMap[J]+"']"));if(""!==d)for(e="[",f=0;f<b.arguments.length;f++)0<f&&(e+=", "),e+=C(a,b.arguments[f]);else throw Error(c.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));}catch(Aa){throw Aa;}return"lang.callfunc("+d+","+(e+"]")+",runtimeCtx)";case "UnaryExpression":var A;
try{A="lang.unary("+C(a,b.argument)+",'"+b.operator+"')"}catch(Aa){throw Aa;}return A;case "BinaryExpression":var la;try{la="lang.binary("+C(a,b.left)+","+C(a,b.right)+",'"+b.operator+"')"}catch(Aa){throw Aa;}return la;case "LogicalExpression":var Y;try{if("AssignmentExpression"===b.left.type||"UpdateExpression"===b.left.type)throw Error(c.nodeErrorMessage(b.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===b.right.type||"UpdateExpression"===b.right.type)throw Error(c.nodeErrorMessage(b.right,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===b.operator||"||"===b.operator)Y="(lang.logicalCheck("+C(a,b.left)+") "+b.operator+" lang.logicalCheck("+C(a,b.right)+"))";else throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));}catch(Aa){throw Aa;}return Y;case "ConditionalExpression":throw Error(c.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{d=[];for(e=0;e<b.elements.length;e++)"Literal"===b.elements[e].type?d.push(C(a,b.elements[e])):
d.push("lang.aCheck("+C(a,b.elements[e])+",'ArrayExpression')");g="["+d.join(",")+"]"}catch(Aa){throw Aa;}return g;case "ObjectExpression":d="lang.dictionary([";for(e=0;e<b.properties.length;e++){var l=b.properties[e],O="Identifier"===l.key.type?"'"+l.key.name+"'":C(a,l.key),X=C(a,l.value);0<e&&(d+=",");d+="lang.strCheck("+O+",'ObjectExpression'),lang.aCheck("+X+", 'ObjectExpression')"}return d+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(c.nodeErrorMessage(b,"RUNTIME",
"NOTSUPPORTED"));default:throw Error(c.nodeErrorMessage(b,"RUNTIME","UNREOGNISED"));}}catch(Aa){throw Aa;}}function F(a,b){var c=null,d="";if("MemberExpression"===b.argument.type)return c=C(a,b.argument.object),d=!0===b.argument.computed?C(a,b.argument.property):"'"+b.argument.property.name+"'","lang.memberupdate("+c+","+d+",'"+b.operator+"',"+b.prefix+")";c=b.argument.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[c])return"lang.update(lscope, '"+c+"','"+b.operator+"',"+b.prefix+
")";if(void 0!==a.localScope._SymbolsMap[c])return"lang.update(lscope, '"+a.localScope._SymbolsMap[c]+"','"+b.operator+"',"+b.prefix+")"}if(void 0!==a.globalScope[c])return"lang.update(gscope, '"+c+"','"+b.operator+"',"+b.prefix+")";if(void 0!==a.globalScope._SymbolsMap[c])return"lang.update(gscope, '"+a.globalScope._SymbolsMap[c]+"','"+b.operator+"',"+b.prefix+")";throw Error("Variable not recognised");}function G(a,b){var c=C(a,b.right),d=null,e="";if("MemberExpression"===b.left.type)return d=C(a,
b.left.object),e=!0===b.left.computed?C(a,b.left.property):"'"+b.left.property.name+"'","lang.assignmember("+d+","+e+",'"+b.operator+"',"+c+");";d=b.left.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[d])return"lscope['"+d+"']\x3dlang.assign("+c+",'"+b.operator+"', lscope['"+d+"']); ";if(void 0!==a.localScope._SymbolsMap[d])return"lscope['"+a.localScope._SymbolsMap[d]+"']\x3dlang.assign("+c+",'"+b.operator+"', lscope['"+a.localScope._SymbolsMap[d]+"']); "}if(void 0!==a.globalScope[d])return"gscope['"+
d+"']\x3dlang.assign("+c+",'"+b.operator+"', gscope['"+d+"']); ";if(void 0!==a.globalScope._SymbolsMap[d])return"gscope['"+a.globalScope._SymbolsMap[d]+"']\x3dlang.assign("+c+",'"+b.operator+"', gscope['"+a.globalScope._SymbolsMap[d]+"']); ";throw Error("Variable not recognised");}function I(a,b){return"BlockStatement"===b.type?C(a,b):"ReturnStatement"===b.type?C(a,b):"BreakStatement"===b.type?C(a,b):"ContinueStatement"===b.type?C(a,b):"UpdateExpression"===b.type?"lastStatement \x3d "+C(a,b)+";":
"ExpressionStatement"===b.type?C(a,b):"ObjectExpression"===b.type?"lastStatement \x3d "+C(a,b)+";":C(a,b)}function E(a,b){for(var c="",d=0;d<b.body.length;d++)c="ReturnStatement"===b.body[d].type?c+(C(a,b.body[d])+" \n"):"BreakStatement"===b.body[d].type?c+(C(a,b.body[d])+" \n"):"ContinueStatement"===b.body[d].type?c+(C(a,b.body[d])+" \n"):"UpdateExpression"===b.body[d].type?c+("lastStatement \x3d "+C(a,b.body[d])+"; \n"):"ObjectExpression"===b.body[d].type?c+("lastStatement \x3d "+C(a,b.body[d])+
"; \n"):c+(C(a,b.body[d])+" \n");return c}function M(a,b){var c=null===b.init?null:C(a,b.init);c===m.voidOperation&&(c=null);b=b.id.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[b])return"lscope['"+b+"']\x3d"+c+";";if(void 0!==a.localScope._SymbolsMap[b])return"lscope['"+a.localScope._SymbolsMap[b]+"']\x3d"+c+";";var d=ra(b,a);a.localScope._SymbolsMap[b]=d;return"lscope['"+d+"']\x3d"+c+";"}if(void 0!==a.globalScope[b])return"gscope['"+b+"']\x3d"+c+";";if(void 0!==a.globalScope._SymbolsMap[b])return"gscope['"+
a.globalScope._SymbolsMap[b]+"']\x3d"+c+";";d=ra(b,a);a.globalScope._SymbolsMap[b]=d;return"gscope['"+d+"']\x3d"+c+";"}function ma(a,b,d){b=b.toLowerCase();switch(b){case "hasz":return a=a.hasZ,void 0===a?!1:a;case "hasm":return a=a.hasM,void 0===a?!1:a;case "spatialreference":return b=a.spatialReference._arcadeCacheId,void 0===b&&(d=!0,Object.freeze&&Object.isFrozen(a.spatialReference)&&(d=!1),d&&(O++,b=a.spatialReference._arcadeCacheId=O)),a=new r({wkt:a.spatialReference.wkt,wkid:a.spatialReference.wkid}),
void 0!==b&&(a._arcadeCacheId="SPREF"+b.toString()),a}switch(a.type){case "extent":switch(b){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return a=a[b],void 0!==a?a:null;case "type":return"Extent"}break;case "polygon":switch(b){case "rings":return b=m.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(O++,b=O,m.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new h(a.rings,a.spatialReference,
!0===a.hasZ,!0===a.hasM,b);case "type":return"Polygon"}break;case "point":switch(b){case "x":case "y":case "z":case "m":return void 0!==a[b]?a[b]:null;case "type":return"Point"}break;case "polyline":switch(b){case "paths":return b=m.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(O++,b=O,m.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new h(a.paths,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polyline"}break;case "multipoint":switch(b){case "points":return b=
m.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(O++,b=O,m.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new n(a.points,a.spatialReference,!0===a.hasZ,!0===a.hasM,b,1);case "type":return"Multipoint"}}throw Error(c.nodeErrorMessage(d,"RUNTIME","PROPERTYNOTFOUND"));}function ga(a,b){try{var d=b.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[d])return"lscope['"+d+"']";if(void 0!==a.localScope._SymbolsMap[d])return"lscope['"+
a.localScope._SymbolsMap[d]+"']"}if(void 0!==a.globalScope[d])return"gscope['"+d+"']";if(void 0!==a.globalScope._SymbolsMap[d])return"gscope['"+a.globalScope._SymbolsMap[d]+"']";throw Error(c.nodeErrorMessage(b,"RUNTIME","VARIABLENOTFOUND"));}catch(ka){throw ka;}}function X(a){return null===a?"":m.isArray(a)||m.isImmutableArray(a)?"Array":m.isDate(a)?"Date":m.isString(a)?"String":m.isBoolean(a)?"Boolean":m.isNumber(a)?"Number":a instanceof r?"Dictionary":a instanceof d?"Feature":a instanceof u?"Point":
a instanceof e?"Polygon":a instanceof l?"Polyline":a instanceof y?"Multipoint":a instanceof A?"Extent":m.isFunctionParameter(a)?"Function":a===m.voidOperation?"":"number"===typeof a&&isNaN(a)?"Number":"Unrecognised Type"}function Q(a,b,c,d){try{if(m.equalityTest(b[c],d))return b[c+1];var e=b.length-c;return 1===e?b[c]:2===e?null:3===e?b[c+2]:Q(a,b,c+2,d)}catch(va){throw va;}}function ja(a,b,c,d){try{if(!0===d)return b[c+1];if(3===b.length-c)return b[c+2];var e=b[c+2];if(!1===m.isBoolean(e))throw Error("WHEN needs boolean test conditions");
return ja(a,b,c+2,e)}catch(va){throw va;}}function aa(a,b){var c=a.length,d=Math.floor(c/2);if(0===c)return[];if(1===c)return[a[0]];var e=aa(a.slice(0,d),b);a=aa(a.slice(d,c),b);for(c=[];0<e.length||0<a.length;)0<e.length&&0<a.length?(d=b(e[0],a[0]),isNaN(d)&&(d=0),0>=d?(c.push(e[0]),e=e.slice(1)):(c.push(a[0]),a=a.slice(1))):0<e.length?(c.push(e[0]),e=e.slice(1)):0<a.length&&(c.push(a[0]),a=a.slice(1));return c}function ra(a,b){b.symbols.symbolCounter++;return"_T"+b.symbols.symbolCounter.toString()}
function S(a){a.symbols.symbolCounter++;return"_Tvar"+a.symbols.symbolCounter.toString()}function J(a,b,c){var d={};a||(a={});c||(c={});d._SymbolsMap={};d.textformatting=1;d.infinity=1;d.pi=1;for(var e in b)d[e]=1;for(e in c)d[e]=1;for(e in a)d[e]=1;return d}function Y(a){console.log(a)}Object.defineProperty(b,"__esModule",{value:!0});var O=0,V={};k.registerFunctions(V,z);p.registerFunctions(V,z);v.registerFunctions(V,z);g.registerFunctions(V,z);x.registerFunctions(V,z);f.registerFunctions(V,z);V["typeof"]=
function(a,b){return z(a,b,function(a,b,c){m.pcCheck(c,1,1);a=X(c[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};V.iif=function(a,b){try{return z(a,b,function(a,b,c){m.pcCheck(c,3,3);if(!1===m.isBoolean(c[0]))throw Error("IF Function must have a boolean test condition");return c[0]?c[1]:c[2]})}catch(na){throw na;}};V.decode=function(a,b){try{return z(a,b,function(b,c,d){if(2>d.length)throw Error("Missing Parameters");if(2===d.length)return d[1];if(0===(d.length-1)%2)throw Error("Must have a default value result.");
return Q(a,d,1,d[0])})}catch(na){throw na;}};V.when=function(a,b){try{return z(a,b,function(b,c,d){if(3>d.length)throw Error("Missing Parameters");if(0===d.length%2)throw Error("Must have a default value result.");b=d[0];if(!1===m.isBoolean(b))throw Error("WHEN needs boolean test conditions");return ja(a,d,0,b)})}catch(na){throw na;}};V.top=function(a,b){return z(a,b,function(a,b,c){m.pcCheck(c,2,2);if(m.isArray(c[0]))return m.toNumber(c[1])>=c[0].length?c[0].slice(0):c[0].slice(0,m.toNumber(c[1]));
if(m.isImmutableArray(c[0]))return m.toNumber(c[1])>=c[0].length()?c[0].slice(0):c[0].slice(0,m.toNumber(c[1]));throw Error("Top cannot accept this parameter type");})};V.first=function(a,b){return z(a,b,function(a,b,c){m.pcCheck(c,1,1);return m.isArray(c[0])?0===c[0].length?null:c[0][0]:m.isImmutableArray(c[0])?0===c[0].length()?null:c[0].get(0):null})};V.sort=function(a,b){return z(a,b,function(a,b,c){m.pcCheck(c,1,2);b=c[0];m.isImmutableArray(b)&&(b=b.toArray());if(!1===m.isArray(b))throw Error("Illegal Argument");
if(1<c.length){if(!1===m.isFunctionParameter(c[1]))throw Error("Illegal Argument");b=aa(b,function(b,d){return U.callfunc(c[1],[b,d],a)})}else{if(0===b.length)return[];for(var d={},e=0;e<b.length;e++){var f=X(b[e]);""!==f&&(d[f]=!0)}if(!0===d.Array||!0===d.Dictionary||!0===d.Feature||!0===d.Point||!0===d.Polygon||!0===d.Polyline||!0===d.Multipoint||!0===d.Extent||!0===d.Function)return b.slice(0);var e=0,f="",g;for(g in d)e++,f=g;b=1<e||"String"===f?aa(b,function(a,b){if(null===a||void 0===a||a===
m.voidOperation)return null===b||void 0===b||b===m.voidOperation?0:1;if(null===b||void 0===b||b===m.voidOperation)return-1;a=m.toString(a);b=m.toString(b);return a<b?-1:a===b?0:1}):"Number"===f?aa(b,function(a,b){return a-b}):"Boolean"===f?aa(b,function(a,b){return a===b?0:b?-1:1}):"Date"===f?aa(b,function(a,b){return b-a}):b.slice(0)}return b})};for(var T in V)V[T]=new m.NativeFunction(V[T]);var fa=function(){};fa.prototype=V;b.functionHelper={fixSpatialReference:m.fixSpatialReference,parseArguments:function(a,
b){for(var c=[],d=0;d<b.arguments.length;d++)c.push(C(a,b.arguments[d]));return c},standardFunction:z};b.extend=function(a){for(var b={mode:"sync",compiled:!0,functions:{},signatures:[],standardFunction:z},d=0;d<a.length;d++)a[d].registerFunctions(b);for(var e in b.functions)V[e]=new m.NativeFunction(b.functions[e]),fa.prototype[e]=V[e];for(d=0;d<b.signatures.length;d++)c.addFunctionDeclaration(b.signatures[d],"f")};b.executeScript=function(a,b,c){return a(b,c)};b.extractFieldLiterals=function(a,
b){void 0===b&&(b=!1);return c.findFieldLiterals(a,b)};b.validateScript=function(a,b){return c.validateScript(a,b,"simple")};b.referencesMember=function(a,b){return c.referencesMember(a,b)};b.referencesFunction=function(a,b){return c.referencesFunction(a,b)};var U={error:function(a,b,d){throw Error(c.nodeErrorMessage(a,b,d));},functionDepthchecker:function(a,b){return function(){b.depthCounte++;if(64<b.depthCounter)throw Error("Exceeded maximum function depth");var c=a.apply(this,arguments);b.depthCounte--;
return c}},aCheck:function(a,b){if(m.isFunctionParameter(a))throw Error(c.nodeErrorMessage({type:b},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return a===m.voidOperation?null:a},Dictionary:r,Feature:d,dictionary:function(a){for(var b={},c=0;c<a.length;c+=2){if(m.isFunctionParameter(a[c+1]))throw Error("Illegal Argument");if(!1===m.isString(a[c]))throw Error("Illegal Argument");b[a[c].toString()]=a[c+1]===m.voidOperation?null:a[c+1]}a=new r(b);a.immutable=!1;return a},strCheck:function(a,b){if(!1===m.isString(a))throw Error("Illegal Argument");
return a},unary:function(a,b){if(m.isBoolean(a)){if("!"===b)return!a;if("-"===b)return-1*m.toNumber(a);if("+"===b)return 1*m.toNumber(a);throw Error(c.nodeErrorMessage({type:"UnaryExpression"},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===b)return-1*m.toNumber(a);if("+"===b)return 1*m.toNumber(a);throw Error(c.nodeErrorMessage({type:"UnaryExpression"},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck:function(a){if(!1===m.isBoolean(a))throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME",
"ONLYORORAND"));return a},logical:function(a,b,d){if(m.isBoolean(a)&&m.isBoolean(b))switch(d){case "||":return a||b;case "\x26\x26":return a&&b;default:throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));}else throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));},binary:function(a,b,d){switch(d){case "\x3d\x3d":return m.equalityTest(a,b);case "\x3d":return m.equalityTest(a,b);case "!\x3d":return!m.equalityTest(a,b);case "\x3c":return m.greaterThanLessThan(a,
b,d);case "\x3e":return m.greaterThanLessThan(a,b,d);case "\x3c\x3d":return m.greaterThanLessThan(a,b,d);case "\x3e\x3d":return m.greaterThanLessThan(a,b,d);case "+":return m.isString(a)||m.isString(b)?m.toString(a)+m.toString(b):m.toNumber(a)+m.toNumber(b);case "-":return m.toNumber(a)-m.toNumber(b);case "*":return m.toNumber(a)*m.toNumber(b);case "/":return m.toNumber(a)/m.toNumber(b);case "%":return m.toNumber(a)%m.toNumber(b);default:throw Error(c.nodeErrorMessage({type:"BinaryExpression"},"RUNTIME",
"OPERATORNOTRECOGNISED"));}},assign:function(a,b,d){switch(b){case "\x3d":return a===m.voidOperation?null:a;case "/\x3d":return m.toNumber(d)/m.toNumber(a);case "*\x3d":return m.toNumber(d)*m.toNumber(a);case "-\x3d":return m.toNumber(d)-m.toNumber(a);case "+\x3d":return m.isString(d)||m.isString(a)?m.toString(d)+m.toString(a):m.toNumber(d)+m.toNumber(a);case "%\x3d":return m.toNumber(d)%m.toNumber(a);default:throw Error(c.nodeErrorMessage("AssignmentExpression","RUNTIME","OPERATORNOTRECOGNISED"));
}},update:function(a,b,c,d){var e=m.toNumber(a[b]);a[b]="++"===c?e+1:e-1;return!1===d?e:"++"===c?e+1:e-1},memberupdate:function(a,b,c,e){var f;if(m.isArray(a))if(m.isNumber(b)){0>b&&(b=a.length+b);if(0>b||b>=a.length)throw Error("Assignment outside of array bounds");f=m.toNumber(a[b]);a[b]="++"===c?f+1:f-1}else throw Error("Invalid Parameter");else if(a instanceof r){if(!1===m.isString(b))throw Error("Dictionary accessor must be a string");if(!0===a.hasField(b))f=m.toNumber(a.field(b)),a.setField(b,
"++"===c?f+1:f-1);else throw Error("Invalid Parameter");}else if(a instanceof d){if(!1===m.isString(b))throw Error("Feature accessor must be a string");if(!0===a.hasField(b))f=m.toNumber(a.field(b)),a.setField(b,"++"===c?f+1:f-1);else throw Error("Invalid Parameter");}else{if(m.isImmutableArray(a))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===e?f:"++"===c?f+1:f-1},assignmember:function(a,b,c,e){if(m.isArray(a))if(m.isNumber(b)){0>b&&(b=a.length+b);if(0>b||b>a.length)throw Error("Assignment outside of array bounds");
if(b===a.length&&"\x3d"!==c)throw Error("Invalid Parameter");a[b]=this.assign(e,c,a[b])}else throw Error("Invalid Parameter");else if(a instanceof r){if(!1===m.isString(b))throw Error("Dictionary accessor must be a string");if(!0===a.hasField(b))a.setField(b,this.assign(e,c,a.field(b)));else{if("\x3d"!==c)throw Error("Invalid Parameter");a.setField(b,this.assign(e,c,null))}}else if(a instanceof d){if(!1===m.isString(b))throw Error("Feature accessor must be a string");if(!0===a.hasField(b))a.setField(b,
this.assign(e,c,a.field(b)));else{if("\x3d"!==c)throw Error("Invalid Parameter");a.setField(b,this.assign(e,c,null))}}else{if(m.isImmutableArray(a))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member:function(a,b){if(null===a)throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","NOTFOUND"));if(a instanceof r||a instanceof d){if(m.isString(b))return a.field(b)}else if(a instanceof w){if(m.isString(b))return ma(a,b,"MemberExpression")}else if(m.isArray(a)){if(m.isNumber(b)&&
isFinite(b)&&Math.floor(b)===b){0>b&&(b=a.length+b);if(b>=a.length||0>b)throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return a[b]}}else if(m.isString(a)){if(m.isNumber(b)&&isFinite(b)&&Math.floor(b)===b){0>b&&(b=a.length+b);if(b>=a.length||0>b)throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return a[b]}}else if(m.isImmutableArray(a)&&m.isNumber(b)&&isFinite(b)&&Math.floor(b)===b){0>b&&(b=a.length()+b);if(b>=a.length()||0>b)throw Error(c.nodeErrorMessage("MemberExpression",
"RUNTIME","OUTOFBOUNDS"));return a.get(b)}throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","INVALIDTYPE"));},callfunc:function(a,b,c){return a instanceof m.NativeFunction?a.fn(c,b):a instanceof m.SizzleFunction?a.fn.apply(this,b):a.apply(this,b)}};b.compileScript=function(a,b){void 0===b&&(b=null);null===b&&(b={vars:{},customfunctions:{}});b={globalScope:J(b.vars,V,b.customfunctions),localScope:null,console:Y,symbols:{symbolCounter:0}};a=C(b,a.body[0].body);""===a&&(a="lc.voidOperation;");
b={lc:m,lang:U,postProcess:function(a){a instanceof m.ReturnResult&&(a=a.value);a instanceof m.ImplicitResult&&(a=a.value);a===m.voidOperation&&(a=null);if(a===m.breakResult)throw Error("Cannot return BREAK");if(a===m.continueResult)throw Error("Cannot return CONTINUE");if(m.isFunctionParameter(a))throw Error("Cannot return FUNCTION");return a},prepare:function(a,b){b||(b=new B({wkid:102100}));var c=a.vars,e=a.customfunctions,f=new fa;c||(c={});e||(e={});var g=new r({newline:"\n",tab:"\t",singlequote:"'",
doublequote:'"',forwardslash:"/",backwardslash:"\\"});g.immutable=!1;f._SymbolsMap={textformatting:1,infinity:1,pi:1};f.textformatting=g;f.infinity=Number.POSITIVE_INFINITY;f.pi=Math.PI;for(var l in e)f[l]=e[l],f._SymbolsMap[l]=1;for(l in c)f._SymbolsMap[l]=1,f[l]=c[l]&&"esri.Graphic"===c[l].declaredClass?d.createFromGraphic(c[l]):c[l];return{spatialReference:b,globalScope:f,localScope:null,console:a.console?a.console:Y,symbols:{symbolCounter:0},depthCounter:1,applicationCache:void 0===a.applicationCache?
null:a.applicationCache}}};return(new Function("context","spatialReference","var runtimeCtx\x3dthis.prepare(context, spatialReference);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+a+"\n return lastStatement; } \n return this.postProcess(mainBody());")).bind(b)}})},"esri/arcade/Dictionary":function(){define(["require","exports","./ImmutableArray","./languageUtils","../geometry/Geometry"],
function(a,b,r,d,h){return function(){function a(b){this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=b instanceof a?b.attributes:void 0===b?{}:null===b?{}:b}a.prototype.field=function(a){var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var d in this.attributes)if(d.toLowerCase()===b)return this.attributes[d];throw Error("Field not Found");};a.prototype.setField=function(a,b){if(this.immutable)throw Error("Dictionary is Immutable");var c=a.toLowerCase();if(void 0===
this.attributes[a])for(var d in this.attributes)if(d.toLowerCase()===c){this.attributes[d]=b;return}this.attributes[a]=b};a.prototype.hasField=function(a){var b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(var d in this.attributes)if(d.toLowerCase()===b)return!0;return!1};a.prototype.keys=function(){var a=[],b;for(b in this.attributes)a.push(b);return a=a.sort()};a.prototype.castToText=function(){var a="",b;for(b in this.attributes){""!==a&&(a+=",");var k=this.attributes[b];null==k?
a+=JSON.stringify(b)+":null":d.isBoolean(k)||d.isNumber(k)||d.isString(k)?a+=JSON.stringify(b)+":"+JSON.stringify(k):k instanceof h?a+=JSON.stringify(b)+":"+d.toStringExplicit(k):k instanceof r?a+=JSON.stringify(b)+":"+d.toStringExplicit(k):k instanceof Array?a+=JSON.stringify(b)+":"+d.toStringExplicit(k):k instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(k):null!==k&&"object"===typeof k&&void 0!==k.castToText&&(a+=JSON.stringify(b)+":"+k.castToText())}return"{"+a+"}"};return a}()})},"esri/arcade/ImmutableArray":function(){define(["require",
"exports"],function(a,b){return function(){function a(a){void 0===a&&(a=[]);this._elements=a}a.prototype.length=function(){return this._elements.length};a.prototype.get=function(a){return this._elements[a]};a.prototype.toArray=function(){for(var a=[],b=0;b<this.length();b++)a.push(this.get(b));return a};return a}()})},"esri/arcade/languageUtils":function(){define("require exports dojo/number ../kernel ../moment ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A){function w(a,b,c){if(""===b||null===b||void 0===b||b===c||b===c)return a;do a=a.replace(b,c);while(-1!==a.indexOf(b));return a}function y(a){return a instanceof ra||a instanceof n||a instanceof S}function u(a){return"string"===typeof a||a instanceof String}function e(a){return"boolean"===typeof a}function l(a){return"number"===typeof a}function B(a){return a instanceof Array}function z(a){return a instanceof Date}function C(a,b){if(!1===isNaN(a)){if(void 0===
b||null===b||""===b)return a.toString();b=w(b,"\u2030","");b=w(b,"\u00a4","");return r.format(a,{pattern:b})}return a.toString()}function F(a,b){a=h(a);return void 0===b||null===b||""===b?a.format():a.format(G(b))}function G(a){return a.replace(/(LTS)|L|l/g,function(a){return"["+a+"]"})}function I(a,b,c){switch(c){case "\x3e":return a>b;case "\x3c":return a<b;case "\x3e\x3d":return a>=b;case "\x3c\x3d":return a<=b}return!1}function E(a,d){if(a===d||null===a&&d===b.voidOperation||null===d&&a===b.voidOperation)return!0;
if(z(a)&&z(d))return a.getTime()===d.getTime();if(a instanceof c||a instanceof k)return a.equalityTest(d);if(a instanceof x&&d instanceof x){var e=void 0,f=void 0;b.isVersion4?(e=a.cache._arcadeCacheId,f=d.cache._arcadeCacheId):(e=a.getCacheValue("_arcadeCacheId"),f=d.getCacheValue("_arcadeCacheId"));if(void 0!==e&&null!==e)return e===f}return void 0!==a&&void 0!==d&&null!==a&&null!==d&&"object"===typeof a&&"object"===typeof d&&(a._arcadeCacheId===d._arcadeCacheId&&void 0!==a._arcadeCacheId&&null!==
a._arcadeCacheId||a._underlyingGraphic===d._underlyingGraphic&&void 0!==a._underlyingGraphic&&null!==a._underlyingGraphic)?!0:!1}function M(a,b){if(u(a))return a;if(null===a)return"";if(l(a))return C(a,b);if(e(a))return a.toString();if(z(a))return F(a,b);if(a instanceof f)return JSON.stringify(a.toJSON());if(B(a)){b=[];for(var c=0;c<a.length;c++)b[c]=ga(a[c]);return"["+b.join(",")+"]"}if(a instanceof m){b=[];for(c=0;c<a.length();c++)b[c]=ga(a.get(c));return"["+b.join(",")+"]"}return null!==a&&"object"===
typeof a&&void 0!==a.castToText?a.castToText():y(a)?"object, Function":""}function ma(a,b){if(u(a))return a;if(null===a)return"";if(l(a))return C(a,b);if(e(a))return a.toString();if(z(a))return F(a,b);if(a instanceof f)return a instanceof g?'{"xmin":'+a.xmin.toString()+',"ymin":'+a.ymin.toString()+","+(a.hasZ?'"zmin":'+a.zmin.toString()+",":"")+(a.hasM?'"mmin":'+a.mmin.toString()+",":"")+'"xmax":'+a.xmax.toString()+',"ymax":'+a.ymax.toString()+","+(a.hasZ?'"zmax":'+a.zmax.toString()+",":"")+(a.hasM?
'"mmax":'+a.mmax.toString()+",":"")+'"spatialReference":'+ja(a.spatialReference)+"}":ja(a.toJSON(),function(a,b){return a.key===b.key?0:"spatialReference"===a.key?1:"spatialReference"===b.key||a.key<b.key?-1:a.key>b.key?1:0});if(B(a)){b=[];for(var c=0;c<a.length;c++)b[c]=ga(a[c]);return"["+b.join(",")+"]"}if(a instanceof m){b=[];for(c=0;c<a.length();c++)b[c]=ga(a.get(c));return"["+b.join(",")+"]"}return null!==a&&"object"===typeof a&&void 0!==a.castToText?a.castToText():y(a)?"object, Function":""}
function ga(a){if(null!==a){if(e(a)||l(a)||u(a))return JSON.stringify(a);if(a instanceof f||a instanceof m||a instanceof Array)return ma(a);if(a instanceof Date)return JSON.stringify(F(a,""));if(null!==a&&"object"===typeof a&&void 0!==a.castToText)return a.castToText()}return"null"}function X(a,c){return l(a)?a:null===a||""===a?0:z(a)?NaN:e(a)?a?1:0:B(a)||""===a||void 0===a?NaN:void 0!==c&&u(a)?(c=w(c,"\u2030",""),c=w(c,"\u00a4",""),r.parse(a,{pattern:c})):a===b.voidOperation?0:Number(a)}function Q(a,
b){var c;b.fields.some(function(b){b.name===a&&(c=b.domain);return!!c});return c}function ja(a,b){b||(b={});"function"===typeof b&&(b={cmp:b});var c="boolean"===typeof b.cycles?b.cycles:!1,d=b.cmp&&function(a){return function(b){return function(c,d){return a({key:c,value:b[c]},{key:d,value:b[d]})}}}(b.cmp),e=[];return function U(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"===typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);
var b,f;if(Array.isArray(a)){f="[";for(b=0;b<a.length;b++)b&&(f+=","),f+=U(a[b])||"null";return f+"]"}if(null===a)return"null";if(-1!==e.indexOf(a)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var g=e.push(a)-1,l=Object.keys(a).sort(d&&d(a));f="";for(b=0;b<l.length;b++){var k=l[b],h=U(a[k]);h&&(f&&(f+=","),f+=JSON.stringify(k)+":"+h)}e.splice(g,1);return"{"+f+"}"}}(a)}Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a){this.value=
a}}();var aa=function(){return function(a){this.value=a}}(),ra=function(){return function(a){this.fn=a}}(),S=function(){return function(a){this.fn=a}}();b.NativeFunction=ra;b.ImplicitResult=aa;b.ReturnResult=a;b.SizzleFunction=S;b.isVersion4=0===d.version.indexOf("4.");b.voidOperation={type:"VOID"};b.breakResult={type:"BREAK"};b.continueResult={type:"CONTINUE"};b.multiReplace=w;b.isFunctionParameter=y;b.isSimpleType=function(a){return u(a)||l(a)||z(a)||e(a)||null===a||a===b.voidOperation||"number"===
typeof a?!0:!1};b.defaultUndefined=function(a,b){return void 0===a?b:a};b.isString=u;b.isBoolean=e;b.isNumber=l;b.isArray=B;b.isFeatureCursor=function(a){return a&&void 0!==a.isFeatureCursor};b.isImmutableArray=function(a){return a instanceof m};b.isDate=z;b.pcCheck=function(a,b,c){if(a.length<b||a.length>c)throw Error("Function called with wrong number of Parameters");};b.generateUUID=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=
(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&3|8).toString(16)})};b.formatNumber=C;b.formatDate=F;b.standardiseDateFormat=G;b.greaterThanLessThan=function(a,c,d){if(null===a){if(null===c||c===b.voidOperation)return I(null,null,d);if(l(c))return I(0,c,d);if(u(c)||e(c))return I(0,X(c),d);if(z(c))return I(0,c.getTime(),d)}if(a===b.voidOperation){if(null===c||c===b.voidOperation)return I(null,null,d);if(l(c))return I(0,c,d);if(u(c)||e(c))return I(0,X(c),d);if(z(c))return I(0,c.getTime(),
d)}else if(l(a)){if(l(c))return I(a,c,d);if(e(c))return I(a,X(c),d);if(null===c||c===b.voidOperation)return I(a,0,d);if(u(c))return I(a,X(c),d);if(z(c))return I(a,c.getTime(),d)}else if(u(a)){if(u(c))return I(M(a),M(c),d);if(z(c))return I(X(a),c.getTime(),d);if(l(c))return I(X(a),c,d);if(null===c||c===b.voidOperation)return I(X(a),0,d);if(e(c))return I(X(a),X(c),d)}else if(z(a)){if(z(c))return I(a,c,d);if(null===c||c===b.voidOperation)return I(a.getTime(),0,d);if(l(c))return I(a.getTime(),c,d);if(e(c)||
u(c))return I(a.getTime(),X(c),d)}else if(e(a)){if(e(c))return I(a,c,d);if(l(c))return I(X(a),X(c),d);if(z(c))return I(X(a),c.getTime(),d);if(null===c||c===b.voidOperation)return I(X(a),0,d);if(u(c))return I(X(a),X(c),d)}return!E(a,c)||"\x3c\x3d"!==d&&"\x3e\x3d"!==d?!1:!0};b.equalityTest=E;b.toString=M;b.toNumberArray=function(a){var b=[];if(!1===B(a))return null;if(a instanceof m){for(var c=0;c<a.length();c++)b[c]=X(a.get(c));return b}for(c=0;c<a.length;c++)b[c]=X(a[c]);return b};b.toStringExplicit=
ma;b.toNumber=X;b.toDate=function(a,b){return z(a)?a:u(a)&&(a=h(a,[void 0===b||null===b||""===b?h.ISO_8601:b]),a.isValid())?a.toDate():null};b.toDateM=function(a,b){return z(a)?h(a):u(a)&&(a=h(a,[void 0===b||null===b||""===b?h.ISO_8601:b]),a.isValid())?a:null};b.toBoolean=function(a){if(e(a))return a;if(u(a)){if(a=a.toLowerCase(),"true"===a)return!0}else if(l(a))return 0===a||isNaN(a)?!1:!0;return!1};b.fixSpatialReference=function(a,b){if(null===a||void 0===a)return null;if(null===a.spatialReference||
void 0===a.spatialReference)a.spatialReference=b;return a};b.fixNullGeometry=function(a){return null===a?null:a instanceof x?"NaN"===a.x||null===a.x||isNaN(a.x)?null:a:a instanceof p?0===a.rings.length?null:a:a instanceof A?0===a.paths.length?null:a:a instanceof v?0===a.points.length?null:a:a instanceof g?"NaN"===a.xmin||null===a.xmin||isNaN(a.xmin)?null:a:null};b.getDomainValue=function(a,b){if(!a||!a.domain)return null;var c=null;b="string"===a.field.type||"esriFieldTypeString"===a.field.type?M(b):
X(b);for(var d=0;d<a.domain.codedValues.length;d++){var e=a.domain.codedValues[d];e.code===b&&(c=e)}return null===c?null:c.name};b.getDomainCode=function(a,b){if(!a||!a.domain)return null;var c=null;b=M(b);for(var d=0;d<a.domain.codedValues.length;d++){var e=a.domain.codedValues[d];e.name===b&&(c=e)}return null===c?null:c.code};b.getDomain=function(a,b,c,d){void 0===c&&(c=null);if(!b||!b.fields)return null;for(var e=null,f=0;f<b.fields.length;f++){var g=b.fields[f];g.name.toLowerCase()===a.toString().toLowerCase()&&
(e=g)}if(null===e)return null;var l,k;d||(d=c&&b.typeIdField&&c._field(b.typeIdField));null!=d&&b.types.some(function(a){return a.id===d?((l=a.domains&&a.domains[e.name])&&"inherited"===l.type&&(l=Q(e.name,b),k=!0),!0):!1});k||l||(l=Q(a,b));return{field:e,domain:l}};b.stableStringify=ja;b.autoCastFeatureToGeometry=function(a){if(null===a)return null;for(var b=[],c=0;c<a.length;c++){var d=a[c];d&&d.declaredClass&&"esri.arcade.Feature"===d.declaredClass?b.push(d.geometry()):b.push(d)}return b}})},"esri/arcade/FunctionWrapper":function(){define(["require",
"exports"],function(a,b){return function(){return function(a,b){this.context=this.definition=null;this.definition=a;this.context=b}}()})},"esri/arcade/ImmutablePathArray":function(){define(["require","exports","../core/tsSupport/extendsHelper","./ImmutableArray","./ImmutablePointArray"],function(a,b,r,d,h){return function(a){function b(b,d,g,f,h){b=a.call(this,b)||this;b._lazyPath=[];b._hasZ=!1;b._hasM=!1;b._hasZ=g;b._hasM=f;b._spRef=d;b._cacheId=h;return b}r(b,a);b.prototype.get=function(a){if(void 0===
this._lazyPath[a]){var b=this._elements[a];if(void 0===b)return;this._lazyPath[a]=new h(b,this._spRef,this._hasZ,this._hasM,this._cacheId,a)}return this._lazyPath[a]};b.prototype.equalityTest=function(a){return a===this?!0:null===a||!1===a instanceof b?!1:a.getUniqueHash()===this.getUniqueHash()};b.prototype.getUniqueHash=function(){return this._cacheId.toString()};return b}(d)})},"esri/arcade/ImmutablePointArray":function(){define("require exports ../core/tsSupport/extendsHelper ../kernel ./ImmutableArray ../geometry/Point".split(" "),
function(a,b,r,d,h,n){var m=0===d.version.indexOf("4.");return function(a){function b(b,c,d,k,h,m){b=a.call(this,b)||this;b._lazyPt=[];b._hasZ=!1;b._hasM=!1;b._spRef=c;b._hasZ=d;b._hasM=k;b._cacheId=h;b._partId=m;return b}r(b,a);b.prototype.get=function(a){if(void 0===this._lazyPt[a]){var b=this._elements[a];if(void 0===b)return;var c=this._hasZ,d=this._hasM,g=null,g=c&&!d?new n(b[0],b[1],b[2],void 0,this._spRef):d&&c?new n(b[0],b[1],void 0,b[2],this._spRef):c&&d?new n(b[0],b[1],b[2],b[3],this._spRef):
new n(b[0],b[1],this._spRef);m?g.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+a.toString():g.setCacheValue("_arcadeCacheId",this._cacheId.toString()+"-"+this._partId.toString()+"-"+a.toString());this._lazyPt[a]=g}return this._lazyPt[a]};b.prototype.equalityTest=function(a){return a===this?!0:null===a||!1===a instanceof b?!1:a.getUniqueHash()===this.getUniqueHash()};b.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return b}(h)})},
"esri/arcade/Feature":function(){define("require exports ../core/tsSupport/assignHelper ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils".split(" "),function(a,b,r,d,h,n,m,c,k){return function(){function a(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=null;this.immutable=this.immutable=this._datesfixed=!0}a.createFromGraphic=function(b){var c=new a;c._geometry=b.geometry;c.attributes=void 0===
b.attributes?{}:null===b.attributes?{}:b.attributes;b._sourceLayer?(c._layer=b._sourceLayer,c._datesfixed=!1):b._layer?(c._layer=b._layer,c._datesfixed=!1):b.layer&&(c._layer=b.layer,c._datesfixed=!1);return c};a.createFromArcadeFeature=function(b){var c=new a;c._datesfixed=b._datesfixed;c.attributes=b.attributes;c._geometry=b._geometry;b._layer&&(c._layer=b._layer);return c};a.createFromArcadeDictionary=function(b){var c=new a;c.attributes=b.field("attributes");null!==c.attributes?c.attributes instanceof
d?(c.attributes=c.attributes.attributes,null===c.attributes&&(c.attributes={})):c.attributes={}:c.attributes={};c._geometry=b.field("geometry");null!==c._geometry&&(c._geometry instanceof d?c._geometry=a.parseGeometryFromDictionary(c._geometry):c._geometry instanceof m||(c._geometry=null));return c};a.createFromGraphicLikeObject=function(b,c,d){void 0===d&&(d=null);var f=new a;null===c&&(c={});f.attributes=c;f._geometry=b;f._layer=d;f._layer&&(f._datesfixed=!1);return f};a.prototype.repurposeFromGraphicLikeObject=
function(a,b,c){void 0===c&&(c=null);null===b&&(b={});this.attributes=b;this._geometry=a;this._datesfixed=(this._layer=c)?!1:!0};a.prototype.castToText=function(){var a="",b;for(b in this.attributes){""!==a&&(a+=",");var c=this.attributes[b];null==c?a+=JSON.stringify(b)+":null":n.isBoolean(c)||n.isNumber(c)||n.isString(c)?a+=JSON.stringify(b)+":"+JSON.stringify(c):c instanceof m?a+=JSON.stringify(b)+":"+n.toStringExplicit(c):c instanceof h?a+=JSON.stringify(b)+":"+n.toStringExplicit(c):c instanceof
Array?a+=JSON.stringify(b)+":"+n.toStringExplicit(c):c instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(c):null!==c&&"object"===typeof c&&void 0!==c.castToText&&(a+=JSON.stringify(b)+":"+c.castToText())}return'{"geometry":'+(null===this.geometry()?"null":n.toStringExplicit(this.geometry()))+',"attributes":{'+a+"}}"};a.prototype._fixDates=function(){for(var a=[],b=0;b<this._layer.fields.length;b++){var c=this._layer.fields[b];"date"!==c.type&&"esriFieldTypeDate"!==c.type||a.push(c.name)}0<a.length&&
this._fixDateFields(a);this._datesfixed=!0};a.prototype._fixDateFields=function(a){this.attributes=r({},this.attributes);for(var b=0;b<a.length;b++){var c=this.attributes[a[b]];if(null!==c)if(void 0===c)for(var d in this.attributes){if(d.toLowerCase()===a[b]){c=this.attributes[d];null===c||c instanceof Date||(this.attributes[d]=new Date(c));break}}else c instanceof Date||(this.attributes[a[b]]=new Date(c))}};a.prototype.geometry=function(){return null===this._geometry||this._geometry instanceof m?
this._geometry:this._geometry=k.fromJson(this._geometry)};a.prototype.field=function(a){!1===this._datesfixed&&this._fixDates();var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var c in this.attributes)if(c.toLowerCase()===b)return this.attributes[c];if(this._hasFieldDefinition(b))return null;throw Error("Field not Found");};a.prototype._hasFieldDefinition=function(a){if(null===this._layer)return!1;for(var b=0;b<this._layer.fields.length;b++)if(this._layer.fields[b].name.toLowerCase()===
a)return!0;return!1};a.prototype._field=function(a){!1===this._datesfixed&&this._fixDates();var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var c in this.attributes)if(c.toLowerCase()===b)return this.attributes[c];return null};a.prototype.setField=function(a,b){if(this.immutable)throw Error("Feature is Immutable");if(!1===n.isSimpleType(b))throw Error("Illegal Value Assignment to Feature");var c=a.toLowerCase();if(void 0===this.attributes[a])for(var d in this.attributes)if(d.toLowerCase()===
c){this.attributes[d]=b;return}this.attributes[a]=b};a.prototype.hasField=function(a){var b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(var c in this.attributes)if(c.toLowerCase()===b)return!0;return this._hasFieldDefinition(b)?!0:!1};a.prototype.keys=function(){var a=[],b={},c;for(c in this.attributes)a.push(c),b[c.toLowerCase()]=1;if(null!==this._layer)for(c=0;c<this._layer.fields.length;c++){var d=this._layer.fields[c];1!==b[d.name.toLowerCase()]&&a.push(d.name)}return a=a.sort()};
a.parseGeometryFromDictionary=function(b){b=a.convertDictionaryToJson(b,!0);void 0!==b.spatialreference&&(b.spatialReference=b.spatialreference,delete b.spatialreference);void 0!==b.rings&&(b.rings=this.fixPathArrays(b.rings,!0===b.hasZ,!0===b.hasM));void 0!==b.paths&&(b.paths=this.fixPathArrays(b.paths,!0===b.hasZ,!0===b.hasM));void 0!==b.points&&(b.points=this.fixPointArrays(b.points,!0===b.hasZ,!0===b.hasM));return k.fromJSON(b)};a.fixPathArrays=function(a,b,c){var d=[];if(a instanceof Array)for(var f=
0;f<a.length;f++)d.push(this.fixPointArrays(a[f],b,c));else if(a instanceof h)for(f=0;f<a.length();f++)d.push(this.fixPointArrays(a.get(f),b,c));return d};a.fixPointArrays=function(a,b,d){var f=[];if(a instanceof Array)for(var g=0;g<a.length;g++){var k=a[g];k instanceof c?b&&d?f.push([k.x,k.y,k.z,k.m]):b?f.push([k.x,k.y,k.z]):d?f.push([k.x,k.y,k.m]):f.push([k.x,k.y]):f.push(k)}else if(a instanceof h)for(g=0;g<a.length();g++)k=a.get(g),k instanceof c?b&&d?f.push([k.x,k.y,k.z,k.m]):b?f.push([k.x,k.y,
k.z]):d?f.push([k.x,k.y,k.m]):f.push([k.x,k.y]):f.push(k);return f};a.convertDictionaryToJson=function(b,c){void 0===c&&(c=!1);var f={},g;for(g in b.attributes){var k=b.attributes[g];k instanceof d&&(k=a.convertDictionaryToJson(k));c?f[g.toLowerCase()]=k:f[g]=k}return f};a.parseAttributesFromDictionary=function(a){var b={},c;for(c in a.attributes){var d=a.attributes[c];if(n.isSimpleType(d))b[c]=d;else throw Error("Illegal Argument");}return b};a.fromJson=function(b){var c=null;null!==b.geometry&&
void 0!==b.geometry&&(c=k.fromJSON(b.geometry));var d={};if(null!==b.attributes&&void 0!==b.attributes)for(var f in b.attributes){var g=b.attributes[f];if(n.isString(g)||n.isNumber(g)||n.isBoolean(g)||n.isDate(g))d[f]=g;else throw Error("Illegal Argument");}return a.createFromGraphicLikeObject(c,d,null)};a.prototype.domainValueLookup=function(a,b,c){if(null===this._layer||!this._layer.fields)return null;c=n.getDomain(a,this._layer,this,c);if(void 0===b)try{b=this.field(a)}catch(p){return null}return n.getDomainValue(c,
b)};a.prototype.domainCodeLookup=function(a,b,c){if(null===this._layer||!this._layer.fields)return null;a=n.getDomain(a,this._layer,this,c);return n.getDomainCode(a,b)};return a}()})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(a,b){function r(a,b,c,d){return"0"!==a.min&&c.length<Number(a.min)||"*"!==a.max&&c.length>Number(a.max)?-2:1}function d(a,b,c){if(null!==c.localScope&&void 0!==c.localScope[a.toLowerCase()]){var d=c.localScope[a.toLowerCase()];if("FormulaFunction"===
d.type||"any"===d.type)return void 0===d.signature&&(d.signature={min:"0",max:"*"}),r(d.signature,a,b,c)}return void 0!==c.globalScope[a.toLowerCase()]&&(d=c.globalScope[a.toLowerCase()],"FormulaFunction"===d.type||"any"===d.type)?(void 0===d.signature&&(d.signature={min:"0",max:"*"}),r(d.signature,a,b,c)):-1}function h(a,b){void 0===b&&(b=!0);var c=x(a,"SYNTAX","UNREOGNISED");try{switch(a.type){case "VariableDeclarator":return null!==a.init&&"FunctionExpression"===a.init.type?x(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):
"Identifier"!==a.id.type?x(a,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==a.init?h(a.init,!1):"";case "VariableDeclaration":for(var d=0;d<a.declarations.length;d++)if(c=h(a.declarations[d],b),""!==c)return c;return"";case "ForInStatement":c=h(a.left,b);if(""!==c)break;if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return x(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return x(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==a.left.type)return x(a,"SYNTAX",
"LEFTNOTVAR");c=h(a.right,b);if(""!==c)break;c=h(a.body,b);if(""!==c)break;return"";case "ForStatement":if(null!==a.test&&(c=h(a.test,b),""!==c))break;if(null!==a.init&&(c=h(a.init,b),""!==c))break;if(null!==a.update&&(c=h(a.update,b),""!==c))break;if(null!==a.body&&(c=h(a.body,b),""!==c))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":c=h(a.test,b);if(""!==c)break;if(null!==a.consequent&&(c=h(a.consequent,!1),""!==
c))break;if(null!==a.alternate&&(c=h(a.alternate,!1),""!==c))break;return"";case "BlockStatement":for(var e=[],d=0;d<a.body.length;d++)"EmptyStatement"!==a.body[d].type&&e.push(a.body[d]);a.body=e;for(d=0;d<a.body.length;d++)if(c=h(a.body[d],b),""!==c)return c;return"";case "FunctionDeclaration":return!1===b?x(a,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==a.id.type?x(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):h(a.body,!1);case "ReturnStatement":return null!==a.argument?h(a.argument,b):"";case "UpdateExpression":return"Identifier"!==
a.argument.type&&"MemberExpression"!==a.argument.type?x(a,"SYNTAX","ASSIGNMENTTOVARSONLY"):h(a.argument,b);case "AssignmentExpression":if("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type)return x(a,"SYNTAX","ASSIGNMENTTOVARSONLY");c=h(a.left,b);if(""!==c)break;switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return x(a,"SYNTAX","OPERATORNOTRECOGNISED")}return h(a.right,!1);case "ExpressionStatement":return h(a.expression,!1);
case "Identifier":c="";break;case "MemberExpression":c=h(a.object,b);if(""!==c)break;return!0===a.computed?h(a.property,b):"";case "Literal":return"";case "ThisExpression":return x(a,"SYNTAX","NOTSUPPORTED");case "CallExpression":if("Identifier"!==a.callee.type)return x(a,"SYNTAX","ONLYNODESSUPPORTED");c="";for(d=0;d<a.arguments.length;d++)if(c=h(a.arguments[d],b),""!==c)return c;return"";case "UnaryExpression":c=h(a.argument,b);break;case "BinaryExpression":c=h(a.left,b);if(""!==c)break;c=h(a.right,
b);if(""!==c)break;switch(a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:return x(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":c=h(a.left,b);if(""!==c)break;c=h(a.right);if(""!==c)break;switch(a.operator){case "\x26\x26":case "||":break;default:return x(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return x(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c=
"";for(d=0;d<a.elements.length&&(c=h(a.elements[d],b),""===c);d++);break;case "Array":return x(a,"SYNTAX","NOTSUPPORTED");case "ObjectExpression":c="";for(d=0;d<a.properties.length&&(c="",null!==a.properties[d].key&&("Literal"!==a.properties[d].key.type&&"Identifier"!==a.properties[d].key.type&&(c=x(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[d].key.type&&(e=a.properties[d].key.value,"string"===typeof e||e instanceof String||(c=x(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")))),
""===c&&(c=h(a.properties[d],b)),""===c);d++);break;case "Property":if("Literal"!==a.key.type&&"Identifier"!==a.key.type)return x(a,"SYNTAX","ONLYLITERAL");if("Identifier"!==a.key.type&&(c=h(a.key,b),""!==c))break;c=h(a.value,b)}return c}catch(C){throw C;}}function n(a,b){var c=x(a,"SYNTAX","UNREOGNISED"),e=null,k="";try{switch(a.type){case "VariableDeclarator":if(null!==a.init&&"FunctionExpression"===a.init.type)return x(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");a.id.name.toLowerCase();var h=null===
a.init?"":n(a.init,b);if(""!==h)return h;null===b.localScope?b.globalScope[a.id.name.toLowerCase()]={type:"any"}:b.localScope[a.id.name.toLowerCase()]={type:"any"};return"";case "FunctionDeclaration":e=g(a.id.name.toLowerCase(),a,b);k=f(a,b);if(""!==k)return k;if(null!==b.localScope)return x(a,"SYNTAX","GLOBALFUNCTIONSONLY");e.isnative=!1;b.globalScope[a.id.name.toLowerCase()]={type:"FormulaFunction",signature:[e]};return"";case "VariableDeclaration":for(var c="",m=0;m<a.declarations.length&&(c=n(a.declarations[m],
b),""===c);m++);break;case "IfStatement":c=n(a.test,b);if(""!==c)break;if("AssignmentExpression"===a.test.type||"UpdateExpression"===a.test.type)return x(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==a.consequent&&(c=n(a.consequent,b),""!==c))break;if(null!==a.alternate&&(c=n(a.alternate,b),""!==c))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(m=0;m<a.body.length;m++)if(c=n(a.body[m],b),""!==c)return c;return"";case "ReturnStatement":return null!==a.argument?
n(a.argument,b):"";case "ForInStatement":if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return x(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return x(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==a.left.type)return x(a,"SYNTAX","LEFTNOTVAR");c=n(a.left,b);if(""!==c)break;c=n(a.right,b);if(""!==c)break;c=n(a.body,b);if(""!==c)break;return"";case "ForStatement":if(null!==a.init&&(c=n(a.init,b),""!==c))break;if(null!==a.test&&(c=n(a.test,b),""!==c))break;
if(null!==a.body&&(c=n(a.body,b),""!==c))break;if(null!==a.update&&(c=n(a.update,b),""!==c))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type)return x(a,"SYNTAX","ASSIGNMENTTOVARSONLY");var u=!1;if("MemberExpression"===a.argument.type)return n(a.argument,b);null!==b.localScope&&void 0!==b.localScope[a.argument.name.toLowerCase()]&&(u=!0);void 0!==b.globalScope[a.argument.name.toLowerCase()]&&
(u=!0);return!1===u?"Identifier "+a.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type)return x(a,"SYNTAX","ASSIGNMENTTOVARSONLY");var p=n(a.right,b);if(""!==p)return p;u=!1;if("MemberExpression"===a.left.type)return p=n(a.left,b),""!==p?p:"";null!==b.localScope&&void 0!==b.localScope[a.left.name.toLowerCase()]&&(u=!0);void 0!==b.globalScope[a.left.name.toLowerCase()]&&(u=!0);return!1===u?"Identifier "+a.left.name+
" has not been declared.":"";case "ExpressionStatement":return n(a.expression,b);case "Identifier":var v=a.name.toLowerCase();if(null!==b.localScope&&void 0!==b.localScope[v])return"";c=void 0!==b.globalScope[v]?"":x(a,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":c=n(a.object,b);if(""!==c)break;return!0===a.computed?n(a.property,b):"";case "Literal":return"";case "ThisExpression":c=x(a,"SYNTAX","NOTSUPPORTED");break;case "CallExpression":if("Identifier"!==a.callee.type)return x(a,"SYNTAX",
"ONLYNODESSUPPORTED");c="";for(m=0;m<a.arguments.length;m++)if(c=n(a.arguments[m],b),""!==c)return c;var r=d(a.callee.name,a.arguments,b);-1===r&&(c=x(a,"SYNTAX","NOTFOUND"));-2===r&&(c=x(a,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":c=n(a.argument,b);break;case "BinaryExpression":c=n(a.left,b);if(""!==c)break;c=n(a.right,b);if(""!==c)break;return"";case "LogicalExpression":c=n(a.left,b);if(""!==c)break;if("AssignmentExpression"===a.left.type||"UpdateExpression"===a.left.type)return x(a.left,
"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");c=n(a.right,b);if(""!==c)break;return"AssignmentExpression"===a.right.type||"UpdateExpression"===a.right.type?x(a.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return x(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c="";for(m=0;m<a.elements.length&&(c=n(a.elements[m],b),""===c);m++);break;case "ObjectExpression":c="";for(m=0;m<a.properties.length;m++){c="";if(null!==a.properties[m].key&&("Literal"!==a.properties[m].key.type&&
"Identifier"!==a.properties[m].key.type&&(c=x(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[m].key.type)){var w=a.properties[m].key.value;"string"===typeof w||w instanceof String||(c=x(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===c&&(c=n(a.properties[m],b));if(""!==c)break}break;case "Property":if("Literal"!==a.key.type&&"Identifier"!==a.key.type)return x(a,"SYNTAX","ONLYLITERAL");if("Identifier"!==a.key.type&&(c=n(a.key,b),""!==c))break;c=n(a.value,b);break;case "Array":return x(a,
"SYNTAX","NOTSUPPORTED")}return c}catch(ga){throw ga;}}function m(a,b){var c=!1;try{switch(a.type){case "VariableDeclarator":return null!==a.init?m(a.init,b):c;case "FunctionDeclaration":return m(a.body,b);case "VariableDeclaration":for(var d=0;d<a.declarations.length;d++)if(m(a.declarations[d],b))return!0;return c;case "IfStatement":return m(a.test,b)||null!==a.consequent&&m(a.consequent,b)||null!==a.alternate&&m(a.alternate,b)?!0:c;case "EmptyStatement":return c;case "BlockStatement":for(d=0;d<
a.body.length;d++)if(m(a.body[d],b))return!0;return c;case "ReturnStatement":return null!==a.argument?m(a.argument,b):c;case "UpdateExpression":return m(a.argument,b);case "AssignmentExpression":return(c=m(a.right,b))?c:m(a.left,b);case "ExpressionStatement":return m(a.expression,b);case "ForInStatement":return(c=m(a.left,b))||(c=m(a.right,b))?c:c=m(a.body,b);case "ForStatement":if(null!==a.init&&(c=m(a.init,b))||null!==a.test&&(c=m(a.test,b))||null!==a.body&&(c=m(a.body,b)))return c;null!==a.update&&
(c=m(a.update,b));return c;case "BreakStatement":return c;case "ContinueStatement":return c;case "Compound":return c;case "Identifier":return b.toLowerCase()===a.name.toLowerCase();case "MemberExpression":if(c=m(a.object,b))return c;!0===a.computed&&(c=m(a.property,b));return c;case "Literal":return c;case "ThisExpression":return c;case "CallExpression":for(d=0;d<a.arguments.length;d++)m(a.arguments[d],b)&&(c=!0);return c;case "ArrayExpression":for(d=0;d<a.elements.length;d++)m(a.elements[d],b)&&
(c=!0);return c;case "UnaryExpression":return m(a.argument,b);case "BinaryExpression":return(c=m(a.left,b))?c:c=m(a.right,b);case "LogicalExpression":return(c=m(a.left,b))?c:c=m(a.right,b);case "ObjectExpression":for(d=0;d<a.properties.length;d++)m(a.properties[d],b)&&(c=!0);return c;case "Property":return c=m(a.value,b);case "ConditionalExpression":return c;case "Array":return c;default:return c}}catch(z){throw z;}}function c(a,b){var d=!1;try{switch(a.type){case "VariableDeclarator":return null!==
a.init?c(a.init,b):d;case "FunctionDeclaration":return c(a.body,b);case "VariableDeclaration":for(var e=0;e<a.declarations.length;e++)if(c(a.declarations[e],b))return!0;return d;case "IfStatement":return c(a.test,b)||null!==a.consequent&&c(a.consequent,b)||null!==a.alternate&&c(a.alternate,b)?!0:d;case "EmptyStatement":return d;case "BlockStatement":for(e=0;e<a.body.length;e++)if(c(a.body[e],b))return!0;return d;case "ReturnStatement":return null!==a.argument?c(a.argument,b):d;case "UpdateExpression":return c(a.argument,
b);case "AssignmentExpression":return c(a.left,b)?!0:c(a.right,b);case "ExpressionStatement":return c(a.expression,b);case "ForInStatement":return(d=c(a.left,b))||(d=c(a.right,b))?d:d=c(a.body,b);case "ForStatement":if(null!==a.init&&(d=c(a.init,b))||null!==a.test&&(d=c(a.test,b))||null!==a.body&&(d=c(a.body,b)))return d;null!==a.update&&(d=c(a.update,b));return d;case "BreakStatement":return d;case "ContinueStatement":return d;case "Compound":return d;case "Identifier":return d;case "MemberExpression":if(d=
c(a.object,b))return d;!0===a.computed&&(d=c(a.property,b));return d;case "Literal":return d;case "ThisExpression":return d;case "CallExpression":if(a.callee.name.toLowerCase()===b.toLowerCase())return!0;for(e=0;e<a.arguments.length;e++)c(a.arguments[e],b)&&(d=!0);return d;case "ArrayExpression":for(e=0;e<a.elements.length;e++)c(a.elements[e],b)&&(d=!0);return d;case "UnaryExpression":return c(a.argument,b);case "BinaryExpression":return(d=c(a.left,b))?d:d=c(a.right,b);case "LogicalExpression":return(d=
c(a.left,b))?d:d=c(a.right,b);case "ConditionalExpression":return d;case "ObjectExpression":for(e=0;e<a.properties.length;e++)c(a.properties[e],b)&&(d=!0);return d;case "Property":return d=c(a.value,b);case "Array":return d;default:return d}}catch(z){throw z;}}function k(a,b){var c=[],d;try{switch(a.type){case "VariableDeclarator":return null!==a.init?k(a.init,b):c;case "FunctionDeclaration":return k(a.body,b);case "VariableDeclaration":for(var e=0;e<a.declarations.length;e++)d=k(a.declarations[e],
b),c=c.concat(d);return c;case "ForInStatement":return d=k(a.left,b),c=c.concat(d),d=k(a.right,b),c=c.concat(d),d=k(a.body,b),c=c.concat(d);case "ForStatement":return null!==a.init&&(d=k(a.init,b),c=c.concat(d)),null!==a.test&&(d=k(a.test,b),c=c.concat(d)),null!==a.body&&(d=k(a.body,b),c=c.concat(d)),null!==a.update&&(d=k(a.update,b),c=c.concat(d)),c;case "IfStatement":return d=k(a.test,b),c=c.concat(d),null!==a.consequent&&(d=k(a.consequent,b),c=c.concat(d)),null!==a.alternate&&(d=k(a.alternate,
b),c=c.concat(d)),c;case "EmptyStatement":return c;case "BlockStatement":for(e=0;e<a.body.length;e++)d=k(a.body[e],b),c=c.concat(d);return c;case "ReturnStatement":return null!==a.argument?k(a.argument,b):c;case "UpdateExpression":return k(a.argument,b);case "AssignmentExpression":return c=k(a.left,b),c=c.concat(k(a.right,b));case "ExpressionStatement":return k(a.expression,b);case "BreakStatement":return c;case "ContinueStatement":return c;case "Compound":return c;case "Identifier":return c;case "MemberExpression":if("Identifier"!==
a.object.type)return c;if(!1===a.computed)c.push(a.object.name.toLowerCase()+"."+a.property.name.toLowerCase());else try{"Literal"===a.property.type&&"string"===typeof a.property.value&&c.push(a.object.name.toLowerCase()+"."+a.property.value.toString().toLowerCase())}catch(C){}return c;case "Literal":return c;case "ThisExpression":return c;case "CallExpression":for(e=0;e<a.arguments.length;e++)d=k(a.arguments[e],b),c=c.concat(d);return c;case "ArrayExpression":for(e=0;e<a.elements.length;e++)d=k(a.elements[e],
b),c=c.concat(d);return c;case "UnaryExpression":return k(a.argument,b);case "ObjectExpression":for(e=0;e<a.properties.length;e++)d=k(a.properties[e],b),c=c.concat(d);return c;case "Property":return k(a.value,b);case "BinaryExpression":return d=k(a.left,b),c=c.concat(d),d=k(a.right,b),c=c.concat(d);case "LogicalExpression":return d=k(a.left,b),c=c.concat(d),d=k(a.right,b),c=c.concat(d);case "ConditionalExpression":return c;case "Array":return c;default:return c}}catch(C){throw C;}}function g(a,b,
c){c=[];if(void 0!==b.params&&null!==b.params)for(var d=0;d<b.params.length;d++)c.push("any");return{name:a,return:"any",params:c}}function f(a,b){b={globalScope:b.globalScope,localScope:{}};for(var c=0;c<a.params.length;c++)b.localScope[a.params[c].name.toLowerCase()]={type:"any"};return n(a.body,b)}function v(a,b,c,d){var e={};if(void 0===a||null===a)a={};if(void 0===c||null===c)c={};e.infinity={type:"any"};e.textformatting={type:"any"};e.pi={type:"any"};for(var f in b)if("simple"!==d||"simple"===
d&&"a"===b[f].av)e[f]={type:"FormulaFunction",signature:{min:b[f].min,max:b[f].max}},"simple"!==d&&(void 0!==b[f].fmin&&(e[f].signature.min=b[f].fmin),void 0!==b[f].fmax&&(e[f].signature.max=b[f].fmax));for(b=0;b<c.length;b++)f=c[b],e[f.name]={type:"FormulaFunction",signature:f};for(f in a)e[f]=a[f],e[f].type="any";return e}function x(a,b,c){var d="";switch(b){case "SYNTAX":d="Syntax Error: ";break;case "RUNTIME":d="Runtime Error: ";break;default:d="Syntax Error: "}try{switch(a.type){case "IfStatement":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":d+=
" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":d+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":d+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":d+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":d+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(c){case "GLOBALFUNCTIONSONLY":d+=
" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":d+=" Function Definition must have an identifier"}break;case "VariableDeclaration":d+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(c){case "FUNCTIONVARIABLEDECLARATOR":d+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":d+=" Variable Definition must have an identifier"}break;case "Identifier":d+=" Identifier Not Found. ";d+=a.name;break;case "ObjectExpression":switch(c){case "OBJECTPROPERTYMUSTBESTRING":d+=
" Property name must be a string"}break;case "ForStatement":switch(c){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":d+=" Non Boolean used as Condition"}break;case "ForInStatement":switch(c){case "ONLY1VAR":d+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":d+=" Can only declare value for use with IN";break;case "LEFTNOVAR":d+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":d+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":d+=
"This type cannot be used in an IN loop"}break;case "MemberExpression":switch(c){case "PROPERTYNOTFOUND":d+="Cannot find member property. ";d+=!1===a.computed?a.property.name:"";break;case "OUTOFBOUNDS":d+="Out of Bounds. ";d+=!1===a.computed?a.property.name:"";break;case "NOTFOUND":d+="Cannot call member method on null. ";d+=!1===a.computed?a.property.name:"";break;case "INVALIDTYPE":d+="Cannot call member property on object of this type. ",d+=!1===a.computed?a.property.name:""}break;case "Property":switch(c){case "ONLYLITERAL":d+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "ThisExpression":d+="THIS construct is not supported.";case "CallExpression":switch(c){case "WRONGSIGNATURE":d+="Function signature does not match: ";d+=a.callee.name;break;case "ONLYNODESUPPORTED":d+="Functions must be declared.";d+=a.callee.name;break;case "NOTAFUNCTION":d+="Not a Function: ";d+=a.callee.name;break;case "NOTFOUND":d+="Function Not Found: "+a.callee.name}break;case "UnaryExpression":switch(c){case "NOTSUPPORTEDUNARYOPERATOR":d+=
"Operator "+a.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":d+="Unary operator "+a.operator+" cannot be used with this argument."}case "BinaryExpression":switch(c){case "OPERATORNOTRECOGNISED":d+="Binary Operator not recognised "+a.operator}break;case "LogicalExpression":switch(c){case "ONLYBOOLEAN":d+="Operator "+a.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":d+="Logical Expression "+
a.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":d+="Conditional statements not supported.";break;case "ArrayExpression":switch(c){case "FUNCTIONCONTEXTILLEGAL":d+=" Cannot Put Function inside Array."}break;case "Array":d+="Expression contains unrecognised array structure.";break;default:d+="Expression contains unrecognised code structures."}}catch(z){throw z;}return d}function p(a,b,c){return{line:a.loc.start.line,character:a.loc.start.column,reason:x(a,
b,c)}}function A(a,b,c,d,f){void 0===f&&(f=!0);b={globalScope:b.globalScope,localScope:{}};for(f=0;f<a.params.length;f++)b.localScope[a.params[f].name.toLowerCase()]={type:"any"};w(a.body,b,c,d,!1)}function w(a,b,c,f,k){void 0===k&&(k=!0);if(null===a)throw Error("Unnexpexted Expression Syntax");var e=null;try{switch(a.type){case "VariableDeclarator":if(null!==a.init&&"FunctionExpression"===a.init.type){f.push(p(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==a.id.type?f.push(p(a,"SYNTAX",
"VARIABLEMUSTHAVEIDENTIFIER")):(a.id.name.toLowerCase(),null===b.localScope?b.globalScope[a.id.name.toLowerCase()]={type:"any"}:b.localScope[a.id.name.toLowerCase()]={type:"any"});null===a.init?"":w(a.init,b,c,f,k);break;case "FunctionDeclaration":!1===k&&f.push(p(a,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==a.id.type&&f.push(p(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));e=g("",a,b);A(a,b,c,f,k);null!==b.localScope&&f.push(p(a,"SYNTAX","GLOBALFUNCTIONSONLY"));e.isnative=!1;"Identifier"===a.id.type&&
(b.globalScope[a.id.name.toLowerCase()]={type:"FormulaFunction",signature:[e]});break;case "VariableDeclaration":for(var h=0;h<a.declarations.length;h++)w(a.declarations[h],b,c,f,k);break;case "IfStatement":null!==a.test&&(w(a.test,b,c,f,k),"AssignmentExpression"!==a.test.type&&"UpdateExpression"!==a.test.type||f.push(p(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==a.consequent&&w(a.consequent,b,c,f,k);null!==a.alternate&&w(a.alternate,b,c,f,k);break;case "EmptyStatement":break;case "BlockStatement":if(null!==
a.body)for(h=0;h<a.body.length;h++)w(a.body[h],b,c,f,k);break;case "ReturnStatement":null!==a.argument&&w(a.argument,b,c,f,k);break;case "ForInStatement":"VariableDeclaration"===a.left.type?(1<a.left.declarations.length&&f.push(p(a,"SYNTAX","ONLY1VAR")),null!==a.left.declarations[0].init&&f.push(p(a,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==a.left.type&&f.push(p(a,"SYNTAX","LEFTNOTVAR"));w(a.left,b,c,f,k);w(a.right,b,c,f,k);w(a.body,b,c,f,k);break;case "ForStatement":null!==a.init&&w(a.init,b,
c,f,k);null!==a.test&&w(a.test,b,c,f,k);null!==a.body&&w(a.body,b,c,f,k);null!==a.update&&w(a.update,b,c,f,k);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type?f.push(p(a,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===a.argument.type&&(e=!1,!1===c&&(null!==b.localScope&&void 0!==b.localScope[a.argument.name.toLowerCase()]&&(e=!0),void 0!==b.globalScope[a.argument.name.toLowerCase()]&&(e=
!0),!1===e&&f.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."}))),"MemberExpression"===a.argument.type&&w(a.argument,b,c,f,k));break;case "AssignmentExpression":"Identifier"!==a.left.type&&"MemberExpression"!==a.left.type&&f.push(p(a,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:f.push(p(a,"SYNTAX","OPERATORNOTRECOGNISED"))}w(a.right,
b,c,f,k);e=!1;"Identifier"===a.left.type&&(null!==b.localScope&&void 0!==b.localScope[a.left.name.toLowerCase()]&&(e=!0),void 0!==b.globalScope[a.left.name.toLowerCase()]&&(e=!0),!1===c&&!1===e&&f.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."}));"MemberExpression"===a.left.type&&w(a.left,b,c,f,k);break;case "ExpressionStatement":w(a.expression,b,c,f,k);break;case "Identifier":var l=a.name.toLowerCase();
if(null!==b.localScope&&void 0!==b.localScope[l])break;void 0===b.globalScope[l]&&!1===c&&f.push(p(a,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":w(a.object,b,c,f,k);!0===a.computed&&w(a.property,b,c,f,k);break;case "Literal":return"";case "ThisExpression":f.push(p(a,"SYNTAX","NOTSUPPORTED"));break;case "CallExpression":"Identifier"!==a.callee.type&&f.push(p(a,"SYNTAX","ONLYNODESSUPPORTED"));for(h=0;h<a.arguments.length;h++)w(a.arguments[h],b,c,f,k);var m=d(a.callee.name,a.arguments,
b);!1===c&&-1===m&&f.push(p(a,"SYNTAX","NOTFOUND"));-2===m&&f.push(p(a,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":w(a.argument,b,c,f,k);break;case "BinaryExpression":w(a.left,b,c,f,k);w(a.right,b,c,f,k);switch(a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:f.push(p(a,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(a.operator){case "\x26\x26":case "||":break;
default:f.push(p(a,"SYNTAX","OPERATORNOTRECOGNISED"))}w(a.left,b,c,f,k);"AssignmentExpression"!==a.left.type&&"UpdateExpression"!==a.left.type||f.push(p(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));w(a.right,b,c,f,k);"AssignmentExpression"!==a.right.type&&"UpdateExpression"!==a.right.type||f.push(p(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":f.push(p(a,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(h=0;h<a.elements.length;h++)w(a.elements[h],
b,c,f,k);break;case "Array":f.push(p(a,"SYNTAX","NOTSUPPORTED"));case "ObjectExpression":for(h=0;h<a.properties.length;h++)w(a.properties[h],b,c,f,k);break;case "Property":"Literal"!==a.key.type&&"Identifier"!==a.key.type&&f.push(p(a,"SYNTAX","ONLYLITERAL"));"Literal"===a.key.type&&w(a.key,b,c,f,k);w(a.value,b,c,f,k);break;default:f.push(p(a,"SYNTAX","UNRECOGNISED"))}}catch(E){f.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Unnexpected Syntax"})}}function y(a,
b){var c=[],d;try{switch(a.type){case "VariableDeclarator":return null!==a.init?y(a.init,b):c;case "FunctionDeclaration":return y(a.body,b);case "VariableDeclaration":for(var e=0;e<a.declarations.length;e++)d=y(a.declarations[e],b),c=c.concat(d);return c;case "ForInStatement":return d=y(a.left,b),c=c.concat(d),d=y(a.right,b),c=c.concat(d),d=y(a.body,b),c=c.concat(d);case "ForStatement":return null!==a.init&&(d=y(a.init,b),c=c.concat(d)),null!==a.test&&(d=y(a.test,b),c=c.concat(d)),null!==a.body&&
(d=y(a.body,b),c=c.concat(d)),null!==a.update&&(d=y(a.update,b),c=c.concat(d)),c;case "IfStatement":return d=y(a.test,b),c=c.concat(d),null!==a.consequent&&(d=y(a.consequent,b),c=c.concat(d)),null!==a.alternate&&(d=y(a.alternate,b),c=c.concat(d)),c;case "EmptyStatement":return c;case "BlockStatement":for(e=0;e<a.body.length;e++)d=y(a.body[e],b),c=c.concat(d);return c;case "ReturnStatement":return null!==a.argument?y(a.argument,b):c;case "UpdateExpression":return y(a.argument,b);case "AssignmentExpression":return c=
y(a.left,b),c=c.concat(y(a.right,b));case "ExpressionStatement":return y(a.expression,b);case "BreakStatement":return c;case "ContinueStatement":return c;case "Compound":return c;case "Identifier":return c;case "MemberExpression":return c;case "Literal":return c;case "ThisExpression":return c;case "CallExpression":for(e=0;e<a.arguments.length;e++)d=y(a.arguments[e],b),c=c.concat(d);c.push(a.callee.name.toLowerCase());return c;case "ArrayExpression":for(e=0;e<a.elements.length;e++)d=y(a.elements[e],
b),c=c.concat(d);return c;case "UnaryExpression":return y(a.argument,b);case "ObjectExpression":for(e=0;e<a.properties.length;e++)d=y(a.properties[e],b),c=c.concat(d);return c;case "Property":return y(a.value,b);case "BinaryExpression":return d=y(a.left,b),c=c.concat(d),d=y(a.right,b),c=c.concat(d);case "LogicalExpression":return d=y(a.left,b),c=c.concat(d),d=y(a.right,b),c=c.concat(d);case "ConditionalExpression":return c;case "Array":return c;default:return c}}catch(C){throw C;}}Object.defineProperty(b,
"__esModule",{value:!0});b.functionDecls={concatenate:{min:"0",max:"*",av:"a"},split:{min:"2",max:"4",av:"a"},guid:{min:"0",max:"1",av:"a"},today:{min:"0",max:"0",av:"a"},now:{min:"0",max:"0",av:"a"},timestamp:{min:"0",max:"0",av:"a"},day:{min:"1",max:"1",av:"a"},month:{min:"1",max:"1",av:"a"},year:{min:"1",max:"1",av:"a"},hour:{min:"1",max:"1",av:"a"},second:{min:"1",max:"1",av:"a"},millisecond:{min:"1",max:"1",av:"a"},minute:{min:"1",max:"1",av:"a"},weekday:{min:"1",max:"1",av:"a"},toutc:{min:"1",
max:"1",av:"a"},tolocal:{min:"1",max:"1",av:"a"},date:{min:"0",max:"7",av:"a"},datediff:{min:"2",max:"3",av:"a"},dateadd:{min:"2",max:"3",av:"a"},trim:{min:"1",max:"1",av:"a"},text:{min:"1",max:"2",av:"a"},left:{min:"2",max:"2",av:"a"},right:{min:"2",max:"2",av:"a"},mid:{min:"2",max:"3",av:"a"},upper:{min:"1",max:"1",av:"a"},proper:{min:"1",max:"2",av:"a"},lower:{min:"1",max:"1",av:"a"},find:{min:"2",max:"3",av:"a"},iif:{min:"3",max:"3",av:"a"},decode:{min:"2",max:"*",av:"a"},when:{min:"2",max:"*",
av:"a"},defaultvalue:{min:"2",max:"2",av:"a"},isempty:{min:"1",max:"1",av:"a"},domaincode:{min:"3",max:"4",av:"a"},domainname:{min:"2",max:"4",av:"a"},polygon:{min:"1",max:"1",av:"a"},point:{min:"1",max:"1",av:"a"},polyline:{min:"1",max:"1",av:"a"},extent:{min:"1",max:"1",av:"a"},multipoint:{min:"1",max:"1",av:"a"},geometry:{min:"1",max:"1",av:"a"},count:{min:"0",max:"*",av:"a"},number:{min:"1",max:"2",av:"a"},acos:{min:"1",max:"1",av:"a"},asin:{min:"1",max:"1",av:"a"},atan:{min:"1",max:"1",av:"a"},
atan2:{min:"2",max:"2",av:"a"},ceil:{min:"1",max:"2",av:"a"},floor:{min:"1",max:"2",av:"a"},round:{min:"1",max:"2",av:"a"},cos:{min:"1",max:"1",av:"a"},exp:{min:"1",max:"1",av:"a"},log:{min:"1",max:"1",av:"a"},min:{min:"0",max:"*",av:"a"},constrain:{min:"3",max:"3",av:"a"},console:{min:"0",max:"*",av:"a"},max:{min:"0",max:"*",av:"a"},pow:{min:"2",max:"2",av:"a"},random:{min:"0",max:"0",av:"a"},sqrt:{min:"1",max:"1",av:"a"},sin:{min:"1",max:"1",av:"a"},tan:{min:"1",max:"1",av:"a"},abs:{min:"1",max:"1",
av:"a"},isnan:{min:"1",max:"1",av:"a"},stdev:{min:"0",max:"*",av:"a"},average:{min:"0",max:"*",av:"a"},mean:{min:"0",max:"*",av:"a"},sum:{min:"0",max:"*",av:"a"},variance:{min:"0",max:"*",av:"a"},distinct:{min:"0",max:"*",av:"a"},first:{min:"1",max:"1",av:"a"},top:{min:"2",max:"2",av:"a"},boolean:{min:"1",max:"1",av:"a"},dictionary:{min:"0",max:"*",av:"a"},typeof:{min:"1",max:"1",av:"a"},reverse:{min:"1",max:"1",av:"a"},replace:{min:"3",max:"4",av:"a"},sort:{min:"1",max:"2",av:"a"},feature:{min:"1",
max:"*",av:"a"},haskey:{min:"2",max:"2",av:"a"},indexof:{min:"2",max:"2",av:"a"},disjoint:{min:"2",max:"2",av:"a"},intersects:{min:"2",max:"2",av:"a"},touches:{min:"2",max:"2",av:"a"},crosses:{min:"2",max:"2",av:"a"},within:{min:"2",max:"2",av:"a"},contains:{min:"2",max:"2",av:"a"},overlaps:{min:"2",max:"2",av:"a"},equals:{min:"2",max:"2",av:"a"},relate:{min:"3",max:"3",av:"a"},intersection:{min:"2",max:"2",av:"a"},union:{min:"1",max:"2",av:"a"},difference:{min:"2",max:"2",av:"a"},symmetricdifference:{min:"2",
max:"2",av:"a"},clip:{min:"2",max:"2",av:"a"},cut:{min:"2",max:"2",av:"a"},area:{min:"1",max:"2",av:"a"},areageodetic:{min:"1",max:"2",av:"a"},length:{min:"1",max:"2",av:"a"},lengthgeodetic:{min:"1",max:"2",av:"a"},distance:{min:"2",max:"3",av:"a"},densify:{min:"2",max:"3",av:"a"},densifygeodetic:{min:"2",max:"3",av:"a"},generalize:{min:"2",max:"4",av:"a"},buffer:{min:"2",max:"3",av:"a"},buffergeodetic:{min:"2",max:"3",av:"a"},offset:{min:"2",max:"6",av:"a"},rotate:{min:"2",max:"3",av:"a"},issimple:{min:"1",
max:"1",av:"a"},simplify:{min:"1",max:"1",av:"a"},centroid:{min:"1",max:"1",av:"a"},multiparttosinglepart:{min:"1",max:"1",av:"a"},setgeometry:{min:"2",max:"2",av:"a"}};b.addFunctionDeclaration=function(a,c){var d=b.functionDecls[a.name.toLowerCase()];void 0===d?b.functionDecls[a.name.toLowerCase()]={min:a.min,max:a.max,av:c}:"a"===d.av&&"f"===c?(void 0!==d.fmin&&delete d.fmin,void 0!==d.fmax&&delete d.fmax,d.fmin=a.min,d.fmax=a.max):"f"===d.av&&"a"===c?(void 0===d.fmin&&(d.fmin=d.min),void 0===d.fmax&&
(d.fmax=d.max),d.min=a.min,d.max=a.max,d.av="a"):"f"===c?(d.fmin=a.min,d.fmax=a.max):"a"===c&&(d.min=a.min,d.max=a.max)};b.checkFunctionSignature=r;b.findFunction=d;b.validateLanguageNode=h;b.testValidityOfExpression=n;b.referencesMemberImpl=m;b.referencesMember=function(a,b){return!0===m(a.body[0].body,b.toLowerCase())?!0:!1};b.referencesFunctionImpl=c;b.referencesFunction=function(a,b){return!0===c(a.body[0].body,b)?!0:!1};b.findFieldLiteralsImpl=k;b.findFieldLiterals=function(a,b){return k(a.body[0].body,
b)};b.extractFunctionDeclaration=g;b.validateFunction=f;b.constructGlobalScope=v;b.validateScript=function(a,c,d){void 0===d&&(d="full");c={globalScope:v(c.vars,b.functionDecls,c.customFunctions,d),localScope:null};return n(a.body[0].body,c)};b.validateLanguage=function(a){return"BlockStatement"!==a.body[0].body.type?"Invalid formula content.":h(a.body[0].body)};b.nodeErrorMessage=x;b.makeError=p;b.extractAllIssuesInFunction=A;b.extractAllIssues=w;b.checkScript=function(a,c,d,f){void 0===f&&(f="full");
var e=[];if("BlockStatement"!==a.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===c||void 0===c)c={vars:{},customFunctions:[]};c={globalScope:v(c.vars,b.functionDecls,c.customFunctions,f),localScope:null};try{w(a.body[0].body,c,d,e)}catch(C){}return e};b.findFunctionCallsImpl=y;b.findFunctionCalls=function(a,b){return y(a.body[0].body,b)}})},"esri/arcade/functions/date":function(){define(["require","exports","../../moment","../languageUtils"],function(a,b,r,d){function h(a){return null===
a?a:isNaN(a.getTime())?null:a}Object.defineProperty(b,"__esModule",{value:!0});b.registerFunctions=function(a,b){a.today=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,0,0);a=new Date;a.setHours(0,0,0,0);return a})};a.now=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,0,0);return new Date})};a.timestamp=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,0,0);a=new Date;return a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),
a.getUTCMilliseconds())})};a.toutc=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?null:new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())})};a.tolocal=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?null:r.utc([a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]).toDate()})};
a.day=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getDate()})};a.month=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getMonth()})};a.year=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getFullYear()})};a.hour=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getHours()})};a.second=function(a,
k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getSeconds()})};a.millisecond=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getMilliseconds()})};a.minute=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getMinutes()})};a.weekday=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,1,1);a=d.toDate(c[0]);return null===a?NaN:a.getDay()})};a.date=function(a,
k){return b(a,k,function(a,b,c){d.pcCheck(c,0,7);if(3===c.length)return h(new Date(d.toNumber(c[0]),d.toNumber(c[1]),d.toNumber(c[2]),0,0,0,0));if(4===c.length)return h(new Date(d.toNumber(c[0]),d.toNumber(c[1]),d.toNumber(c[2]),d.toNumber(c[3]),0,0,0));if(5===c.length)return h(new Date(d.toNumber(c[0]),d.toNumber(c[1]),d.toNumber(c[2]),d.toNumber(c[3]),d.toNumber(c[4]),0,0));if(6===c.length)return h(new Date(d.toNumber(c[0]),d.toNumber(c[1]),d.toNumber(c[2]),d.toNumber(c[3]),d.toNumber(c[4]),d.toNumber(c[5]),
0));if(7===c.length)return h(new Date(d.toNumber(c[0]),d.toNumber(c[1]),d.toNumber(c[2]),d.toNumber(c[3]),d.toNumber(c[4]),d.toNumber(c[5]),d.toNumber(c[6])));if(2===c.length){a=d.toString(c[1]);if(""===a)return null;a=d.standardiseDateFormat(a);c=r(d.toString(c[0]),a,!0);return!0===c.isValid()?c.toDate():null}if(1===c.length){if(d.isString(c[0])&&""===c[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;a=d.toNumber(c[0]);return!1===isNaN(a)?h(new Date(a)):d.toDate(c[0])}if(0===c.length)return new Date})};
a.datediff=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,2,3);a=d.toDateM(c[0]);b=d.toDateM(c[1]);if(null===a||null===b)return NaN;switch(d.toString(c[2]).toLowerCase()){case "days":case "day":case "d":return a.diff(b,"days",!0);case "months":case "month":return a.diff(b,"months",!0);case "minutes":case "minute":case "m":return"M"===c[2]?a.diff(b,"months",!0):a.diff(b,"minutes",!0);case "seconds":case "second":case "s":return a.diff(b,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return a.diff(b);
case "hours":case "hour":case "h":return a.diff(b,"hours",!0);case "years":case "year":case "y":return a.diff(b,"years",!0);default:return a.diff(b)}})};a.dateadd=function(a,k){return b(a,k,function(a,b,c){d.pcCheck(c,2,3);a=d.toDateM(c[0]);if(null===a)return null;b="milliseconds";switch(d.toString(c[2]).toLowerCase()){case "days":case "day":case "d":b="days";break;case "months":case "month":b="months";break;case "minutes":case "minute":case "m":b="M"===c[2]?"months":"minutes";break;case "seconds":case "second":case "s":b=
"seconds";break;case "milliseconds":case "millisecond":case "ms":b="milliseconds";break;case "hours":case "hour":case "h":b="hours";break;case "years":case "year":case "y":b="years"}a.add(d.toNumber(c[1]),b);return a.toDate()})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../Dictionary ../Feature ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v){Object.defineProperty(b,"__esModule",{value:!0});b.registerFunctions=function(a,b){a.polygon=function(a,c){return b(a,c,function(b,c,e){h.pcCheck(e,1,1);b=null;if(e[0]instanceof r){if(b=h.fixSpatialReference(d.parseGeometryFromDictionary(e[0]),a.spatialReference),!1===b instanceof g)throw Error("Illegal Parameter");}else b=e[0]instanceof g?v.fromJSON(e[0].toJSON()):h.fixSpatialReference(new g(JSON.parse(e[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return h.fixNullGeometry(b)})};a.polyline=function(a,c){return b(a,c,function(b,c,e){h.pcCheck(e,1,1);b=null;if(e[0]instanceof r){if(b=h.fixSpatialReference(d.parseGeometryFromDictionary(e[0]),a.spatialReference),!1===b instanceof f)throw Error("Illegal Parameter");}else b=e[0]instanceof f?v.fromJSON(e[0].toJSON()):h.fixSpatialReference(new f(JSON.parse(e[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return h.fixNullGeometry(b)})};a.point=function(a,c){return b(a,c,function(b,c,e){h.pcCheck(e,1,1);b=null;if(e[0]instanceof r){if(b=h.fixSpatialReference(d.parseGeometryFromDictionary(e[0]),a.spatialReference),!1===b instanceof k)throw Error("Illegal Parameter");}else b=e[0]instanceof k?v.fromJSON(e[0].toJSON()):h.fixSpatialReference(new k(JSON.parse(e[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return h.fixNullGeometry(b)})};a.multipoint=function(a,f){return b(a,f,function(b,f,e){h.pcCheck(e,1,1);b=null;if(e[0]instanceof r){if(b=h.fixSpatialReference(d.parseGeometryFromDictionary(e[0]),a.spatialReference),!1===b instanceof c)throw Error("Illegal Parameter");}else b=e[0]instanceof c?v.fromJSON(e[0].toJSON()):h.fixSpatialReference(new c(JSON.parse(e[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return h.fixNullGeometry(b)})};a.extent=function(a,m){return b(a,m,function(b,m,e){e=h.autoCastFeatureToGeometry(e);h.pcCheck(e,1,1);b=null;e[0]instanceof r?b=h.fixSpatialReference(d.parseGeometryFromDictionary(e[0]),a.spatialReference):e[0]instanceof k?(b={xmin:e[0].x,ymin:e[0].y,xmax:e[0].x,ymax:e[0].y,spatialReference:e[0].spatialReference.toJSON()},e[0].hasZ?(b.zmin=e[0].z,b.zmax=e[0].z):e[0].hasM&&(b.mmin=e[0].m,b.mmax=e[0].m),b=v.fromJSON(b)):b=e[0]instanceof g?v.fromJSON(e[0].extent.toJSON()):
e[0]instanceof f?v.fromJSON(e[0].extent.toJSON()):e[0]instanceof c?v.fromJSON(e[0].extent.toJSON()):e[0]instanceof n?v.fromJSON(e[0].toJSON()):h.fixSpatialReference(new n(JSON.parse(e[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return h.fixNullGeometry(b)})};a.geometry=function(a,c){return b(a,c,function(b,c,e){h.pcCheck(e,1,1);b=null;b=e[0]instanceof
d?h.fixSpatialReference(e[0].geometry(),a.spatialReference):e[0]instanceof r?h.fixSpatialReference(d.parseGeometryFromDictionary(e[0]),a.spatialReference):h.fixSpatialReference(v.fromJSON(JSON.parse(e[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return h.fixNullGeometry(b)})};a.setgeometry=function(a,c){return b(a,c,function(a,b,c){h.pcCheck(c,
2,2);if(c[0]instanceof d){if(!0===c[0].immutable)throw Error("Feature is Immutable");if(c[1]instanceof m||null===c[1])c[0]._geometry=c[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return h.voidOperation})};a.feature=function(a,c){return b(a,c,function(b,c,e){if(0===e.length)throw Error("Missing Parameters");b=null;if(1===e.length)if(h.isString(e[0]))b=d.fromJson(JSON.parse(e[0]));else if(e[0]instanceof d)b=d.createFromArcadeFeature(e[0]);else if(e[0]instanceof m)b=
d.createFromGraphicLikeObject(e[0],null,null);else if(e[0]instanceof r)b=e[0].hasField("geometry")?e[0].field("geometry"):null,c=e[0].hasField("attributes")?e[0].field("attributes"):null,null!==b&&b instanceof r&&(b=d.parseGeometryFromDictionary(b)),null!==c&&(c=d.parseAttributesFromDictionary(c)),b=d.createFromGraphicLikeObject(b,c,null);else throw Error("Illegal Argument");else{if(2===e.length){c=b=null;if(null!==e[0])if(e[0]instanceof m)b=e[0];else if(b instanceof r)b=d.parseGeometryFromDictionary(e[0]);
else throw Error("Illegal Argument");if(null!==e[1])if(e[1]instanceof r)c=d.parseAttributesFromDictionary(e[1]);else throw Error("Illegal Argument");}else{b=null;c={};if(null!==e[0])if(e[0]instanceof m)b=e[0];else if(b instanceof r)b=d.parseGeometryFromDictionary(e[0]);else throw Error("Illegal Argument");for(var f=1;f<e.length;f+=2){var g=h.toString(e[f]),k=e[f+1];if(null===k||void 0===k||h.isString(k)||isNaN(k)||h.isDate(k)||h.isNumber(k)||h.isBoolean(k)){if(h.isFunctionParameter(k)||!1===h.isSimpleType(k))throw Error("Illegal Argument");
c[g]=k===h.voidOperation?null:k}else throw Error("Illegal Argument");}}b=d.createFromGraphicLikeObject(b,c,null)}b._geometry=h.fixSpatialReference(b.geometry(),a.spatialReference);b.immutable=!1;return b})};a.dictionary=function(a,c){return b(a,c,function(a,b,c){if(0===c.length)throw Error("Missing Parameters");if(0!==c.length%2)throw Error("Missing Parameters");a={};for(b=0;b<c.length;b+=2){var d=h.toString(c[b]),e=c[b+1];if(null===e||void 0===e||h.isString(e)||isNaN(e)||h.isDate(e)||h.isNumber(e)||
h.isBoolean(e)||h.isArray(e)||h.isImmutableArray(e)){if(h.isFunctionParameter(e))throw Error("Illegal Argument");a[d]=e===h.voidOperation?null:e}else throw Error("Illegal Argument");}c=new r(a);c.immutable=!1;return c})};a.haskey=function(a,c){return b(a,c,function(a,b,c){h.pcCheck(c,2,2);a=h.toString(c[1]);if(c[0]instanceof d||c[0]instanceof r)return c[0].hasField(a);throw Error("Illegal Argument");})};a.indexof=function(a,c){return b(a,c,function(a,b,c){h.pcCheck(c,2,2);a=c[1];if(h.isArray(c[0])){for(b=
0;b<c[0].length;b++)if(h.equalityTest(a,c[0][b]))return b;return-1}if(h.isImmutableArray(c[0])){var d=c[0].length();for(b=0;b<d;b++)if(h.equalityTest(a,c[0].get(b)))return b;return-1}throw Error("Illegal Argument");})}}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x){function p(a){return y?a.clone():x.fromJSON(a.toJSON())}function A(a){return 0===r.version.indexOf("4.")?f.fromExtent(a):new f({spatialReference:a.spatialReference,rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]})}Object.defineProperty(b,"__esModule",{value:!0});var w=null,y=0===r.version.indexOf("4.");b.setGeometryEngine=function(a){w=a};b.registerFunctions=function(a,b){function e(a){h.pcCheck(a,2,2);if(!(a[0]instanceof
c&&a[1]instanceof c||a[0]instanceof c&&null===a[1]||a[1]instanceof c&&null===a[0]||null===a[0]&&null===a[1]))throw Error("Illegal Argument");}a.disjoint=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!0:w.disjoint(c[0],c[1])})};a.intersects=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:w.intersects(c[0],c[1])})};a.touches=function(a,c){return b(a,c,function(a,b,c){c=
h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:w.touches(c[0],c[1])})};a.crosses=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:w.crosses(c[0],c[1])})};a.within=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:w.within(c[0],c[1])})};a.contains=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||
null===c[1]?!1:w.contains(c[0],c[1])})};a.overlaps=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:w.overlaps(c[0],c[1])})};a.equals=function(a,d){return b(a,d,function(a,b,d){h.pcCheck(d,2,2);return d[0]===d[1]?!0:d[0]instanceof c&&d[1]instanceof c?w.equals(d[0],d[1]):h.isDate(d[0])&&h.isDate(d[1])?d[0].getTime()===d[1].getTime():!1})};a.relate=function(a,d){return b(a,d,function(a,b,d){d=h.autoCastFeatureToGeometry(d);h.pcCheck(d,
3,3);if(d[0]instanceof c&&d[1]instanceof c)return w.relate(d[0],d[1],h.toString(d[2]));if(d[0]instanceof c&&null===d[1]||d[1]instanceof c&&null===d[0]||null===d[0]&&null===d[1])return!1;throw Error("Illegal Argument");})};a.intersection=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?null:w.intersect(c[0],c[1])})};a.union=function(a,d){return b(a,d,function(b,d,f){f=h.autoCastFeatureToGeometry(f);b=[];if(0===f.length)throw Error("Function called with wrong number of Parameters");
if(1===f.length)if(h.isArray(f[0]))for(f=h.autoCastFeatureToGeometry(f[0]),d=0;d<f.length;d++){if(null!==f[d])if(f[d]instanceof c)b.push(f[d]);else throw Error("Illegal Argument");}else if(h.isImmutableArray(f[0]))for(f=h.autoCastFeatureToGeometry(f[0].toArray()),d=0;d<f.length;d++){if(null!==f[d])if(f[d]instanceof c)b.push(f[d]);else throw Error("Illegal Argument");}else{if(f[0]instanceof c)return h.fixSpatialReference(p(f[0]),a.spatialReference);if(null===f[0])return null;throw Error("Illegal Argument");
}else for(d=0;d<f.length;d++)if(null!==f[d])if(f[d]instanceof c)b.push(f[d]);else throw Error("Illegal Argument");return 0===b.length?null:w.union(b)})};a.difference=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null!==c[0]&&null===c[1]?p(c[0]):null===c[0]?null:w.difference(c[0],c[1])})};a.symmetricdifference=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);e(c);return null===c[0]&&null===c[1]?null:null===c[0]?p(c[1]):null===c[1]?
p(c[0]):w.symmetricDifference(c[0],c[1])})};a.clip=function(a,d){return b(a,d,function(a,b,d){d=h.autoCastFeatureToGeometry(d);h.pcCheck(d,2,2);if(!(d[1]instanceof m)&&null!==d[1])throw Error("Illegal Argument");if(null===d[0])return null;if(!(d[0]instanceof c))throw Error("Illegal Argument");return null===d[1]?null:w.clip(d[0],d[1])})};a.cut=function(a,d){return b(a,d,function(a,b,d){d=h.autoCastFeatureToGeometry(d);h.pcCheck(d,2,2);if(!(d[1]instanceof v)&&null!==d[1])throw Error("Illegal Argument");
if(null===d[0])return[];if(!(d[0]instanceof c))throw Error("Illegal Argument");return null===d[1]?[p(d[0])]:w.cut(d[0],d[1])})};a.area=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,1,2);if(null===f[0])return 0;if(!(f[0]instanceof c))throw Error("Illegal Argument");return w.planarArea(f[0],d.convertSquareUnitsToCode(h.defaultUndefined(f[1],-1)))})};a.areageodetic=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,1,2);if(null===
f[0])return 0;if(!(f[0]instanceof c))throw Error("Illegal Argument");return w.geodesicArea(f[0],d.convertSquareUnitsToCode(h.defaultUndefined(f[1],-1)))})};a.length=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,1,2);if(null===f[0])return 0;if(!(f[0]instanceof c))throw Error("Illegal Argument");return w.planarLength(f[0],d.convertLinearUnitsToCode(h.defaultUndefined(f[1],-1)))})};a.lengthgeodetic=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);
h.pcCheck(f,1,2);if(null===f[0])return 0;if(!(f[0]instanceof c))throw Error("Illegal Argument");return w.geodesicLength(f[0],d.convertLinearUnitsToCode(h.defaultUndefined(f[1],-1)))})};a.distance=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,2,3);if(!(f[0]instanceof c))throw Error("Illegal Argument");if(!(f[1]instanceof c))throw Error("Illegal Argument");return w.distance(f[0],f[1],d.convertLinearUnitsToCode(h.defaultUndefined(f[2],-1)))})};a.densify=function(a,
e){return b(a,e,function(a,b,e){e=h.autoCastFeatureToGeometry(e);h.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");a=h.toNumber(e[1]);if(isNaN(a))throw Error("Illegal Argument");if(0>=a)throw Error("Illegal Argument");return e[0]instanceof f||e[0]instanceof v?w.densify(e[0],a,d.convertLinearUnitsToCode(h.defaultUndefined(e[2],-1))):e[0]instanceof m?w.densify(A(e[0]),a,d.convertLinearUnitsToCode(h.defaultUndefined(e[2],-1))):e[0]})};a.densifygeodetic=
function(a,e){return b(a,e,function(a,b,e){e=h.autoCastFeatureToGeometry(e);h.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");a=h.toNumber(e[1]);if(isNaN(a))throw Error("Illegal Argument");if(0>=a)throw Error("Illegal Argument");return e[0]instanceof f||e[0]instanceof v?w.geodesicDensify(e[0],a,d.convertLinearUnitsToCode(h.defaultUndefined(e[2],-1))):e[0]instanceof m?w.geodesicDensify(A(e[0]),a,d.convertLinearUnitsToCode(h.defaultUndefined(e[2],-1))):
e[0]})};a.generalize=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,2,4);if(null===f[0])return null;if(!(f[0]instanceof c))throw Error("Illegal Argument");a=h.toNumber(f[1]);if(isNaN(a))throw Error("Illegal Argument");return w.generalize(f[0],a,h.toBoolean(h.defaultUndefined(f[2],!0)),d.convertLinearUnitsToCode(h.defaultUndefined(f[3],-1)))})};a.buffer=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,2,3);if(null===f[0])return null;
if(!(f[0]instanceof c))throw Error("Illegal Argument");a=h.toNumber(f[1]);if(isNaN(a))throw Error("Illegal Argument");return 0===a?p(f[0]):w.buffer(f[0],a,d.convertLinearUnitsToCode(h.defaultUndefined(f[2],-1)))})};a.buffergeodetic=function(a,f){return b(a,f,function(a,b,f){f=h.autoCastFeatureToGeometry(f);h.pcCheck(f,2,3);if(null===f[0])return null;if(!(f[0]instanceof c))throw Error("Illegal Argument");a=h.toNumber(f[1]);if(isNaN(a))throw Error("Illegal Argument");return 0===a?p(f[0]):w.geodesicBuffer(f[0],
a,d.convertLinearUnitsToCode(h.defaultUndefined(f[2],-1)))})};a.offset=function(a,c){return b(a,c,function(a,b,c){c=h.autoCastFeatureToGeometry(c);h.pcCheck(c,2,6);if(null===c[0])return null;if(!(c[0]instanceof f||c[0]instanceof v))throw Error("Illegal Argument");a=h.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");b=h.toNumber(h.defaultUndefined(c[4],10));if(isNaN(b))throw Error("Illegal Argument");var e=h.toNumber(h.defaultUndefined(c[5],0));if(isNaN(e))throw Error("Illegal Argument");
return w.offset(c[0],a,d.convertLinearUnitsToCode(h.defaultUndefined(c[2],-1)),h.toString(h.defaultUndefined(c[3],"round")).toLowerCase(),b,e)})};a.rotate=function(a,d){return b(a,d,function(a,b,d){d=h.autoCastFeatureToGeometry(d);h.pcCheck(d,2,3);a=d[0];if(null===a)return null;if(!(a instanceof c))throw Error("Illegal Argument");a instanceof m&&(a=f.fromExtent(a));b=h.toNumber(d[1]);if(isNaN(b))throw Error("Illegal Argument");d=h.defaultUndefined(d[2],null);if(null===d)return w.rotate(a,b);if(d instanceof
g)return w.rotate(a,b,d);throw Error("Illegal Argument");})};a.centroid=function(a,d){return b(a,d,function(b,d,e){e=h.autoCastFeatureToGeometry(e);h.pcCheck(e,1,1);if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");return e[0]instanceof g?h.fixSpatialReference(p(e[0]),a.spatialReference):e[0]instanceof f?y?e[0].centroid:e[0].getCentroid():e[0]instanceof v?n.centroidPolyline(e[0]):e[0]instanceof k?n.centroidMultiPoint(e[0]):e[0]instanceof m?y?e[0].center:e[0].getExtent().getCenter():
null})};a.multiparttosinglepart=function(a,d){return b(a,d,function(b,d,e){e=h.autoCastFeatureToGeometry(e);h.pcCheck(e,1,1);d=[];if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");if(e[0]instanceof g||e[0]instanceof m)return[h.fixSpatialReference(p(e[0]),a.spatialReference)];b=w.simplify(e[0]);if(b instanceof f){d=[];var l=[];for(e=0;e<b.rings.length;e++)if(b.isClockwise(b.rings[e])){var n=x.fromJSON({rings:[b.rings[e]],hasZ:y?b.hasZ:!1,hasM:y?b.hasM:!1,spatialReference:y?
b.spatialReference.toJSON():b.spatialReference.toJson()});d.push(n)}else l.push({ring:b.rings[e],pt:b.getPoint(e,0)});for(b=0;b<l.length;b++)for(e=0;e<d.length;e++)if(d[e].contains(l[b].pt)){d[e].addRing(l[b].ring);break}return d}if(b instanceof v){d=[];for(e=0;e<b.paths.length;e++)l=x.fromJSON({paths:[b.paths[e]],hasZ:y?b.hasZ:!1,hasM:y?b.hasM:!1,spatialReference:y?b.spatialReference.toJSON():b.spatialReference.toJson()}),d.push(l);return d}if(e[0]instanceof k){b=h.fixSpatialReference(p(e[0]),a.spatialReference);
for(e=0;e<b.points.length;e++)d.push(b.getPoint(e));return d}return null})};a.issimple=function(a,d){return b(a,d,function(a,b,d){d=h.autoCastFeatureToGeometry(d);h.pcCheck(d,1,1);if(null===d[0])return!0;if(d[0]instanceof c)return w.isSimple(d[0]);throw Error("Illegal Argument");})};a.simplify=function(a,d){return b(a,d,function(a,b,d){d=h.autoCastFeatureToGeometry(d);h.pcCheck(d,1,1);if(null===d[0])return null;if(d[0]instanceof c)return w.simplify(d[0]);throw Error("Illegal Argument");})}}})},"esri/arcade/kernel":function(){define(["require",
"exports","../geometry/Extent"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});b.errback=function(a){return function(b){a.reject(b)}};b.callback=function(a,b){return function(){try{a.apply(null,arguments)}catch(n){b.reject(n)}}};b.convertSquareUnitsToCode=function(a){if(void 0===a)return null;if("number"===typeof a)return a;switch(a.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square_meters":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};
b.shapeExtent=function(a){if(null===a)return null;switch(a.type){case "polygon":case "multipoint":case "polyline":return a.extent;case "point":return new r({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});case "extent":return a}return null};b.convertLinearUnitsToCode=function(a){if(void 0===a)return null;if("number"===typeof a||"number"===typeof a)return a;switch(a.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;
case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};
b.sameGeomType=function(a,b){return a===b||"point"===a&&"esriGeometryPoint"===b||"polyline"===a&&"esriGeometryPolyline"===b||"polygon"===a&&"esriGeometryPolygon"===b||"extent"===a&&"esriGeometryEnvelope"===b||"multipoint"===a&&"esriGeometryMultipoint"===b||"point"===b&&"esriGeometryPoint"===a||"polyline"===b&&"esriGeometryPolyline"===a||"polygon"===b&&"esriGeometryPolygon"===a||"extent"===b&&"esriGeometryEnvelope"===a||"multipoint"===b&&"esriGeometryMultipoint"===a?!0:!1}})},"esri/arcade/functions/centroid":function(){define(["require",
"exports","../../kernel","../../geometry/Point"],function(a,b,r,d){function h(a,b,d){var c={x:0,y:0};b&&(c.z=0);d&&(c.m=0);for(var g=0,k=a[0],h=0;h<a.length;h++){var m=a[h],r;a:if(m.length!==k.length)r=!1;else{for(r=0;r<m.length;r++)if(m[r]!==k[r]){r=!1;break a}r=!0}if(!1===r){r=n(k,m,b);var y=m,u=b,e=d,l={x:(k[0]+y[0])/2,y:(k[1]+y[1])/2};u&&(l.z=(k[2]+y[2])/2);u&&e?l.m=(k[3]+y[3])/2:e&&(l.m=(k[2]+y[2])/2);k=l;k.x*=r;k.y*=r;c.x+=k.x;c.y+=k.y;b&&(k.z*=r,c.z+=k.z);d&&(k.m*=r,c.m+=k.m);g+=r;k=m}}0<g?
(c.x/=g,c.y/=g,b&&(c.z/=g),d&&(c.m/=g)):(c.x=a[0][0],c.y=a[0][1],b&&(c.z=a[0][2]),d&&b?c.m=a[0][3]:d&&(c.m=a[0][2]));return c}function n(a,b,d){var c=b[0]-a[0];a=b[1]-a[1];return d?(b=b[2]-b[2],Math.sqrt(c*c+a*a+b*b)):Math.sqrt(c*c+a*a)}Object.defineProperty(b,"__esModule",{value:!0});var m=0===r.version.indexOf("4.");b.centroidPolyline=function(a){for(var b={x:0,y:0,spatialReference:m?a.spatialReference.toJSON():a.spatialReference.toJson()},c={x:0,y:0,spatialReference:m?a.spatialReference.toJSON():
a.spatialReference.toJson()},f=0,r=0,x=0;x<a.paths.length;x++)if(0!==a.paths[x].length){var p;p=a.paths[x];var A=!0===a.hasZ;if(1>=p.length)p=0;else{for(var w=0,y=1;y<p.length;y++)w+=n(p[y-1],p[y],A);p=w}0===p?(A=h(a.paths[x],!0===a.hasZ,!0===a.hasM),b.x+=A.x,b.y+=A.y,!0===a.hasZ&&(b.z+=A.z),!0===a.hasM&&(b.m+=A.m),++f):(A=h(a.paths[x],!0===a.hasZ,!0===a.hasM),c.x+=A.x*p,c.y+=A.y*p,!0===a.hasZ&&(c.z+=A.z*p),!0===a.hasM&&(c.m+=A.m*p),r+=p)}return 0<r?(c.x/=r,c.y/=r,!0===a.hasZ&&(c.z/=r),!0===a.hasM&&
(c.m/=r),new d(c)):0<f?(b.x/=f,b.y/=f,!0===a.hasZ&&(c.z/=f),!0===a.hasM&&(b.m/=f),new d(b)):null};b.centroidMultiPoint=function(a){if(0===a.points.length)return null;for(var b=0,c=0,f=0,h=0,n=0;n<a.points.length;n++){var p=a.getPoint(n);!0===p.hasZ&&(f+=p.z);!0===p.hasM&&(h+=p.m);b+=p.x;c+=p.y;h+=p.m}b={x:b/a.points.length,y:c/a.points.length,spatialReference:null};b.spatialReference=m?a.spatialReference.toJSON():a.spatialReference.toJson();!0===a.hasZ&&(b.z=f/a.points.length);!0===a.hasM&&(b.m=h/
a.points.length);return new d(b)}})},"esri/arcade/functions/maths":function(){define(["require","exports","dojo/number","../languageUtils"],function(a,b,r,d){function h(a,b,c){if("undefined"===typeof c||0===+c)return Math[a](b);b=+b;c=+c;if(isNaN(b)||"number"!==typeof c||0!==c%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?+b[1]+c:c))}Object.defineProperty(b,"__esModule",{value:!0});b.registerFunctions=function(a,b){function c(a,
b,c){a=d.toNumber(a);return isNaN(a)?a:isNaN(b)||isNaN(c)||b>c?NaN:a<b?b:a>c?c:a}a.number=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,2);a=c[0];return d.isNumber(a)?a:null===a?0:d.isDate(a)||d.isBoolean(a)?Number(a):d.isArray(a)?NaN:""===a||void 0===a?Number(a):d.isString(a)?void 0!==c[1]?(c=d.multiReplace(c[1],"\u2030",""),c=d.multiReplace(c,"\u00a4",""),r.parse(a,{pattern:c})):Number(a.trim()):Number(a)})};a.abs=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.abs(d.toNumber(c[0]))})};
a.acos=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.acos(d.toNumber(c[0]))})};a.asin=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.asin(d.toNumber(c[0]))})};a.atan=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.atan(d.toNumber(c[0]))})};a.atan2=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,2);return Math.atan2(d.toNumber(c[0]),d.toNumber(c[1]))})};a.ceil=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,
1,2);return 2===c.length?(a=d.toNumber(c[1]),isNaN(a)&&(a=0),h("ceil",d.toNumber(c[0]),-1*a)):Math.ceil(d.toNumber(c[0]))})};a.round=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,2);return 2===c.length?(a=d.toNumber(c[1]),isNaN(a)&&(a=0),h("round",d.toNumber(c[0]),-1*a)):Math.round(d.toNumber(c[0]))})};a.floor=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,2);return 2===c.length?(a=d.toNumber(c[1]),isNaN(a)&&(a=0),h("floor",d.toNumber(c[0]),-1*a)):Math.floor(d.toNumber(c[0]))})};
a.cos=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.cos(d.toNumber(c[0]))})};a.isnan=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return"number"===typeof c[0]&&isNaN(c[0])})};a.exp=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.exp(d.toNumber(c[0]))})};a.log=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.log(d.toNumber(c[0]))})};a.pow=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,2);return Math.pow(d.toNumber(c[0]),
d.toNumber(c[1]))})};a.random=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,0,0);return Math.random()})};a.sin=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.sin(d.toNumber(c[0]))})};a.sqrt=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.sqrt(d.toNumber(c[0]))})};a.tan=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return Math.tan(d.toNumber(c[0]))})};a.defaultvalue=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,2);return null===
c[0]||""===c[0]||void 0===c[0]?c[1]:c[0]})};a.isempty=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return null===c[0]||""===c[0]||void 0===c[0]?!0:!1})};a["boolean"]=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return d.toBoolean(c[0])})};a.constrain=function(a,g){return b(a,g,function(a,b,g){d.pcCheck(g,3,3);a=d.toNumber(g[1]);b=d.toNumber(g[2]);if(d.isArray(g[0])){var f=[],k=0;for(g=g[0];k<g.length;k++)f.push(c(g[k],a,b));return f}if(d.isImmutableArray(g[0])){f=[];
for(k=0;k<g[0].length();k++)f.push(c(g[0].get(k),a,b));return f}return c(g[0],a,b)})}}})},"esri/arcade/functions/stats":function(){define(["require","exports","../languageUtils","./fieldStats"],function(a,b,r,d){function h(a,b,c,k){if(1===k.length){if(r.isArray(k[0]))return d.calculateStat(a,k[0],-1);if(r.isImmutableArray(k[0]))return d.calculateStat(a,k[0].toArray(),-1)}return d.calculateStat(a,k,-1)}Object.defineProperty(b,"__esModule",{value:!0});b.registerFunctions=function(a,b){a.stdev=function(a,
d){return b(a,d,function(a,b,c){return h("stdev",a,b,c)})};a.variance=function(a,d){return b(a,d,function(a,b,c){return h("variance",a,b,c)})};a.average=function(a,d){return b(a,d,function(a,b,c){return h("mean",a,b,c)})};a.mean=function(a,d){return b(a,d,function(a,b,c){return h("mean",a,b,c)})};a.sum=function(a,d){return b(a,d,function(a,b,c){return h("sum",a,b,c)})};a.min=function(a,d){return b(a,d,function(a,b,c){return h("min",a,b,c)})};a.max=function(a,d){return b(a,d,function(a,b,c){return h("max",
a,b,c)})};a.distinct=function(a,d){return b(a,d,function(a,b,c){return h("distinct",a,b,c)})};a.count=function(a,d){return b(a,d,function(a,b,c){r.pcCheck(c,1,1);if(r.isArray(c[0])||r.isString(c[0]))return c[0].length;if(r.isImmutableArray(c[0]))return c[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require","exports","../languageUtils"],function(a,b,r){function d(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b/a.length}function h(a){for(var b=
d(a),c=0,k=0;k<a.length;k++)c+=Math.pow(b-a[k],2);return c/a.length}Object.defineProperty(b,"__esModule",{value:!0});b.decodeStatType=function(a){switch(a.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};b.calculateStat=function(a,b,c){void 0===c&&(c=1E3);switch(a.toLowerCase()){case "distinct":a:{a=
c;c=[];for(var k={},g=[],f=0;f<b.length;f++){if(void 0!==b[f]&&null!==b[f]&&b[f]!==r.voidOperation){var m=b[f];if(r.isNumber(m)||r.isString(m))void 0===k[m]&&(c.push(m),k[m]=1);else{for(var n=!1,p=0;p<g.length;p++)!0===r.equalityTest(g[p],m)&&(n=!0);!1===n&&(g.push(m),c.push(m))}}if(c.length>=a&&-1!==a){b=c;break a}}b=c}return b;case "avg":case "mean":return d(r.toNumberArray(b));case "min":return Math.min.apply(Math,r.toNumberArray(b));case "sum":b=r.toNumberArray(b);for(c=a=0;c<b.length;c++)a+=
b[c];return a;case "max":return Math.max.apply(Math,r.toNumberArray(b));case "stdev":case "stddev":return Math.sqrt(h(r.toNumberArray(b)));case "var":case "variance":return h(r.toNumberArray(b));case "count":return b.length}return 0}})},"esri/arcade/functions/string":function(){define(["require","exports","../Feature","../languageUtils"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});b.registerFunctions=function(a,b){a.trim=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,
1,1);return d.toString(c[0]).trim()})};a.upper=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return d.toString(c[0]).toUpperCase()})};a.proper=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,2);a=1;2===c.length&&"firstword"===d.toString(c[1]).toLowerCase()&&(a=2);b=/\s/;c=d.toString(c[0]);for(var f="",g=!0,k=0;k<c.length;k++){var h=c[k];b.test(h)?1===a&&(g=!0):h.toUpperCase()!==h.toLowerCase()&&(g?(h=h.toUpperCase(),g=!1):h=h.toLowerCase());f+=h}return f})};a.lower=function(a,
c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);return d.toString(c[0]).toLowerCase()})};a.guid=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,0,1);if(0<c.length)switch(d.toString(c[0]).toLowerCase()){case "digits":return d.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return d.generateUUID();case "digits-hyphen-parentheses":return"("+d.generateUUID()+")"}return"{"+d.generateUUID()+"}"})};a.console=function(a,c){return b(a,c,function(b,
c,f){0!==f.length&&(1===f.length?a.console(d.toString(f[0])):a.console(d.toString(f)));return d.voidOperation})};a.mid=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,3);a=d.toNumber(c[1]);if(isNaN(a))return"";0>a&&(a=0);if(2===c.length)return d.toString(c[0]).substr(a);b=d.toNumber(c[2]);if(isNaN(b))return"";0>b&&(b=0);return d.toString(c[0]).substr(a,b)})};a.find=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,3);a=0;if(2<c.length){a=d.toNumber(d.defaultUndefined(c[2],0));if(isNaN(a))return-1;
0>a&&(a=0)}return d.toString(c[1]).indexOf(d.toString(c[0]),a)})};a.left=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,2);a=d.toNumber(c[1]);if(isNaN(a))return"";0>a&&(a=0);return d.toString(c[0]).substr(0,a)})};a.right=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,2);a=d.toNumber(c[1]);if(isNaN(a))return"";0>a&&(a=0);return d.toString(c[0]).substr(-1*a,a)})};a.split=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,4);a=d.toNumber(d.defaultUndefined(c[2],-1));b=d.toBoolean(d.defaultUndefined(c[3],
!1));-1===a||null===a||!0===b?c=d.toString(c[0]).split(d.toString(c[1])):(isNaN(a)&&(a=-1),-1>a&&(a=-1),c=d.toString(c[0]).split(d.toString(c[1]),a));if(!1===b)return c;b=[];for(var f=0;f<c.length&&!(-1!==a&&b.length>=a);f++)""!==c[f]&&void 0!==c[f]&&b.push(c[f]);return b})};a.text=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,2);return d.toStringExplicit(c[0],c[1])})};a.concatenate=function(a,c){return b(a,c,function(a,b,c){a=[];if(1>c.length)return"";if(d.isArray(c[0])){b=d.defaultUndefined(c[2],
"");for(var f=0;f<c[0].length;f++)a[f]=d.toStringExplicit(c[0][f],b);return 1<c.length?a.join(c[1]):a.join("")}if(d.isImmutableArray(c[0])){b=d.defaultUndefined(c[2],"");for(f=0;f<c[0].length();f++)a[f]=d.toStringExplicit(c[0].get(f),b);return 1<c.length?a.join(c[1]):a.join("")}for(f=0;f<c.length;f++)a[f]=d.toStringExplicit(c[f]);return a.join("")})};a.reverse=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,1,1);if(d.isArray(c[0]))return a=c[0].slice(0),a.reverse(),a;if(d.isImmutableArray(c[0]))return a=
c[0].toArray().slice(0),a.reverse(),a;throw Error("Invalid Parameter");})};a.replace=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,3,4);a=d.toString(c[0]);b=d.toString(c[1]);var f=d.toString(c[2]);return(4===c.length?d.toBoolean(c[3]):1)?d.multiReplace(a,b,f):a.replace(b,f)})};a.domainname=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,2,4);if(c[0]instanceof r)return c[0].domainValueLookup(d.toString(c[1]),c[2],void 0===c[3]?void 0:d.toNumber(c[3]));throw Error("Invalid Parameter");
})};a.domaincode=function(a,c){return b(a,c,function(a,b,c){d.pcCheck(c,3,4);if(c[0]instanceof r)return c[0].domainCodeLookup(d.toString(c[1]),c[2],void 0===c[3]?void 0:d.toNumber(c[3]));throw Error("Invalid Parameter");})}}})},"esri/arcade/arcadeRuntime":function(){define("require exports ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B,z){function C(a,b){for(var c=[],d=0;d<b.arguments.length;d++)c.push(G(a,b.arguments[d]));return c}function F(a,b,c){try{return c(a,b,C(a,b))}catch(sa){throw sa;}}function G(a,b){try{switch(b.type){case "EmptyStatement":return c.voidOperation;case "VariableDeclarator":var e=null===b.init?null:G(a,b.init);e===c.voidOperation&&(e=null);var f=b.id.name.toLowerCase();null!==a.localScope?a.localScope[f]={value:e,valueset:!0,node:b.init}:a.globalScope[f]=
{value:e,valueset:!0,node:b.init};return c.voidOperation;case "VariableDeclaration":for(var g=0;g<b.declarations.length;g++)G(a,b.declarations[g]);return c.voidOperation;case "BlockStatement":var l;a:{for(var m=c.voidOperation,g=0;g<b.body.length;g++)if(m=G(a,b.body[g]),m instanceof c.ReturnResult||m===c.breakResult||m===c.continueResult){l=m;break a}l=m}return l;case "FunctionDeclaration":var p=b.id.name.toLowerCase();a.globalScope[p]={valueset:!0,node:null,value:new h(b,a)};return c.voidOperation;
case "ReturnStatement":var n;if(null===b.argument)n=new c.ReturnResult(c.voidOperation);else{var u=G(a,b.argument);n=new c.ReturnResult(u)}return n;case "IfStatement":var v;if("AssignmentExpression"===b.test.type||"UpdateExpression"===b.test.type)throw Error(k.nodeErrorMessage(b.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var q=G(a,b.test);if(!0===q)v=G(a,b.consequent);else if(!1===q)v=null!==b.alternate?G(a,b.alternate):c.voidOperation;else throw Error(k.nodeErrorMessage(b,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));
return v;case "ExpressionStatement":var w;if("AssignmentExpression"===b.expression.type||"UpdateExpression"===b.expression.type)w=G(a,b.expression);else{var x=G(a,b.expression);w=x===c.voidOperation?c.voidOperation:new c.ImplicitResult(x)}return w;case "AssignmentExpression":var y;var z=G(a,b.right),g=null,A="";if("MemberExpression"===b.left.type){g=G(a,b.left.object);A=!0===b.left.computed?G(a,b.left.property):b.left.property.name;if(c.isArray(g))if(c.isNumber(A)){0>A&&(A=g.length+A);if(0>A||A>g.length)throw Error("Assignment outside of array bounds");
if(A===g.length&&"\x3d"!==b.operator)throw Error("Invalid Parameter");g[A]=E(z,b.operator,g[A],b)}else throw Error("Invalid Parameter");else if(g instanceof r){if(!1===c.isString(A))throw Error("Dictionary accessor must be a string");if(!0===g.hasField(A))g.setField(A,E(z,b.operator,g.field(A),b));else{if("\x3d"!==b.operator)throw Error("Invalid Parameter");g.setField(A,E(z,b.operator,null,b))}}else if(g instanceof d){if(!1===c.isString(A))throw Error("Feature accessor must be a string");if(!0===
g.hasField(A))g.setField(A,E(z,b.operator,g.field(A),b));else{if("\x3d"!==b.operator)throw Error("Invalid Parameter");g.setField(A,E(z,b.operator,null,b))}}else{if(c.isImmutableArray(g))throw Error("Array is Immutable");throw Error("Invalid Parameter");}y=c.voidOperation}else if(g=b.left.name.toLowerCase(),null!==a.localScope&&void 0!==a.localScope[g])a.localScope[g]={value:E(z,b.operator,a.localScope[g].value,b),valueset:!0,node:b.right},y=c.voidOperation;else if(void 0!==a.globalScope[g])a.globalScope[g]=
{value:E(z,b.operator,a.globalScope[g].value,b),valueset:!0,node:b.right},y=c.voidOperation;else throw Error("Variable not recognised");return y;case "UpdateExpression":var ka;var ba,g=null,A="";if("MemberExpression"===b.argument.type){g=G(a,b.argument.object);A=!0===b.argument.computed?G(a,b.argument.property):b.argument.property.name;if(c.isArray(g))if(c.isNumber(A)){0>A&&(A=g.length+A);if(0>A||A>=g.length)throw Error("Assignment outside of array bounds");ba=c.toNumber(g[A]);g[A]="++"===b.operator?
ba+1:ba-1}else throw Error("Invalid Parameter");else if(g instanceof r){if(!1===c.isString(A))throw Error("Dictionary accessor must be a string");if(!0===g.hasField(A))ba=c.toNumber(g.field(A)),g.setField(A,"++"===b.operator?ba+1:ba-1);else throw Error("Invalid Parameter");}else if(g instanceof d){if(!1===c.isString(A))throw Error("Feature accessor must be a string");if(!0===g.hasField(A))ba=c.toNumber(g.field(A)),g.setField(A,"++"===b.operator?ba+1:ba-1);else throw Error("Invalid Parameter");}else{if(c.isImmutableArray(g))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}ka=!1===b.prefix?ba:"++"===b.operator?ba+1:ba-1}else if(g=b.argument.name.toLowerCase(),null!==a.localScope&&void 0!==a.localScope[g])ba=c.toNumber(a.localScope[g].value),a.localScope[g]={value:"++"===b.operator?ba+1:ba-1,valueset:!0,node:b},ka=!1===b.prefix?ba:"++"===b.operator?ba+1:ba-1;else if(void 0!==a.globalScope[g])ba=c.toNumber(a.globalScope[g].value),a.globalScope[g]={value:"++"===b.operator?ba+1:ba-1,valueset:!0,node:b},ka=!1===b.prefix?ba:"++"===b.operator?
ba+1:ba-1;else throw Error("Variable not recognised");return ka;case "BreakStatement":return c.breakResult;case "ContinueStatement":return c.continueResult;case "ForStatement":null!==b.init&&G(a,b.init);A={testResult:!0,lastAction:c.voidOperation};do b:{y=a;z=b;ka=A;if(null!==z.test){ka.testResult=G(y,z.test);if(!1===ka.testResult)break b;if(!0!==ka.testResult)throw Error(k.nodeErrorMessage(z,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}ka.lastAction=G(y,z.body);ka.lastAction===c.breakResult?
ka.testResult=!1:ka.lastAction instanceof c.ReturnResult?ka.testResult=!1:null!==z.update&&G(y,z.update)}while(!0===A.testResult);g=A.lastAction instanceof c.ReturnResult?A.lastAction:c.voidOperation;return g;case "ForInStatement":return I(a,b);case "Identifier":return ja(a,b);case "MemberExpression":return ma(a,b);case "Literal":return b.value;case "ThisExpression":throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "CallExpression":return aa(a,b);case "UnaryExpression":return ga(a,
b);case "BinaryExpression":return X(a,b);case "LogicalExpression":return Q(a,b);case "ConditionalExpression":throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(g=[],A=0;A<b.elements.length;A++){var B=G(a,b.elements[A]);if(c.isFunctionParameter(B))throw Error(k.nodeErrorMessage(b,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));B===c.voidOperation?g.push(null):g.push(B)}}catch(Qa){throw Qa;}return g;case "ObjectExpression":g={};for(A=0;A<b.properties.length;A++){var C=G(a,
b.properties[A]);if(c.isFunctionParameter(C.value))throw Error("Illegal Argument");if(!1===c.isString(C.key))throw Error("Illegal Argument");g[C.key.toString()]=C.value===c.voidOperation?null:C.value}var F=new r(g);F.immutable=!1;return F;case "Property":return{key:"Identifier"===b.key.type?b.key.name:G(a,b.key),value:G(a,b.value)};case "Array":throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));default:throw Error(k.nodeErrorMessage(b,"RUNTIME","UNREOGNISED"));}}catch(Qa){throw Qa;}}function I(a,
b){var e=G(a,b.right);"VariableDeclaration"===b.left.type&&G(a,b.left);var f=null,g="VariableDeclaration"===b.left.type?b.left.declarations[0].id.name:b.left.name;null!==a.localScope&&void 0!==a.localScope[g]&&(f=a.localScope[g]);null===f&&void 0!==a.globalScope[g]&&(f=a.globalScope[g]);if(null===f)throw Error(k.nodeErrorMessage(b,"RUNTIME","VARIABLENOTDECLARED"));if(c.isArray(e)||c.isString(e)){for(var e=e.length,h=0;h<e&&(f.value=h,g=G(a,b.body),g!==c.breakResult);h++)if(g instanceof c.ReturnResult)return g;
return c.voidOperation}if(c.isImmutableArray(e)){for(h=0;h<e.length()&&(f.value=h,g=G(a,b.body),g!==c.breakResult);h++)if(g instanceof c.ReturnResult)return g;return c.voidOperation}if(e instanceof r||e instanceof d)for(e=e.keys(),h=0;h<e.length&&(f.value=e[h],g=G(a,b.body),g!==c.breakResult);h++){if(g instanceof c.ReturnResult)return g}else return c.voidOperation}function E(a,b,d,e){switch(b){case "\x3d":return a===c.voidOperation?null:a;case "/\x3d":return c.toNumber(d)/c.toNumber(a);case "*\x3d":return c.toNumber(d)*
c.toNumber(a);case "-\x3d":return c.toNumber(d)-c.toNumber(a);case "+\x3d":return c.isString(d)||c.isString(a)?c.toString(d)+c.toString(a):c.toNumber(d)+c.toNumber(a);case "%\x3d":return c.toNumber(d)%c.toNumber(a);default:throw Error(k.nodeErrorMessage(e,"RUNTIME","OPERATORNOTRECOGNISED"));}}function M(a,b,d,e){b=b.toLowerCase();switch(b){case "hasz":return a=a.hasZ,void 0===a?!1:a;case "hasm":return a=a.hasM,void 0===a?!1:a;case "spatialreference":return b=a.spatialReference._arcadeCacheId,void 0===
b&&(d=!0,Object.freeze&&Object.isFrozen(a.spatialReference)&&(d=!1),d&&(U++,b=a.spatialReference._arcadeCacheId=U)),a=new r({wkt:a.spatialReference.wkt,wkid:a.spatialReference.wkid}),void 0!==b&&(a._arcadeCacheId="SPREF"+b.toString()),a}switch(a.type){case "extent":switch(b){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return a=a[b],void 0!==a?a:null;case "type":return"Extent"}break;case "polygon":switch(b){case "rings":return b=c.isVersion4?a.cache._arcadeCacheId:
a.getCacheValue("_arcadeCacheId"),void 0===b&&(U++,b=U,c.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new n(a.rings,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polygon"}break;case "point":switch(b){case "x":case "y":case "z":case "m":return void 0!==a[b]?a[b]:null;case "type":return"Point"}break;case "polyline":switch(b){case "paths":return b=c.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(U++,b=U,c.isVersion4?a.cache._arcadeCacheId=
b:a.setCacheValue("_arcadeCacheId",b)),a=new n(a.paths,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polyline"}break;case "multipoint":switch(b){case "points":return b=c.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(U++,b=U,c.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new m(a.points,a.spatialReference,!0===a.hasZ,!0===a.hasM,b,1);case "type":return"Multipoint"}}throw Error(k.nodeErrorMessage(e,"RUNTIME","PROPERTYNOTFOUND"));
}function ma(a,b){try{var e=G(a,b.object);if(null===e)throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));if(!1===b.computed){if(e instanceof r||e instanceof d)return e.field(b.property.name);if(e instanceof y)return M(e,b.property.name,a,b);throw Error(k.nodeErrorMessage(b,"RUNTIME","INVALIDTYPE"));}var f=G(a,b.property);if(e instanceof r||e instanceof d){if(c.isString(f))return e.field(f)}else if(e instanceof y){if(c.isString(f))return M(e,f,a,b)}else if(c.isArray(e)){if(c.isNumber(f)&&isFinite(f)&&
Math.floor(f)===f){0>f&&(f=e.length+f);if(f>=e.length||0>f)throw Error(k.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return e[f]}}else if(c.isString(e)){if(c.isNumber(f)&&isFinite(f)&&Math.floor(f)===f){0>f&&(f=e.length+f);if(f>=e.length||0>f)throw Error(k.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return e[f]}}else if(c.isImmutableArray(e)&&c.isNumber(f)&&isFinite(f)&&Math.floor(f)===f){0>f&&(f=e.length()+f);if(f>=e.length()||0>f)throw Error(k.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return e.get(f)}throw Error(k.nodeErrorMessage(b,
"RUNTIME","INVALIDTYPE"));}catch(Ma){throw Ma;}}function ga(a,b){try{var d=G(a,b.argument);if(c.isBoolean(d)){if("!"===b.operator)return!d;if("-"===b.operator)return-1*c.toNumber(d);if("+"===b.operator)return 1*c.toNumber(d);throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===b.operator)return-1*c.toNumber(d);if("+"===b.operator)return 1*c.toNumber(d);throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(sa){throw sa;}}function X(a,b){try{var d=
[G(a,b.left),G(a,b.right)],e=d[0],f=d[1];switch(b.operator){case "\x3d\x3d":return c.equalityTest(e,f);case "\x3d":return c.equalityTest(e,f);case "!\x3d":return!c.equalityTest(e,f);case "\x3c":return c.greaterThanLessThan(e,f,b.operator);case "\x3e":return c.greaterThanLessThan(e,f,b.operator);case "\x3c\x3d":return c.greaterThanLessThan(e,f,b.operator);case "\x3e\x3d":return c.greaterThanLessThan(e,f,b.operator);case "+":return c.isString(e)||c.isString(f)?c.toString(e)+c.toString(f):c.toNumber(e)+
c.toNumber(f);case "-":return c.toNumber(e)-c.toNumber(f);case "*":return c.toNumber(e)*c.toNumber(f);case "/":return c.toNumber(e)/c.toNumber(f);case "%":return c.toNumber(e)%c.toNumber(f);default:throw Error(k.nodeErrorMessage(b,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Ga){throw Ga;}}function Q(a,b){try{if("AssignmentExpression"===b.left.type||"UpdateExpression"===b.left.type)throw Error(k.nodeErrorMessage(b.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===b.right.type||
"UpdateExpression"===b.right.type)throw Error(k.nodeErrorMessage(b.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var d=G(a,b.left);if(c.isBoolean(d))switch(b.operator){case "||":if(!0===d)return d;var e=G(a,b.right);if(c.isBoolean(e))return e;throw Error(k.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===d)return d;e=G(a,b.right);if(c.isBoolean(e))return e;throw Error(k.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));default:throw Error(k.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));
}else throw Error(k.nodeErrorMessage(b,"RUNTIME","ONLYBOOLEAN"));}catch(Ma){throw Ma;}}function ja(a,b){var c;try{var d=b.name.toLowerCase();if(null!==a.localScope&&void 0!==a.localScope[d])return c=a.localScope[d],!0!==c.valueset&&(c.value=G(a,c.node),c.valueset=!0),c.value;if(void 0!==a.globalScope[d])return c=a.globalScope[d],!0!==c.valueset&&(c.value=G(a,c.node),c.valueset=!0),c.value;throw Error(k.nodeErrorMessage(b,"RUNTIME","VARIABLENOTFOUND"));}catch(Ma){throw Ma;}}function aa(a,b){try{if("Identifier"!==
b.callee.type)throw Error(k.nodeErrorMessage(b,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==a.localScope&&void 0!==a.localScope[b.callee.name.toLowerCase()]){var d=a.localScope[b.callee.name.toLowerCase()];if(d.value instanceof c.NativeFunction)return d.value.fn(a,b);if(d.value instanceof h)return V(a,b,d.value.definition);throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTAFUNCTION"));}if(void 0!==a.globalScope[b.callee.name.toLowerCase()]){d=a.globalScope[b.callee.name.toLowerCase()];if(d.value instanceof
c.NativeFunction)return d.value.fn(a,b);if(d.value instanceof h)return V(a,b,d.value.definition);throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTAFUNCTION"));}throw Error(k.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));}catch(sa){throw sa;}}function ra(a){return null==a?"":c.isArray(a)||c.isImmutableArray(a)?"Array":c.isDate(a)?"Date":c.isString(a)?"String":c.isBoolean(a)?"Boolean":c.isNumber(a)?"Number":a instanceof r?"Dictionary":a instanceof d?"Feature":a instanceof e?"Point":a instanceof l?"Polygon":
a instanceof B?"Polyline":a instanceof u?"Multipoint":a instanceof w?"Extent":c.isFunctionParameter(a)?"Function":a===c.voidOperation?"":"number"===typeof a&&isNaN(a)?"Number":"Unrecognised Type"}function S(a,b,d,e){try{var f=G(a,b.arguments[d]);if(c.equalityTest(f,e))return G(a,b.arguments[d+1]);var g=b.arguments.length-d;return 1===g?G(a,b.arguments[d]):2===g?null:3===g?G(a,b.arguments[d+2]):S(a,b,d+2,e)}catch(Ha){throw Ha;}}function J(a,b,d,e){try{if(!0===e)return G(a,b.arguments[d+1]);if(3===
b.arguments.length-d)return G(a,b.arguments[d+2]);var f=G(a,b.arguments[d+2]);if(!1===c.isBoolean(f))throw Error("WHEN needs boolean test conditions");return J(a,b,d+2,f)}catch(Ga){throw Ga;}}function Y(a,b){var c=a.length,d=Math.floor(c/2);if(0===c)return[];if(1===c)return[a[0]];var e=Y(a.slice(0,d),b);a=Y(a.slice(d,c),b);for(c=[];0<e.length||0<a.length;)0<e.length&&0<a.length?(d=b(e[0],a[0]),isNaN(d)&&(d=0),0>=d?(c.push(e[0]),e=e.slice(1)):(c.push(a[0]),a=a.slice(1))):0<e.length?(c.push(e[0]),e=
e.slice(1)):0<a.length&&(c.push(a[0]),a=a.slice(1));return c}function O(a,b,d){try{var e=a.body;if(d.length!==a.params.length)throw Error("Invalid Parameter calls to function.");for(var f=0;f<d.length;f++)b.localScope[a.params[f].name.toLowerCase()]={value:d[f],valueset:!0,node:null};var g=G(b,e);if(g instanceof c.ReturnResult)return g.value;if(g===c.breakResult)throw Error("Cannot Break from a Function");if(g===c.continueResult)throw Error("Cannot Continue from a Function");return g instanceof c.ImplicitResult?
g.value:g}catch(Ha){throw Ha;}}function V(a,b,c){return F(a,b,function(b,d,e){b={spatialReference:a.spatialReference,applicationCache:void 0===a.applicationCache?null:a.applicationCache,globalScope:a.globalScope,depthCounter:a.depthCounter+1,console:a.console,localScope:{}};if(64<b.depthCounter)throw Error("Exceeded maximum function depth");return O(c,b,e)})}function T(a){return function(){var b={applicationCache:void 0===a.context.applicationCache?null:a.context.applicationCache,spatialReference:a.context.spatialReference,
console:a.context.console,localScope:{},depthCounter:a.context.depthCounter+1,globalScope:a.context.globalScope};if(64<b.depthCounter)throw Error("Exceeded maximum function depth");return O(a.definition,b,arguments)}}function fa(a){console.log(a)}Object.defineProperty(b,"__esModule",{value:!0});var U=0,W={};g.registerFunctions(W,F);A.registerFunctions(W,F);x.registerFunctions(W,F);f.registerFunctions(W,F);p.registerFunctions(W,F);v.registerFunctions(W,F);W["typeof"]=function(a,b){return F(a,b,function(a,
b,d){c.pcCheck(d,1,1);a=ra(d[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};W.iif=function(a,b){try{c.pcCheck(null===b.arguments?[]:b.arguments,3,3);var d=G(a,b.arguments[0]);if(!1===c.isBoolean(d))throw Error("IF Function must have a boolean test condition");return!0===d?G(a,b.arguments[1]):G(a,b.arguments[2])}catch(sa){throw sa;}};W.decode=function(a,b){try{if(2>b.arguments.length)throw Error("Missing Parameters");if(2===b.arguments.length)return G(a,b.arguments[1]);
if(0===(b.arguments.length-1)%2)throw Error("Must have a default value result.");var c=G(a,b.arguments[0]);return S(a,b,1,c)}catch(sa){throw sa;}};W.when=function(a,b){try{if(3>b.arguments.length)throw Error("Missing Parameters");if(0===b.arguments.length%2)throw Error("Must have a default value result.");var d=G(a,b.arguments[0]);if(!1===c.isBoolean(d))throw Error("WHEN needs boolean test conditions");return J(a,b,0,d)}catch(sa){throw sa;}};W.top=function(a,b){return F(a,b,function(a,b,d){c.pcCheck(d,
2,2);if(c.isArray(d[0]))return c.toNumber(d[1])>=d[0].length?d[0].slice(0):d[0].slice(0,c.toNumber(d[1]));if(c.isImmutableArray(d[0]))return c.toNumber(d[1])>=d[0].length()?d[0].slice(0):d[0].slice(0,c.toNumber(d[1]));throw Error("Top cannot accept this parameter type");})};W.first=function(a,b){return F(a,b,function(a,b,d){c.pcCheck(d,1,1);return c.isArray(d[0])?0===d[0].length?null:d[0][0]:c.isImmutableArray(d[0])?0===d[0].length()?null:d[0].get(0):null})};W.sort=function(a,b){return F(a,b,function(a,
b,d){c.pcCheck(d,1,2);a=d[0];c.isImmutableArray(a)&&(a=a.toArray());if(!1===c.isArray(a))throw Error("Illegal Argument");if(1<d.length){if(!1===c.isFunctionParameter(d[1]))throw Error("Illegal Argument");var e=T(d[1]);a=Y(a,function(a,b){return e(a,b)})}else{if(0===a.length)return[];d={};for(b=0;b<a.length;b++){var f=ra(a[b]);""!==f&&(d[f]=!0)}if(!0===d.Array||!0===d.Dictionary||!0===d.Feature||!0===d.Point||!0===d.Polygon||!0===d.Polyline||!0===d.Multipoint||!0===d.Extent||!0===d.Function)return a.slice(0);
b=0;var f="",g;for(g in d)b++,f=g;a=1<b||"String"===f?Y(a,function(a,b){if(null===a||void 0===a||a===c.voidOperation)return null===b||void 0===b||b===c.voidOperation?0:1;if(null===b||void 0===b||b===c.voidOperation)return-1;a=c.toString(a);b=c.toString(b);return a<b?-1:a===b?0:1}):"Number"===f?Y(a,function(a,b){return a-b}):"Boolean"===f?Y(a,function(a,b){return a===b?0:b?-1:1}):"Date"===f?Y(a,function(a,b){return b-a}):a.slice(0)}return a})};for(var la in W)W[la]={value:new c.NativeFunction(W[la]),
valueset:!0,node:null};var na=function(){};na.prototype=W;na.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};na.prototype.pi={value:Math.PI,valueset:!0,node:null};b.functionHelper={fixSpatialReference:c.fixSpatialReference,parseArguments:C,standardFunction:F};b.extend=function(a){for(var b={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:F,evaluateIdentifier:ja,arcadeCustomFunctionHandler:T},d=0;d<a.length;d++)a[d].registerFunctions(b);for(var e in b.functions)W[e]=
{value:new c.NativeFunction(b.functions[e]),valueset:!0,node:null},na.prototype[e]=W[e];for(d=0;d<b.signatures.length;d++)k.addFunctionDeclaration(b.signatures[d],"f")};b.executeScript=function(a,b,e){e||(e=new z(102100));var f=b.vars,g=b.customfunctions,k=new na;f||(f={});g||(g={});var l=new r({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});l.immutable=!1;k.textformatting={value:l,valueset:!0,node:null};for(var m in g)k[m]={value:new c.NativeFunction(g[m]),
native:!0,valueset:!0,node:null};for(m in f)k[m]=f[m]&&"esri.Graphic"===f[m].declaredClass?{value:d.createFromGraphic(f[m]),valueset:!0,node:null}:{value:f[m],valueset:!0,node:null};a=G({spatialReference:e,globalScope:k,localScope:null,console:b.console?b.console:fa,depthCounter:1,applicationCache:void 0===b.applicationCache?null:b.applicationCache},a.body[0].body);a instanceof c.ReturnResult&&(a=a.value);a instanceof c.ImplicitResult&&(a=a.value);a===c.voidOperation&&(a=null);if(a===c.breakResult)throw Error("Cannot return BREAK");
if(a===c.continueResult)throw Error("Cannot return CONTINUE");if(a instanceof h)throw Error("Cannot return FUNCTION");if(a instanceof c.NativeFunction)throw Error("Cannot return FUNCTION");return a};b.extractFieldLiterals=function(a,b){void 0===b&&(b=!1);return k.findFieldLiterals(a,b)};b.validateScript=function(a,b){return k.validateScript(a,b,"simple")};b.referencesMember=function(a,b){return k.referencesMember(a,b)};b.referencesFunction=function(a,b){return k.referencesFunction(a,b)};b.findFunctionCalls=
function(a){return k.findFunctionCalls(a,!1)}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/esprima"],function(a,b,r,d){Object.defineProperty(b,"__esModule",{value:!0});b.parseScript=function(a){a=d.parse("function _() { "+a+"\n}");if(null===a.body||void 0===a.body)throw Error("No formula provided.");if(0===a.body.length)throw Error("No formula provided.");if(0===a.body.length)throw Error("No formula provided.");if("BlockStatement"!==a.body[0].body.type)throw Error("Invalid formula content.");
var b=r.validateLanguage(a);if(""!==b)throw Error(b);return a};b.scriptCheck=function(a,b,m,c){var k=[];try{var g=d.parse("function _() { "+a+"\n}",{tolerant:!0,loc:!0}),f=g.errors;if(0<f.length)for(var h=0;h<f.length;h++)k.push({line:f[h].lineNumber,character:f[h].column,reason:f[h].description});var n=r.checkScript(g,b,m,c);for(b=0;b<n.length;b++)k.push(n[b])}catch(p){try{"Unexpected token }"===p.description?(p.index=("function _() { "+a+"\n}").length-1,k.push({line:p.lineNumber,character:p.column,
reason:"Unexpected end of script"})):k.push({line:p.lineNumber,character:p.column,reason:p.description})}catch(A){}}return k};b.extractFieldLiterals=function(a,b){void 0===b&&(b=!1);return r.findFieldLiterals(a,b)};b.validateScript=function(a,b,d){void 0===d&&(d="full");return r.validateScript(a,b,d)};b.referencesMember=function(a,b){return r.referencesMember(a,b)};b.referencesFunction=function(a,b){return r.referencesFunction(a,b)}})},"esri/arcade/lib/esprima":function(){(function(a,b){"function"===
typeof define&&define.amd?define(["exports"],b):"undefined"!==typeof exports?b(exports):b(a.esprima={})})(this,function(a){function b(a,b){if(!a)throw Error("ASSERT: "+b);}function r(a){return 48<=a&&57>=a}function d(a){return 0<="0123456789abcdefABCDEF".indexOf(a)}function h(a){return 0<="01234567".indexOf(a)}function n(a){return 10===a||13===a||8232===a||8233===a}function m(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||92===a||128<=a&&cb.NonAsciiIdentifierStart.test(String.fromCharCode(a))}
function c(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a||92===a||128<=a&&cb.NonAsciiIdentifierPart.test(String.fromCharCode(a))}function k(a){a=a.toLowerCase();switch(a.length){case 2:return"if"===a||"in"===a;case 3:return"var"===a||"for"===a;case 4:return"else"===a;case 5:return"break"===a;case 6:return"return"===a;case 8:return"function"===a.toLowerCase()||"continue"===a;default:return!1}}function g(a,c,d,e,f){b("number"===typeof d,"Comment must have valid position");ca.lastCommentStart>=
d||(ca.lastCommentStart=d,a={type:a,value:c},L.range&&(a.range=[d,e]),L.loc&&(a.loc=f),L.comments.push(a),L.attachComment&&(L.leadingComments.push(a),L.trailingComments.push(a)))}function f(a){var b,c,d;b=D-a;for(c={start:{line:da,column:D-ia-a}};D<ta;)if(d=K.charCodeAt(D),++D,n(d)){L.comments&&(a=K.slice(b+a,D-1),c.end={line:da,column:D-ia-1},g("Line",a,b,D-1,c));13===d&&10===K.charCodeAt(D)&&++D;++da;ia=D;return}L.comments&&(a=K.slice(b+a,D),c.end={line:da,column:D-ia},g("Line",a,b,D,c))}function v(){var a,
b;for(b=0===D;D<ta;)if(a=K.charCodeAt(D),32===a||9===a||11===a||12===a||160===a||5760<=a&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a))++D;else if(n(a))++D,13===a&&10===K.charCodeAt(D)&&++D,++da,ia=D,b=!0;else if(47===a)if(a=K.charCodeAt(D+1),47===a)++D,++D,f(2),b=!0;else if(42===a){++D;++D;a:{var c=a=void 0,d=void 0,d=void 0;L.comments&&(a=D-2,c={start:{line:da,column:D-ia-2}});for(;D<ta;)if(d=K.charCodeAt(D),n(d))13===d&&10===K.charCodeAt(D+
1)&&++D,++da,++D,ia=D,D>=ta&&aa();else{if(42===d&&47===K.charCodeAt(D+1)){++D;++D;L.comments&&(d=K.slice(a+2,D-2),c.end={line:da,column:D-ia},g("Block",d,a,D,c));break a}++D}aa()}}else break;else if(b&&45===a)if(45===K.charCodeAt(D+1)&&62===K.charCodeAt(D+2))D+=3,f(3);else break;else if(60===a)if("!--"===K.slice(D+1,D+4))++D,++D,++D,++D,f(4);else break;else break}function x(a){var b,c,e=0;b="u"===a?4:2;for(a=0;a<b;++a)if(D<ta&&d(K[D]))c=K[D++],e=16*e+"0123456789abcdef".indexOf(c.toLowerCase());else return"";
return String.fromCharCode(e)}function p(){var a,b;a=K.charCodeAt(D++);b=String.fromCharCode(a);92===a&&(117!==K.charCodeAt(D)&&aa(),++D,(a=x("u"))&&"\\"!==a&&m(a.charCodeAt(0))||aa(),b=a);for(;D<ta;){a=K.charCodeAt(D);if(!c(a))break;++D;b+=String.fromCharCode(a);92===a&&(b=b.substr(0,b.length-1),117!==K.charCodeAt(D)&&aa(),++D,(a=x("u"))&&"\\"!==a&&c(a.charCodeAt(0))||aa(),b+=a)}return b}function A(){var a=D,b=K.charCodeAt(D),c,d=K[D];switch(b){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++D,
L.tokenize&&(40===b?L.openParenToken=L.tokens.length:123===b&&(L.openCurlyToken=L.tokens.length)),{type:R.Punctuator,value:String.fromCharCode(b),lineNumber:da,lineStart:ia,start:a,end:D};default:if(c=K.charCodeAt(D+1),61===c)switch(b){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return D+=2,{type:R.Punctuator,value:String.fromCharCode(b)+String.fromCharCode(c),lineNumber:da,lineStart:ia,start:a,end:D};case 33:case 61:return D+=2,61===K.charCodeAt(D)&&++D,{type:R.Punctuator,
value:K.slice(a,D),lineNumber:da,lineStart:ia,start:a,end:D}}}b=K.substr(D,4);if("\x3e\x3e\x3e\x3d"===b)return D+=4,{type:R.Punctuator,value:b,lineNumber:da,lineStart:ia,start:a,end:D};b=b.substr(0,3);if("\x3e\x3e\x3e"===b||"\x3c\x3c\x3d"===b||"\x3e\x3e\x3d"===b)return D+=3,{type:R.Punctuator,value:b,lineNumber:da,lineStart:ia,start:a,end:D};b=b.substr(0,2);if(d===b[1]&&0<="+-\x3c\x3e\x26|".indexOf(d)||"\x3d\x3e"===b)return D+=2,{type:R.Punctuator,value:b,lineNumber:da,lineStart:ia,start:a,end:D};
if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(d))return++D,{type:R.Punctuator,value:d,lineNumber:da,lineStart:ia,start:a,end:D};aa()}function w(){var a,c,e;e=K[D];b(r(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point");c=D;a="";if("."!==e){a=K[D++];e=K[D];if("0"===a){if("x"===e||"X"===e){++D;for(a="";D<ta&&d(K[D]);)a+=K[D++];0===a.length&&aa();m(K.charCodeAt(D))&&aa();return{type:R.NumericLiteral,value:parseInt("0x"+a,16),lineNumber:da,lineStart:ia,start:c,end:D}}if("b"===
e||"B"===e){++D;for(e="";D<ta;){a=K[D];if("0"!==a&&"1"!==a)break;e+=K[D++]}0===e.length&&aa();D<ta&&(a=K.charCodeAt(D),(m(a)||r(a))&&aa());return{type:R.NumericLiteral,value:parseInt(e,2),lineNumber:da,lineStart:ia,start:c,end:D}}if("o"===e||"O"===e){h(e)?(e=!0,a="0"+K[D++]):(e=!1,++D,a="");for(;D<ta&&h(K[D]);)a+=K[D++];e||0!==a.length||aa();(m(K.charCodeAt(D))||r(K.charCodeAt(D)))&&aa();return{type:R.NumericLiteral,value:parseInt(a,8),octal:e,lineNumber:da,lineStart:ia,start:c,end:D}}}for(;r(K.charCodeAt(D));)a+=
K[D++];e=K[D]}if("."===e){for(a+=K[D++];r(K.charCodeAt(D));)a+=K[D++];e=K[D]}if("e"===e||"E"===e){a+=K[D++];e=K[D];if("+"===e||"-"===e)a+=K[D++];if(r(K.charCodeAt(D)))for(;r(K.charCodeAt(D));)a+=K[D++];else aa()}m(K.charCodeAt(D))&&aa();return{type:R.NumericLiteral,value:parseFloat(a),lineNumber:da,lineStart:ia,start:c,end:D}}function y(){Z=null;v();X("Regular Expression language structures not supported")}function u(){v();y()}function e(){var a;a=L.tokens[L.tokens.length-1];if(!a)return u();if("Punctuator"===
a.type){if("]"===a.value)return A();if(")"===a.value)return a=L.tokens[L.openParenToken-1],!a||"Keyword"!==a.type||"if"!==a.value.toLowerCase()&&"while"!==a.value.toLowerCase()&&"for"!==a.value.toLowerCase()&&"with"!==a.value.toLowerCase()?A():u();if("}"===a.value){if(L.tokens[L.openCurlyToken-3]&&"Keyword"===L.tokens[L.openCurlyToken-3].type){if(a=L.tokens[L.openCurlyToken-4],!a)return A()}else if(L.tokens[L.openCurlyToken-4]&&"Keyword"===L.tokens[L.openCurlyToken-4].type){if(a=L.tokens[L.openCurlyToken-
5],!a)return u()}else return A();if(0<=Aa.indexOf(a.value))return A()}return u()}return"Keyword"===a.type&&"this"!==a.value?u():A()}function l(){var a;v();if(D>=ta)return{type:R.EOF,lineNumber:da,lineStart:ia,start:D,end:D};a=K.charCodeAt(D);if(m(a)){var f;a=D;if(92===K.charCodeAt(D))f=p();else a:{var g;for(f=D++;D<ta;){g=K.charCodeAt(D);if(92===g){D=f;f=p();break a}if(c(g))++D;else break}f=K.slice(f,D)}return{type:1===f.length?R.Identifier:k(f)?R.Keyword:"null"===f.toLowerCase()?R.NullLiteral:"true"===
f.toLowerCase()||"false"===f.toLowerCase()?R.BooleanLiteral:R.Identifier,value:f,lineNumber:da,lineStart:ia,start:a,end:D}}if(40===a||41===a||59===a)return A();if(39===a||34===a){var l="",q,u,y;g=!1;var z,E;z=da;E=ia;a=K[D];b("'"===a||'"'===a,"String literal must starts with a quote");f=D;for(++D;D<ta;)if(q=K[D++],q===a){a="";break}else if("\\"===q)if((q=K[D++])&&n(q.charCodeAt(0)))++da,"\r"===q&&"\n"===K[D]&&++D,ia=D;else switch(q){case "u":case "x":if("{"===K[D]){++D;u=q=void 0;q=K[D];u=0;for("}"===
q&&aa();D<ta;){q=K[D++];if(!d(q))break;u=16*u+"0123456789abcdef".indexOf(q.toLowerCase())}(1114111<u||"}"!==q)&&aa();q=65535>=u?String.fromCharCode(u):String.fromCharCode((u-65536>>10)+55296,(u-65536&1023)+56320);l+=q}else y=D,(u=x(q))?l+=u:(D=y,l+=q);break;case "n":l+="\n";break;case "r":l+="\r";break;case "t":l+="\t";break;case "b":l+="\b";break;case "f":l+="\f";break;case "v":l+="\x0B";break;default:h(q)?(u="01234567".indexOf(q),0!==u&&(g=!0),D<ta&&h(K[D])&&(g=!0,u=8*u+"01234567".indexOf(K[D++]),
0<="0123".indexOf(q)&&D<ta&&h(K[D])&&(u=8*u+"01234567".indexOf(K[D++]))),l+=String.fromCharCode(u)):l+=q}else if(n(q.charCodeAt(0)))break;else l+=q;""!==a&&aa();return{type:R.StringLiteral,value:l,octal:g,startLineNumber:z,startLineStart:E,lineNumber:da,lineStart:ia,start:f,end:D}}return 46===a?r(K.charCodeAt(D+1))?w():A():r(a)?w():L.tokenize&&47===a?e():A()}function B(){var a,b,c;v();a={start:{line:da,column:D-ia}};b=l();a.end={line:da,column:D-ia};b.type!==R.EOF&&(c=K.slice(b.start,b.end),a={type:Pa[b.type],
value:c,range:[b.start,b.end],loc:a},b.regex&&(a.regex={pattern:b.regex.pattern,flags:b.regex.flags}),L.tokens.push(a));return b}function z(){var a;a=Z;D=a.end;da=a.lineNumber;ia=a.lineStart;Z="undefined"!==typeof L.tokens?B():l();D=a.end;da=a.lineNumber;ia=a.lineStart;return a}function C(){var a,b,c;a=D;b=da;c=ia;Z="undefined"!==typeof L.tokens?B():l();D=a;da=b;ia=c}function F(){this.line=da;this.column=D-ia}function G(){this.start=new F;this.end=null}function I(a){this.start=a.type===R.StringLiteral?
{line:a.startLineNumber,column:a.start-a.startLineStart}:{line:a.lineNumber,column:a.start-a.lineStart};this.end=null}function E(){D=Z.start;Z.type===R.StringLiteral?(da=Z.startLineNumber,ia=Z.startLineStart):(da=Z.lineNumber,ia=Z.lineStart);L.range&&(this.range=[D,0]);L.loc&&(this.loc=new G)}function M(a){L.range&&(this.range=[a.start,0]);L.loc&&(this.loc=new I(a))}function ma(){var a,b,c,d;a=D;b=da;c=ia;v();d=da!==b;D=a;da=b;ia=c;return d}function ga(a,b,c){var d=Error("Line "+a+": "+c);d.index=
b;d.lineNumber=a;d.column=b-ia+1;d.description=c;return d}function X(a){var c,d;c=Array.prototype.slice.call(arguments,1);d=a.replace(/%(\d)/g,function(a,d){b(d<c.length,"Message reference must be in range");return c[d]});throw ga(da,D,d);}function Q(a){var c,d;c=Array.prototype.slice.call(arguments,1);d=a.replace(/%(\d)/g,function(a,d){b(d<c.length,"Message reference must be in range");return c[d]});d=ga(da,D,d);if(L.errors)L.errors.push(d);else throw d;}function ja(a,b){var c=oa.UnexpectedToken;
a&&(c=b?b:a.type===R.EOF?oa.UnexpectedEOS:a.type===R.Identifier?oa.UnexpectedIdentifier:a.type===R.NumericLiteral?oa.UnexpectedNumber:a.type===R.StringLiteral?oa.UnexpectedString:oa.UnexpectedToken);c=c.replace("%0",a?a.value:"ILLEGAL");return a&&"number"===typeof a.lineNumber?ga(a.lineNumber,a.start,c):ga(da,D,c)}function aa(a,b){throw ja(a,b);}function ra(a,b){a=ja(a,b);if(L.errors)L.errors.push(a);else throw a;}function S(a){var b=z();b.type===R.Punctuator&&b.value===a||aa(b)}function J(){var a;
L.errors?(a=Z,a.type===R.Punctuator&&","===a.value?z():a.type===R.Punctuator&&";"===a.value?(z(),ra(a)):ra(a,oa.UnexpectedToken)):S(",")}function Y(a){var b=z();b.type===R.Keyword&&b.value.toLowerCase()===a.toLowerCase()||aa(b)}function O(a){return Z.type===R.Punctuator&&Z.value===a}function V(a){return Z.type===R.Keyword&&Z.value.toLowerCase()===a.toLowerCase()}function T(){var a;59===K.charCodeAt(D)||O(";")?z():(a=da,v(),da===a&&(Z.type===R.EOF||O("}")||aa(Z)))}function fa(a){return a.type===ea.Identifier||
a.type===ea.MemberExpression}function U(a,b){var c,d=new E;b=ua;c=Ra();ua=b;return d.finishFunctionExpression(null,a,[],c)}function W(){var a,b;a=ua;ua=!0;b=Ka();b=U(b.params);ua=a;return b}function la(){var a,b=new E;a=z();return a.type===R.StringLiteral||a.type===R.NumericLiteral?(ua&&a.octal&&ra(a,oa.StrictOctalLiteral),b.finishLiteral(a)):b.finishIdentifier(a.value)}function na(){var a,b,c,d=new E;a=Z;if(a.type===R.Identifier)return b=la(),"get"!==a.value||O(":")||O("(")?"set"!==a.value||O(":")||
O("(")?O(":")?(z(),a=q(),d.finishProperty("init",b,a,!1,!1)):O("(")?(a=W(),d.finishProperty("init",b,a,!0,!1)):d.finishProperty("init",b,b,!1,!0):(b=la(),S("("),a=Z,a.type!==R.Identifier?(S(")"),ra(a),a=U([])):(c=[ab()],S(")"),a=U(c,a)),d.finishProperty("set",b,a,!1,!1)):(b=la(),S("("),S(")"),a=U([]),d.finishProperty("get",b,a,!1,!1));if(a.type===R.EOF||a.type===R.Punctuator)aa(a);else{b=la();if(O(":"))return z(),a=q(),d.finishProperty("init",b,a,!1,!1);if(O("("))return a=W(),d.finishProperty("init",
b,a,!0,!1);aa(z())}}function ka(a){var b=[],c,d,e={},f=String,g=new E;for(!0!==a&&S("{");!O("}");)a=na(),c=a.key.type===ea.Identifier?a.key.name:f(a.key.value),d="init"===a.kind?La.Data:"get"===a.kind?La.Get:La.Set,c="$"+c,Object.prototype.hasOwnProperty.call(e,c)?(e[c]===La.Data?ua&&d===La.Data?Q(oa.StrictDuplicateProperty):d!==La.Data&&Q(oa.AccessorDataProperty):d===La.Data?Q(oa.AccessorDataProperty):e[c]&d&&Q(oa.AccessorGetSet),e[c]|=d):e[c]=d,b.push(a),O("}")||J();S("}");return g.finishObjectExpression(b)}
function ba(){var a,b,c,d;if(O("("))return S("("),O(")")?(z(),b=lb.ArrowParameterPlaceHolder):(++ca.parenthesisCount,b=Ia(),S(")")),b;if(O("[")){b=[];var e=new E;for(S("[");!O("]");)O(",")?(z(),b.push(null)):(b.push(q()),O("]")||S(","));z();return e.finishArrayExpression(b)}if(O("{"))return ka();a=Z.type;d=new E;if(a===R.Identifier)c=d.finishIdentifier(z().value);else if(a===R.StringLiteral||a===R.NumericLiteral)ua&&Z.octal&&ra(Z,oa.StrictOctalLiteral),c=d.finishLiteral(z());else if(a===R.Keyword){if(V("function")){d=
null;var f;c=[];var g=[],k,h=new E;Y("function");O("(")||(d=ab());f=Ka(b);c=f.params;g=f.defaults;a=f.stricted;b=f.firstRestricted;f.message&&(e=f.message);k=ua;f=Ra();ua&&b&&aa(b,e);ua&&a&&ra(a,e);ua=k;return h.finishFunctionExpression(d,c,g,f)}V("this")?(z(),c=d.finishThisExpression()):aa(z())}else a===R.BooleanLiteral?(b=z(),b.value="true"===b.value.toLowerCase(),c=d.finishLiteral(b)):a===R.NullLiteral?(b=z(),b.value=null,c=d.finishLiteral(b)):O("/")||O("/\x3d")?(c="undefined"!==typeof L.tokens?
d.finishLiteral(u()):d.finishLiteral(y()),C()):aa(z());return c}function va(){var a=[];S("(");if(!O(")"))for(;D<ta;){a.push(q());if(O(")"))break;J()}S(")");return a}function sa(){S(".");var a,b=new E;a=z();a.type===R.Identifier||a.type===R.Keyword||a.type===R.BooleanLiteral||a.type===R.NullLiteral||aa(a);return b.finishIdentifier(a.value)}function Ma(){var a;S("[");a=Ia();S("]");return a}function Ga(){var a,c,d=new E;Y("new");var e;b(ca.allowIn,"callee of new expression always allow in keyword.");
e=Z;for(a=V("new")?Ga():ba();;)if(O("["))c=Ma(),a=(new M(e)).finishMemberExpression("[",a,c);else if(O("."))c=sa(),a=(new M(e)).finishMemberExpression(".",a,c);else break;c=O("(")?va():[];return d.finishNewExpression(a,c)}function Ha(){var a,b,c=Z,d,e=ca.allowIn;b=Z;ca.allowIn=!0;for(a=V("new")?Ga():ba();;)if(O("."))d=sa(),a=(new M(b)).finishMemberExpression(".",a,d);else if(O("("))d=va(),a=(new M(b)).finishCallExpression(a,d);else if(O("["))d=Ma(),a=(new M(b)).finishMemberExpression("[",a,d);else break;
ca.allowIn=e;Z.type!==R.Punctuator||!O("++")&&!O("--")||ma()||(fa(a)||Q(oa.InvalidLHSInAssignment),b=z(),a=(new M(c)).finishPostfixExpression(b.value,a));return a}function N(){var a,b,c;Z.type!==R.Punctuator&&Z.type!==R.Keyword?b=Ha():O("++")||O("--")?(c=Z,a=z(),b=N(),fa(b)||Q(oa.InvalidLHSInAssignment),b=(new M(c)).finishUnaryExpression(a.value,b)):O("+")||O("-")||O("~")||O("!")?(c=Z,a=z(),b=N(),b=(new M(c)).finishUnaryExpression(a.value,b)):V("delete")||V("void")||V("typeof")?(c=Z,a=z(),b=N(),b=
(new M(c)).finishUnaryExpression(a.value,b),ua&&"delete"===b.operator&&b.argument.type===ea.Identifier&&Q(oa.StrictDelete)):b=Ha();return b}function Za(a,b){var c=0;if(a.type!==R.Punctuator&&a.type!==R.Keyword)return 0;switch(a.value){case "||":c=1;break;case "\x26\x26":c=2;break;case "|":c=3;break;case "^":c=4;break;case "\x26":c=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":c=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":c=7;break;
case "in":c=b?7:0;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":c=8;break;case "+":case "-":c=9;break;case "*":case "/":case "%":c=11}return c}function pa(){var a,b,c,d,e,f;a=Z;b=N();if(b===lb.ArrowParameterPlaceHolder)return b;c=Z;d=Za(c,ca.allowIn);if(0===d)return b;c.prec=d;z();a=[a,Z];f=N();for(e=[b,c,f];0<(d=Za(Z,ca.allowIn));){for(;2<e.length&&d<=e[e.length-2].prec;)f=e.pop(),c=e.pop().value,b=e.pop(),a.pop(),b=(new M(a[a.length-1])).finishBinaryExpression(c,b,f),e.push(b);c=z();
c.prec=d;e.push(c);a.push(Z);b=N();e.push(b)}d=e.length-1;b=e[d];for(a.pop();1<d;)b=(new M(a.pop())).finishBinaryExpression(e[d-1].value,e[d-2],b),d-=2;return b}function Wa(a){var b,c,d,e,f,g,k;e=[];f=[];g=0;k={paramSet:{}};b=0;for(c=a.length;b<c;b+=1)if(d=a[b],d.type===ea.Identifier)e.push(d),f.push(null),ib(k,d,d.name);else if(d.type===ea.AssignmentExpression)e.push(d.left),f.push(d.right),++g,ib(k,d.left,d.left.name);else return null;k.message===oa.StrictParamDupe&&(a=ua?k.stricted:k.firstRestricted,
aa(a,k.message));0===g&&(f=[]);return{params:e,defaults:f,rest:null,stricted:k.stricted,firstRestricted:k.firstRestricted,message:k.message}}function q(){var a,b,c,d,e;a=ca.parenthesisCount;b=e=Z;var f,g;g=Z;c=pa();c!==lb.ArrowParameterPlaceHolder&&O("?")&&(z(),f=ca.allowIn,ca.allowIn=!0,b=q(),ca.allowIn=f,S(":"),f=q(),c=(new M(g)).finishConditionalExpression(c,b,f));if(c===lb.ArrowParameterPlaceHolder||O("\x3d\x3e"))if(ca.parenthesisCount===a||ca.parenthesisCount===a+1)if(c.type===ea.Identifier?
d=Wa([c]):c.type===ea.AssignmentExpression?d=Wa([c]):c.type===ea.SequenceExpression?d=Wa(c.expressions):c===lb.ArrowParameterPlaceHolder&&(d=Wa([])),d)return a=d,e=new M(e),S("\x3d\x3e"),d=ua,c=O("{")?Ra():q(),ua&&a.firstRestricted&&aa(a.firstRestricted,a.message),ua&&a.stricted&&ra(a.stricted,a.message),ua=d,e.finishArrowFunctionExpression(a.params,a.defaults,c,c.type!==ea.BlockStatement);Z.type!==R.Punctuator?a=!1:(a=Z.value,a="\x3d"===a||"*\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===
a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a);a&&(fa(c)||Q(oa.InvalidLHSInAssignment),b=z(),a=q(),c=(new M(e)).finishAssignmentExpression(b.value,c,a));return c}function Ia(){var a,b=Z;a=q();if(O(",")){for(a=[a];D<ta&&O(",");)z(),a.push(q());a=(new M(b)).finishSequenceExpression(a)}return a}function ab(){var a,b=new E;a=z();a.type!==R.Identifier&&aa(a);return b.finishIdentifier(a.value)}function qb(a){var b=null,c,d=new E;c=ab();"const"===
a?(S("\x3d"),b=q()):O("\x3d")&&(z(),b=q());return d.finishVariableDeclarator(c,b)}function Bb(a){var b=[];do{b.push(qb(a));if(!O(","))break;z()}while(D<ta);return b}function Ja(a){var b=Z.type,c,d;b===R.EOF&&aa(Z);if(b===R.Punctuator&&"{"===Z.value){if(a){S("{");var e=Z;a=D;c=da;d=ia;z();b=O(":");Z=e;D=a;da=c;ia=d;if((Z.type===R.Identifier||Z.type===R.StringLiteral)&&b)return ka(!0);a=new E;for(c=[];D<ta&&!O("}");){d=Ba();if("undefined"===typeof d)break;c.push(d)}S("}");return a.finishBlockStatement(c)}return ka()}a=
new E;if(b===R.Punctuator)switch(Z.value){case ";":return a=new E,S(";"),a.finishEmptyStatement();case "(":return c=Ia(),T(),a.finishExpressionStatement(c)}else if(b===R.Keyword)switch(Z.value.toLowerCase()){case "break":return c=null,Y("break"),59===K.charCodeAt(D)?(z(),ca.inIteration||ca.inSwitch||X(oa.IllegalBreak),a=a.finishBreakStatement(null)):ma()?(ca.inIteration||ca.inSwitch||X(oa.IllegalBreak),a=a.finishBreakStatement(null)):(Z.type===R.Identifier&&(c=ab(),d="$"+c.name,Object.prototype.hasOwnProperty.call(ca.labelSet,
d)||X(oa.UnknownLabel,c.name)),T(),null!==c||ca.inIteration||ca.inSwitch||X(oa.IllegalBreak),a=a.finishBreakStatement(c)),a;case "continue":return c=null,Y("continue"),59===K.charCodeAt(D)?(z(),ca.inIteration||X(oa.IllegalContinue),a=a.finishContinueStatement(null)):ma()?(ca.inIteration||X(oa.IllegalContinue),a=a.finishContinueStatement(null)):(Z.type===R.Identifier&&(c=ab(),d="$"+c.name,Object.prototype.hasOwnProperty.call(ca.labelSet,d)||X(oa.UnknownLabel,c.name)),T(),null!==c||ca.inIteration||
X(oa.IllegalContinue),a=a.finishContinueStatement(c)),a;case "for":var f,g,k;g=ca.allowIn;f=b=e=null;Y("for");S("(");if(O(";"))z();else{if(V("var")){ca.allowIn=!1;var h=new E;f=z();k=Bb();f=h.finishVariableDeclaration(k,f.value);ca.allowIn=g;1===f.declarations.length&&V("in")&&(z(),c=f,d=Ia(),f=null)}else ca.allowIn=!1,f=Ia(),ca.allowIn=g,V("in")&&(fa(f)||Q(oa.InvalidLHSInForIn),z(),c=f,d=Ia(),f=null);"undefined"===typeof c&&S(";")}"undefined"===typeof c&&(O(";")||(b=Ia()),S(";"),O(")")||(e=Ia()));
S(")");k=ca.inIteration;ca.inIteration=!0;g=Ja(!0);ca.inIteration=k;return"undefined"===typeof c?a.finishForStatement(f,b,e,g):a.finishForInStatement(c,d,g);case "function":return jb(a);case "if":return Y("if"),S("("),c=Ia(),S(")"),d=Ja(!0),V("else")?(z(),b=Ja(!0)):b=null,a.finishIfStatement(c,d,b);case "return":return c=null,Y("return"),ca.inFunctionBody||Q(oa.IllegalReturn),32===K.charCodeAt(D)&&m(K.charCodeAt(D+1))?(c=Ia(),T(),a=a.finishReturnStatement(c)):ma()?a=a.finishReturnStatement(null):
(O(";")||O("}")||Z.type===R.EOF||(c=Ia()),T(),a=a.finishReturnStatement(c)),a;case "var":return Y("var"),c=Bb(),T(),a.finishVariableDeclaration(c,"var")}c=Ia();if(c.type===ea.Identifier&&O(":"))return z(),b="$"+c.name,Object.prototype.hasOwnProperty.call(ca.labelSet,b)&&X(oa.Redeclaration,"Label",c.name),ca.labelSet[b]=!0,d=Ja(!1),delete ca.labelSet[b],a.finishLabeledStatement(c,d);T();return a.finishExpressionStatement(c)}function Ra(){var a,b=[],c,d,e,f,g,k=new E;for(S("{");D<ta&&Z.type===R.StringLiteral;){c=
Z;a=Ba();b.push(a);if(a.expression.type!==ea.Literal)break;a=K.slice(c.start+1,c.end-1);"use strict"===a?(ua=!0,d&&ra(d,oa.StrictOctalLiteral)):!d&&c.octal&&(d=c)}c=ca.labelSet;d=ca.inIteration;e=ca.inSwitch;f=ca.inFunctionBody;g=ca.parenthesizedCount;ca.labelSet={};ca.inIteration=!1;ca.inSwitch=!1;ca.inFunctionBody=!0;for(ca.parenthesizedCount=0;D<ta&&!O("}");){a=Ba();if("undefined"===typeof a)break;b.push(a)}S("}");ca.labelSet=c;ca.inIteration=d;ca.inSwitch=e;ca.inFunctionBody=f;ca.parenthesizedCount=
g;return k.finishBlockStatement(b)}function ib(a,b,c){c="$"+c;ua?Object.prototype.hasOwnProperty.call(a.paramSet,c)&&(a.stricted=b,a.message=oa.StrictParamDupe):!a.firstRestricted&&Object.prototype.hasOwnProperty.call(a.paramSet,c)&&(a.firstRestricted=b,a.message=oa.StrictParamDupe);a.paramSet[c]=!0}function Ka(a){a={params:[],defaultCount:0,defaults:[],firstRestricted:a};S("(");if(!O(")"))for(a.paramSet={};D<ta;){var b=a,c=void 0,d=void 0,e=void 0,c=Z,d=ab();ib(b,c,c.value);O("\x3d")&&(z(),e=q(),
++b.defaultCount);b.params.push(d);b.defaults.push(e);if(O(")"))break;S(",")}S(")");0===a.defaultCount&&(a.defaults=[]);return{params:a.params,defaults:a.defaults,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function jb(){var a,b=[],c=[],d,e,f,g,k,h=new E;Y("function");a=ab();d=Ka(f);b=d.params;c=d.defaults;e=d.stricted;f=d.firstRestricted;d.message&&(g=d.message);k=ua;d=Ra();ua&&f&&aa(f,g);ua&&e&&ra(e,g);ua=k;return h.finishFunctionDeclaration(a,b,c,d)}function Ba(){if(Z.type===
R.Keyword)return"function"===Z.value.toLowerCase()?jb():Ja(!1);if(Z.type!==R.EOF)return Ja(!1)}function Qa(){var a,b,c,d=[];for(a=0;a<L.tokens.length;++a)b=L.tokens[a],c={type:b.type,value:b.value},b.regex&&(c.regex={pattern:b.regex.pattern,flags:b.regex.flags}),L.range&&(c.range=b.range),L.loc&&(c.loc=b.loc),d.push(c);L.tokens=d}var R,Pa,Aa,ea,lb,La,oa,cb,K,ua,D,da,ia,ta,Z,ca,L;R={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9};
Pa={};Pa[R.BooleanLiteral]="Boolean";Pa[R.EOF]="\x3cend\x3e";Pa[R.Identifier]="Identifier";Pa[R.Keyword]="Keyword";Pa[R.NullLiteral]="Null";Pa[R.NumericLiteral]="Numeric";Pa[R.Punctuator]="Punctuator";Pa[R.StringLiteral]="String";Pa[R.RegularExpression]="RegularExpression";Aa="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ");
ea={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",
FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};lb={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}};
La={Data:1,Get:2,Set:4};oa={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",
MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",
StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",
AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};cb={NonAsciiIdentifierStart:/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/,
NonAsciiIdentifierPart:/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/};
M.prototype=E.prototype={processComment:function(){var a,b,c,d=L.bottomRightStack,e,f,g=d[d.length-1];if(!(this.type===ea.Program&&0<this.body.length)){if(0<L.trailingComments.length){c=[];for(e=L.trailingComments.length-1;0<=e;--e)f=L.trailingComments[e],f.range[0]>=this.range[1]&&(c.unshift(f),L.trailingComments.splice(e,1));L.trailingComments=[]}else g&&g.trailingComments&&g.trailingComments[0].range[0]>=this.range[1]&&(c=g.trailingComments,delete g.trailingComments);if(g)for(;g&&g.range[0]>=this.range[0];)a=
g,g=d.pop();if(a)a.leadingComments&&a.leadingComments[a.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=a.leadingComments,a.leadingComments=void 0);else if(0<L.leadingComments.length)for(b=[],e=L.leadingComments.length-1;0<=e;--e)f=L.leadingComments[e],f.range[1]<=this.range[0]&&(b.unshift(f),L.leadingComments.splice(e,1));b&&0<b.length&&(this.leadingComments=b);c&&0<c.length&&(this.trailingComments=c);d.push(this)}},finish:function(){L.range&&(this.range[1]=D);L.loc&&(this.loc.end=
new F,L.source&&(this.loc.source=L.source));L.attachComment&&this.processComment()},finishArrayExpression:function(a){this.type=ea.ArrayExpression;this.elements=a;this.finish();return this},finishAssignmentExpression:function(a,b,c){this.type=ea.AssignmentExpression;this.operator=a;this.left=b;this.right=c;this.finish();return this},finishBinaryExpression:function(a,b,c){this.type="||"===a||"\x26\x26"===a?ea.LogicalExpression:ea.BinaryExpression;this.operator=a;this.left=b;this.right=c;this.finish();
return this},finishBlockStatement:function(a){this.type=ea.BlockStatement;this.body=a;this.finish();return this},finishBreakStatement:function(a){this.type=ea.BreakStatement;this.label=a;this.finish();return this},finishCallExpression:function(a,b){this.type=ea.CallExpression;this.callee=a;this.arguments=b;this.finish();return this},finishConditionalExpression:function(a,b,c){this.type=ea.ConditionalExpression;this.test=a;this.consequent=b;this.alternate=c;this.finish();return this},finishContinueStatement:function(a){this.type=
ea.ContinueStatement;this.label=a;this.finish();return this},finishEmptyStatement:function(){this.type=ea.EmptyStatement;this.finish();return this},finishExpressionStatement:function(a){this.type=ea.ExpressionStatement;this.expression=a;this.finish();return this},finishForStatement:function(a,b,c,d){this.type=ea.ForStatement;this.init=a;this.test=b;this.update=c;this.body=d;this.finish();return this},finishForInStatement:function(a,b,c){this.type=ea.ForInStatement;this.left=a;this.right=b;this.body=
c;this.each=!1;this.finish();return this},finishFunctionDeclaration:function(a,b,c,d){this.type=ea.FunctionDeclaration;this.id=a;this.params=b;this.defaults=c;this.body=d;this.rest=null;this.expression=this.generator=!1;this.finish();return this},finishFunctionExpression:function(a,b,c,d){this.type=ea.FunctionExpression;this.id=a;this.params=b;this.defaults=c;this.body=d;this.rest=null;this.expression=this.generator=!1;this.finish();return this},finishIdentifier:function(a){this.type=ea.Identifier;
this.name=a;this.finish();return this},finishIfStatement:function(a,b,c){this.type=ea.IfStatement;this.test=a;this.consequent=b;this.alternate=c;this.finish();return this},finishLiteral:function(a){this.type=ea.Literal;this.value=a.value;this.raw=K.slice(a.start,a.end);a.regex&&(this.regex=a.regex);this.finish();return this},finishMemberExpression:function(a,b,c){this.type=ea.MemberExpression;this.computed="["===a;this.object=b;this.property=c;this.finish();return this},finishObjectExpression:function(a){this.type=
ea.ObjectExpression;this.properties=a;this.finish();return this},finishPostfixExpression:function(a,b){this.type=ea.UpdateExpression;this.operator=a;this.argument=b;this.prefix=!1;this.finish();return this},finishProgram:function(a){this.type=ea.Program;this.body=a;this.finish();return this},finishProperty:function(a,b,c,d,e){this.type=ea.Property;this.key=b;this.value=c;this.kind=a;this.method=d;this.shorthand=e;this.finish();return this},finishReturnStatement:function(a){this.type=ea.ReturnStatement;
this.argument=a;this.finish();return this},finishUnaryExpression:function(a,b){this.type="++"===a||"--"===a?ea.UpdateExpression:ea.UnaryExpression;this.operator=a;this.argument=b;this.prefix=!0;this.finish();return this},finishVariableDeclaration:function(a,b){this.type=ea.VariableDeclaration;this.declarations=a;this.kind=b;this.finish();return this},finishVariableDeclarator:function(a,b){this.type=ea.VariableDeclarator;this.id=a;this.init=b;this.finish();return this}};a.version="2.0.0-dev";a.tokenize=
function(a,b){var c,d;c=String;"string"===typeof a||a instanceof String||(a=c(a));K=a;D=0;da=0<K.length?1:0;ia=0;ta=K.length;Z=null;ca={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1};L={};b=b||{};b.tokens=!0;L.tokens=[];L.tokenize=!0;L.openParenToken=-1;L.openCurlyToken=-1;L.range="boolean"===typeof b.range&&b.range;L.loc="boolean"===typeof b.loc&&b.loc;"boolean"===typeof b.comment&&b.comment&&(L.comments=[]);"boolean"===typeof b.tolerant&&b.tolerant&&(L.errors=
[]);try{C();if(Z.type===R.EOF)return L.tokens;for(z();Z.type!==R.EOF;)try{z()}catch(mb){if(L.errors){L.errors.push(mb);break}else throw mb;}Qa();d=L.tokens;"undefined"!==typeof L.comments&&(d.comments=L.comments);"undefined"!==typeof L.errors&&(d.errors=L.errors)}catch(mb){throw mb;}finally{L={}}return d};a.parse=function(a,b){var c,d;d=String;"string"===typeof a||a instanceof String||(a=d(a));K=a;D=0;da=0<K.length?1:0;ia=0;ta=K.length;Z=null;ca={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,
inIteration:!1,inSwitch:!1,lastCommentStart:-1};L={};"undefined"!==typeof b&&(L.range="boolean"===typeof b.range&&b.range,L.loc="boolean"===typeof b.loc&&b.loc,L.attachComment="boolean"===typeof b.attachComment&&b.attachComment,L.loc&&null!==b.source&&void 0!==b.source&&(L.source=d(b.source)),"boolean"===typeof b.tokens&&b.tokens&&(L.tokens=[]),"boolean"===typeof b.comment&&b.comment&&(L.comments=[]),"boolean"===typeof b.tolerant&&b.tolerant&&(L.errors=[]),L.attachComment&&(L.range=!0,L.comments=
[],L.bottomRightStack=[],L.trailingComments=[],L.leadingComments=[]));try{var e;v();C();e=new E;ua=!1;var f;a=[];for(var g,k,h;D<ta;){g=Z;if(g.type!==R.StringLiteral)break;f=Ba();a.push(f);if(f.expression.type!==ea.Literal)break;k=K.slice(g.start+1,g.end-1);"use strict"===k?(ua=!0,h&&ra(h,oa.StrictOctalLiteral)):!h&&g.octal&&(h=g)}for(;D<ta;){f=Ba();if("undefined"===typeof f)break;a.push(f)}c=e.finishProgram(a);"undefined"!==typeof L.comments&&(c.comments=L.comments);"undefined"!==typeof L.tokens&&
(Qa(),c.tokens=L.tokens);"undefined"!==typeof L.errors&&(c.errors=L.errors)}catch(ob){throw ob;}finally{L={}}return c};a.Syntax=function(){var a,b={};"function"===typeof Object.create&&(b=Object.create(null));for(a in ea)ea.hasOwnProperty(a)&&(b[a]=ea[a]);"function"===typeof Object.freeze&&Object.freeze(b);return b}()})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,r,d,h,n,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);c=b;b.prototype.clone=function(){return new c({color:this.color?this.color.clone():null})};d([n.property(m.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=d([n.subclass("esri.symbols.support.Symbol3DMaterial")],b);var c}(n.declared(h));b.Symbol3DMaterial=a;b.default=a})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(a,b,r,d,h,n){function m(a,b){a=null!=b.transparency?n.transparencyToOpacity(b.transparency):1;if((b=b.color)&&Array.isArray(b))return new r([b[0]||0,b[1]||0,b[2]||0,a])}function c(a,b){b.color=a.toJSON().slice(0,3);a=n.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}Object.defineProperty(b,"__esModule",{value:!0});b.readColorAndTransparency=m;b.writeColorAndTransparency=c;b.colorAndTransparencyProperty={type:r,json:{type:[h.Integer],read:{source:["color","transparency"],reader:m},write:{target:{color:{type:[h.Integer]},
transparency:{type:h.Integer}},writer:c}}};b.screenSizeProperty={type:Number,cast:d.toPt,json:{write:!0}}})},"esri/core/screenUtils":function(){define(["require","exports"],function(a,b){function r(a){return a?72*a/b.DPI:0}Object.defineProperty(b,"__esModule",{value:!0});var d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.DPI=96;b.pt2px=function(a){return a?a/72*b.DPI:0};b.px2pt=r;b.toPt=function(a){if("string"===typeof a){if(d.test(a)){var b=a.match(d),h=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);
h="px"===b?r(h):h;return a?-h:h}console.warn("screenUtils.toPt: input not recognized!");return null}return a}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,b,r){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(a){a=r.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};b.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/utils":function(){define(["require",
"exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,r,d,h){function n(a,b,k){if(!a)return a;switch(a.type){case "solid":return b=new h,b.read(a,k),b;case "sketch":return b=new d,b.read(a,k),b}}Object.defineProperty(b,"__esModule",{value:!0});b.read=n;b.symbol3dEdgesProperty={types:{key:"type",base:r,typeMap:{solid:h,sketch:d}},json:{read:n,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper dojo/_base/lang ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v){return function(a){function b(b){b=a.call(this)||this;b.color=new m([0,0,0,1]);b.extensionLength=0;b.size=g.px2pt(1);return b}r(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n.mixin({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:k.clone(this.color),size:this.size,extensionLength:this.extensionLength}};d([f.property({type:String,readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,
"type",void 0);d([f.property(v.colorAndTransparencyProperty)],b.prototype,"color",void 0);d([f.property(h({},v.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);d([f.property(v.screenSizeProperty)],b.prototype,"size",void 0);return b=d([f.subclass("esri.symbols.edges.Edges3D")],b)}(f.declared(c))})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,b,r,d,h,n){return function(a){function b(b){b=a.call(this)||this;b.type="sketch";return b}r(b,a);k=b;b.prototype.clone=function(){return new k(this.cloneProperties())};d([h.property({type:String})],b.prototype,"type",void 0);return b=k=d([h.subclass("esri.symbols.edges.SketchEdges3D")],b);var k}(h.declared(n))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,b,r,d,h,n){return function(a){function b(b){b=a.call(this)||this;b.type="solid";return b}r(b,a);k=b;b.prototype.clone=function(){return new k(this.cloneProperties())};d([h.property({type:String})],b.prototype,"type",void 0);return b=k=d([h.subclass("esri.symbols.support.SolidEdges3D")],b);var k}(h.declared(n))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,r,d,h,n,m,c,k){return function(a){function b(b){b=a.call(this)||this;b.type="fill";b.material=null;b.outline=null;b.edges=null;return b}r(b,a);g=b;b.prototype.clone=function(){return new g({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone()})};d([h.property()],b.prototype,"type",void 0);d([h.property({type:c.default})],b.prototype,
"material",void 0);d([h.property({type:k.default,json:{write:!0}})],b.prototype,"outline",void 0);d([h.property(m.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=g=d([h.subclass("esri.symbols.FillSymbol3DLayer")],b);var g}(h.declared(n))})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),function(a,b,r,d,h,n){Object.defineProperty(b,
"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);k=b;b.prototype.clone=function(){return new k({color:this.color?this.color.clone():null,colorMixMode:this.colorMixMode})};d([h.property({type:String,json:{read:!0,write:!0}})],b.prototype,"colorMixMode",void 0);return b=k=d([h.subclass("esri.symbols.support.Symbol3DFillMaterial")],b);var k}(h.declared(n.default));b.Symbol3DFillMaterial=a;b.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,r,d,h,n,m,c,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new h([0,0,0,1]);b.size=m.px2pt(1);return b}r(b,a);g=b;b.prototype.clone=function(){return new g({color:this.color?this.color.clone():null,size:this.size})};d([c.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);d([c.property(k.screenSizeProperty)],b.prototype,"size",void 0);return b=g=d([c.subclass("esri.symbols.support.Symbol3DOutline")],
b);var g}(c.declared(n));b.Symbol3DOutline=a;b.default=a})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/accessorSupport/decorators ./Symbol3DLayer ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DOutline".split(" "),function(a,b,r,d,h,n,m,c,k,g){var f=h({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",
bottomLeft:"bottom-left",bottomRight:"bottom-right"},{ignoreUnknown:!0});return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor=void 0;b.outline=void 0;return b}r(b,a);h=b;b.prototype.clone=function(){return new h({anchor:this.anchor,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone(),resource:this.resource&&this.resource.clone(),
size:this.size})};d([n.property()],b.prototype,"material",void 0);d([n.property({type:c.default,json:{write:!0}})],b.prototype,"resource",void 0);d([n.property()],b.prototype,"type",void 0);d([n.property(k.screenSizeProperty)],b.prototype,"size",void 0);d([n.property({type:String,json:{read:f.read,write:f.write}})],b.prototype,"anchor",void 0);d([n.property({type:g.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=h=d([n.subclass("esri.symbols.IconSymbol3DLayer")],b);var h}(n.declared(m))})},
"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,b,r,d,h,n,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);c=b;b.prototype.readHref=function(a,b,c){return a?n.read(a,c):b.dataURI};b.prototype.writeHref=
function(a,b,c,d){a&&(n.isDataProtocol(a)?b.dataURI=a:(b.href=n.write(a,d),n.isAbsolute(b.href)&&(b.href=n.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};d([m.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);d([m.reader("href")],b.prototype,"readHref",null);d([m.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);d([m.property({type:String,json:{write:!0}})],
b.prototype,"primitive",void 0);return b=c=d([m.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b);var c}(m.declared(h));b.IconSymbol3DLayerResource=a;b.default=a})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/materialUtils".split(" "),function(a,b,r,d,h,n,m,c){return function(a){function b(b){b=a.call(this)||this;
b.material=null;b.type="line";b.size=h.px2pt(1);return b}r(b,a);f=b;b.prototype.clone=function(){return new f({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};d([n.property()],b.prototype,"material",void 0);d([n.property()],b.prototype,"type",void 0);d([n.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=f=d([n.subclass("esri.symbols.LineSymbol3DLayer")],b);var f}(n.declared(m))})},
"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DMaterial".split(" "),function(a,b,r,d,h,n,m,c,k){var g=h({center:"center",top:"top",bottom:"bottom",origin:"origin"},{ignoreUnknown:!0});return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type=
"object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}r(b,a);f=b;b.prototype.clone=function(){return new f({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,depth:this.depth,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:this.material&&this.material.clone(),resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,
"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});d([n.property({type:k.default})],b.prototype,"material",void 0);d([n.property({type:c.default,json:{write:!0}})],b.prototype,"resource",void 0);d([n.property()],b.prototype,"type",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);d([n.property({type:Number,json:{write:!0}})],
b.prototype,"depth",void 0);d([n.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"anchor",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);d([n.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=f=d([n.subclass("esri.symbols.ObjectSymbol3DLayer")],
b);var f}(n.declared(m))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,b,r,d,h,n,m,c){Object.defineProperty(b,"__esModule",{value:!0});var k=n({invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}
r(b,a);g=b;b.prototype.readHref=function(a,b,c){return m.read(a,c)};b.prototype.writeHref=function(a,b,c,d){a&&(b.href=m.write(a,d),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href)))};b.prototype.readPrimitive=function(a){return k.fromJSON(a)};b.prototype.writePrimitive=function(a,b){b.primitive=k.toJSON(a)};b.prototype.clone=function(){return new g({href:this.href,primitive:this.primitive})};d([c.property({type:String,json:{write:!0}})],b.prototype,"href",void 0);d([c.reader("href")],b.prototype,
"readHref",null);d([c.writer("href")],b.prototype,"writeHref",null);d([c.property({type:String,json:{write:!0}})],b.prototype,"primitive",void 0);d([c.reader("primitive")],b.prototype,"readPrimitive",null);d([c.writer("primitive")],b.prototype,"writePrimitive",null);return b=g=d([c.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b);var g}(c.declared(h));b.ObjectSymbol3DLayerResource=a;b.default=a})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer".split(" "),
function(a,b,r,d,h,n){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="path";b.size=void 0;return b}r(b,a);k=b;b.prototype.readSize=function(a,b){return a||b.width||0};b.prototype.clone=function(){return new k({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};d([h.property()],b.prototype,"material",void 0);d([h.property()],b.prototype,"type",void 0);d([h.property({type:Number,
json:{write:{enabled:!0,target:{size:{type:Number},width:{type:Number}}}}})],b.prototype,"size",void 0);d([h.reader("size",["size","width"])],b.prototype,"readSize",null);return b=k=d([h.subclass("esri.symbols.PathSymbol3DLayer")],b);var k}(h.declared(n))})},"esri/symbols/Symbol":function(){define(["../core/lang","../core/kebabDictionary","../core/JSONSupport","../Color"],function(a,b,r,d){var h=b({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",
esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),n=0;return r.createSubclass({declaredClass:"esri.symbols.Symbol",constructor:function(){this.id="sym"+n++},properties:{type:{type:String,value:null,json:{read:h.fromJSON,write:{ignoreOrigin:!0,writer:function(a,b){b.type=h.toJSON(this.type)}}}},color:{type:d,value:new d([0,0,0,1]),json:{read:function(b){return b&&a.isDefined(b[0])?
[b[0],b[1],b[2],b[3]/255]:b},write:{allowNull:!0}}}}})})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo".split(" "),function(a,b,r,d,h,n,m,c,k){return function(a){function b(b){b=a.call(this)||this;b.font=null;b.halo=null;b.material=null;b.size=void 0;b.text=void 0;b.type="text";return b}r(b,a);
g=b;b.prototype.writeFont=function(a,b){a&&(b.font=h.clone(a))};b.prototype.clone=function(){return new g({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&h.clone(this.font),halo:this.halo&&h.clone(this.halo),material:this.material&&this.material.clone(),size:this.size,text:this.text})};d([n.property()],b.prototype,"font",void 0);d([n.writer("font",{"font.family":{type:String},"font.weight":{type:String},"font.style":{type:String},"font.decoration":{type:String},
"font.size":{type:Number}})],b.prototype,"writeFont",null);d([n.property({type:k.default,json:{write:!0}})],b.prototype,"halo",void 0);d([n.property()],b.prototype,"material",void 0);d([n.property(c.screenSizeProperty)],b.prototype,"size",void 0);d([n.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);d([n.property()],b.prototype,"type",void 0);return b=g=d([n.subclass("esri.symbols.TextSymbol3DLayer")],b);var g}(n.declared(m))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,r,d,h,n,m,c,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new h([0,0,0,1]);b.size=0;return b}r(b,a);g=b;b.prototype.clone=function(){return new g({color:m.clone(this.color),size:this.size})};d([c.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);d([c.property(k.screenSizeProperty)],b.prototype,"size",void 0);return b=g=d([c.subclass("esri.symbols.support.Symbol3DHalo")],b);var g}(c.declared(n));
b.Symbol3DHalo=a;b.default=a})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),function(a,b,r,d,h,n,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}r(b,a);c=b;b.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,
portal:this.portal})};d([n.property({type:String})],b.prototype,"name",void 0);d([n.property({type:String})],b.prototype,"styleUrl",void 0);d([n.property({type:String})],b.prototype,"styleName",void 0);d([n.property({type:m})],b.prototype,"portal",void 0);return b=c=d([n.subclass("esri.symbols.support.StyleOrigin")],b);var c}(n.declared(h))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(a,b,r,d,h,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);k=b;b.prototype.clone=function(){return new k({url:this.url})};d([n.property({type:String})],b.prototype,"url",void 0);return b=k=d([n.subclass("esri.symbols.support.Thumbnail")],b);var k}(n.declared(h));b.Thumbnail=a;b.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,
b,r,d){function h(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function n(a,b,k){if(!a)return a;switch(a.type){case "line":return b=new d,b.read(a,k),b}}Object.defineProperty(b,"__esModule",{value:!0});b.hasVisibleVerticalOffset=h;b.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?h(a)?!0:!1:!1};b.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};b.read=
n;b.calloutProperty={types:{key:"type",base:r,typeMap:{line:d}},json:{read:n,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/_base/lang ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,r,d,h,n,m){return function(a){function b(b){b=a.call(this)||this;b.visible=!0;return b}r(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=h.mixin({},
a),delete a.type);return a};b.prototype.clone=function(){};d([m.property({type:String,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);d([m.property({readOnly:!0})],b.prototype,"visible",void 0);return b=d([m.subclass("esri.symbols.callouts.Callout3D")],b)}(m.declared(n))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f){return function(a){function b(b){b=a.call(this)||this;b.type="line";b.color=new h([0,0,0,1]);b.size=m.px2pt(1);b.border=null;return b}r(b,a);k=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new k({color:n.clone(this.color),size:this.size,border:n.clone(this.border)})};d([c.property({type:String})],b.prototype,"type",void 0);d([c.property(f.colorAndTransparencyProperty)],
b.prototype,"color",void 0);d([c.property(f.screenSizeProperty)],b.prototype,"size",void 0);d([c.property({type:g.default,json:{write:!0}})],b.prototype,"border",void 0);d([c.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=k=d([c.subclass("esri.symbols.callouts.LineCallout3D")],b);var k}(c.declared(k))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(a,b,r,d,h,n,m,c,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new h("white");return b}r(b,a);g=b;b.prototype.clone=function(){return new g({color:m.clone(this.color)})};d([c.property(k.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=g=d([c.subclass("esri.symbols.callouts.LineCallout3DBorder")],b);var g}(c.declared(n));b.LineCallout3DBorder=a;b.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,r,d,h,n,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}r(b,a);c=b;b.prototype.writeMinWorldLength=function(a,b,c){a&&(b[c]=a)};b.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};d([n.property(m.screenSizeProperty)],b.prototype,"screenLength",void 0);d([n.property({type:Number,
json:{write:!0}})],b.prototype,"minWorldLength",void 0);d([n.writer("minWorldLength")],b.prototype,"writeMinWorldLength",null);d([n.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=c=d([n.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b);var c}(n.declared(h));b.Symbol3DVerticalOffset=a;b.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f){var v=h.ofType({base:null,key:"type",typeMap:{line:c,text:f,path:k}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new v;b.type="line-3d";return b}r(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};d([m.property({type:v})],b.prototype,"symbolLayers",void 0);d([m.property()],b.prototype,"type",void 0);return b=c=d([m.subclass("esri.symbols.LineSymbol3D")],
b);var c}(m.declared(g))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),function(a,b,r,d,h,n,m,c,k){var g=h.ofType({base:null,key:"type",typeMap:{fill:c}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new g;b.type="mesh-3d";return b}r(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:n.clone(this.styleOrigin),
symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};d([m.property({type:g})],b.prototype,"symbolLayers",void 0);d([m.property()],b.prototype,"type",void 0);return b=c=d([m.subclass("esri.symbols.MeshSymbol3D")],b);var c}(m.declared(k))})},"esri/symbols/PictureFillSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./FillSymbol ./support/urlUtils".split(" "),function(a,b,r,d,h,n){var m={xscale:1,yscale:1,xoffset:0,yoffset:0,width:12,
height:12},c=a(h,{declaredClass:"esri.symbols.PictureFillSymbol",properties:{type:"picture-fill",url:n.urlPropertyDefinition,xscale:{value:1,json:{write:!0}},yscale:{value:1,json:{write:!0}},width:{value:12,cast:d.toPt,json:{write:!0}},height:{value:12,cast:d.toPt,json:{write:!0}},xoffset:{value:0,cast:d.toPt,json:{write:!0}},yoffset:{value:0,cast:d.toPt,json:{write:!0}},source:n.sourcePropertyDefinition},getDefaults:function(){return b.mixin(this.inherited(arguments),m)},normalizeCtorArgs:function(a,
b,c,h){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);b&&(f.outline=b);null!=c&&(f.width=d.toPt(c));null!=h&&(f.height=d.toPt(h));return f},clone:function(){var a=new c({color:r.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});a._set("source",r.clone(this.source));return a}});c.defaultProps=m;return c})},"esri/symbols/FillSymbol":function(){define(["./Symbol",
"./SimpleLineSymbol"],function(a,b){return a.createSubclass({declaredClass:"esri.symbols.FillSymbol",properties:{outline:{type:b,json:{read:{default:null},write:!0}},type:null}})})},"esri/symbols/SimpleLineSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/lang","../core/screenUtils","./LineSymbol"],function(a,b,r,d,h){var n={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dash-dot",STYLE_DASHDOTDOT:"long-dash-dot-dot",STYLE_NULL:"none",STYLE_SHORTDASH:"short-dash",
STYLE_SHORTDOT:"short-dot",STYLE_SHORTDASHDOT:"short-dash-dot",STYLE_SHORTDASHDOTDOT:"short-dash-dot-dot",STYLE_LONGDASH:"long-dash",STYLE_LONGDASHDOT:"long-dash-dot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},m={color:[0,0,0,1],style:n.STYLE_SOLID,width:.75,cap:n.CAP_BUTT,join:n.JOIN_MITER,miterLimit:7.5},c=a(h,{declaredClass:"esri.symbols.SimpleLineSymbol",properties:{type:"simple-line",style:{value:n.STYLE_SOLID,json:{read:function(a,
b){return r.valueOf(this._jsonStyles,a)||void 0},write:function(a,b){b.style=this._jsonStyles[a]}}},cap:{value:n.CAP_BUTT,json:{read:!1,write:!1}},join:{value:n.JOIN_MITER,json:{read:!1,write:!1}},miterLimit:{value:7.5,cast:d.toPt,json:{read:!1,write:!1}}},_jsonStyles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot","dash-dot":"esriSLSDashDot","long-dash-dot-dot":"esriSLSDashDotDot",none:"esriSLSNull","inside-frame":"esriSLSInsideFrame","short-dash":"esriSLSShortDash","short-dot":"esriSLSShortDot",
"short-dash-dot":"esriSLSShortDashDot","short-dash-dot-dot":"esriSLSShortDashDotDot","long-dash":"esriSLSLongDash","long-dash-dot":"esriSLSLongDashDot"},getDefaults:function(){return b.mixin(this.inherited(arguments),m)},normalizeCtorArgs:function(a,b,c,h,m,n){if(a&&"string"!==typeof a)return a;var f={};null!=a&&(f.style=a);null!=b&&(f.color=b);null!=c&&(f.width=d.toPt(c));null!=h&&(f.cap=h);null!=m&&(f.join=m);null!=n&&(f.miterLimit=d.toPt(n));return f},clone:function(){return new c({color:r.clone(this.color),
style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})}});b.mixin(c,n);c.defaultProps=m;return c})},"esri/symbols/LineSymbol":function(){define(["../core/declare","../core/screenUtils","./Symbol"],function(a,b,r){return a(r,{declaredClass:"esri.symbols.LineSymbol",properties:{color:{},type:"simple-line",width:{value:.75,cast:b.toPt,json:{write:!0}}}})})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(a,b,r){function d(a,
b,d){return b.imageData?r.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):h(b.url,d)}function h(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||r.isAbsolute(a)||!b.layer.parsedUrl?r.read(a,b):r.join(b.layer.parsedUrl.path,"images",a)}function n(a,b,d,f){r.isDataProtocol(a)?(a=r.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,d&&d.imageData===b.imageData&&d.url&&(b.url=m(d.url,f))):
b.url=m(a,f)}function m(a,b){return r.write(a,b)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=d;b.read=h;b.writeImageDataAndUrl=n;b.write=m;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:d},write:{writer:function(a,b,d,f){n(a,b,this.source,f)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,d){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=
h(b.url,d));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./MarkerSymbol ./support/urlUtils".split(" "),function(a,b,r,d,h,n){var m={width:12,height:12,angle:0,xoffset:0,yoffset:0},c=a(h,{declaredClass:"esri.symbols.PictureMarkerSymbol",properties:{color:{json:{write:!1}},type:"picture-marker",url:n.urlPropertyDefinition,source:n.sourcePropertyDefinition,height:{json:{read:{source:["height","size"],reader:function(a,
b){return b.size||a}},write:!0},cast:d.toPt},width:{json:{read:{source:["width","size"],reader:function(a,b){return b.size||a}},write:!0},cast:d.toPt},size:{json:{write:!1}}},getDefaults:function(){return b.mixin(this.inherited(arguments),m)},normalizeCtorArgs:function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);null!=b&&(f.width=d.toPt(b));null!=c&&(f.height=d.toPt(c));return f},clone:function(){var a=new c({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});a._set("source",r.clone(this.source));return a}});c.defaultProps=m;return c})},"esri/symbols/MarkerSymbol":function(){define(["../core/declare","../core/screenUtils","./Symbol"],function(a,b,r){return a(r,{declaredClass:"esri.symbols.MarkerSymbol",properties:{angle:{value:0,json:{read:function(a){return a&&-1*a},write:function(a,b){b.angle=a&&-1*a}}},type:{},xoffset:{value:0,cast:b.toPt,json:{write:!0}},yoffset:{value:0,cast:b.toPt,json:{write:!0}},
size:{value:9,cast:function(a){return"auto"===a?a:b.toPt(a)},json:{write:!0}}}})})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x,p){var A=h.ofType({base:null,
key:"type",typeMap:{icon:k,object:g,text:v}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new A;b.type="point-3d";return b}r(b,a);f=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new n("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));
b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1!==(this.symbolLayers?this.symbolLayers.length:0))return!1;switch(this.symbolLayers.getItemAt(0).type){case "icon":case "text":case "object":return!0}return!1};b.prototype.hasVisibleCallout=function(){return x.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return x.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new f({verticalOffset:m.clone(this.verticalOffset),
callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};d([c.property({type:p.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);d([c.property(x.calloutProperty)],b.prototype,"callout",void 0);d([c.property({type:A})],b.prototype,"symbolLayers",void 0);d([c.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d([c.property()],b.prototype,"type",void 0);return b=f=d([c.subclass("esri.symbols.PointSymbol3D")],
b);var f}(c.declared(f))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A){var w=h.ofType({base:null,key:"type",typeMap:{extrude:k,fill:g,icon:f,
line:v,object:x,text:A}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}r(b,a);e=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new n("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=
function(){return new e({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new e;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),d=b.symbolLayers.getItemAt(1);!d.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:d.size,color:d.material.color});b.symbolLayers.removeAt(1)}return b};
d([c.property({type:w})],b.prototype,"symbolLayers",void 0);d([c.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);d([c.property()],b.prototype,"type",void 0);return b=e=d([c.subclass("esri.symbols.PolygonSymbol3D")],b);var e}(c.declared(p))})},"esri/symbols/SimpleFillSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/lang","./FillSymbol","./SimpleLineSymbol"],function(a,b,r,d,h){var n={style:"solid",outline:new h,color:[0,0,0,.25]},m=a(d,{declaredClass:"esri.symbols.SimpleFillSymbol",
properties:{color:{},type:"simple-fill",style:{value:"solid",type:String,json:{read:function(a){return r.valueOf(this._styles,a)||void 0},write:function(a,b){b.style=this._styles[a]}}}},_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical","forward-diagonal":"esriSFSForwardDiagonal","backward-diagonal":"esriSFSBackwardDiagonal",cross:"esriSFSCross","diagonal-cross":"esriSFSDiagonalCross"},getDefaults:function(){return b.mixin(this.inherited(arguments),
n)},normalizeCtorArgs:function(a,b,d){if(a&&"string"!==typeof a)return a;var c={};a&&(c.style=a);b&&(c.outline=b);d&&(c.color=d);return c},clone:function(){return new m({color:r.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}});b.mixin(m,{STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forward-diagonal",STYLE_BACKWARD_DIAGONAL:"backward-diagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonal-cross"});
m.defaultProps=n;return m})},"esri/symbols/SimpleMarkerSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,b,r,d,h,n){var m={style:"circle",color:[255,255,255,.25],outline:new n,size:12,angle:0,xoffset:0,yoffset:0},c=a(h,{declaredClass:"esri.symbols.SimpleMarkerSymbol",properties:{color:{json:{write:function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())}}},type:"simple-marker",size:{value:12},
style:{type:String,value:"circle",json:{read:function(a){return r.valueOf(this._styles,a)},write:function(a,b){b.style=this._styles[a]}}},path:{type:String,value:null,set:function(a){this.style="path";this._set("path",a)},json:{write:!0}},outline:{type:n,json:{write:!0}}},_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},getDefaults:function(){return b.mixin(this.inherited(arguments),m)},normalizeCtorArgs:function(a,
b,c,h){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);null!=b&&(f.size=d.toPt(b));c&&(f.outline=c);h&&(f.color=h);return f},clone:function(){return new c({angle:this.angle,color:r.clone(this.color),outline:this.outline&&this.outline.clone(),size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})},read:function g(a,c){return this.getInherited(g,arguments).call(this,b.mixin({outline:null},a),c)}});b.mixin(c,{STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",
STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"});c.defaultProps=m;return c})},"esri/symbols/TextSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ../Color ./Symbol ./Font".split(" "),function(a,b,r,d,h,n,m){var c={text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:{},angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},k=a(n,{declaredClass:"esri.symbols.TextSymbol",properties:{backgroundColor:{type:h,json:{write:!0}},borderLineColor:{type:h,
json:{write:!0}},borderLineSize:{type:Number,json:{write:!0}},color:{},font:{type:m,json:{write:!0}},horizontalAlignment:{value:"center",json:{write:!0}},kerning:{value:!0,json:{write:!0}},haloColor:{type:h,json:{write:!0}},haloSize:{type:Number,cast:d.toPt,json:{write:!0}},rightToLeft:{json:{write:!0}},rotated:{value:!1,json:{write:!0}},text:{type:String,json:{write:!0}},type:"text",verticalAlignment:{type:String,json:{write:!0}},xoffset:{value:0,type:Number,cast:d.toPt,json:{write:!0}},yoffset:{value:0,
type:Number,cast:d.toPt,json:{write:!0}},angle:{type:Number,value:0,json:{read:function(a){return a&&-1*a},write:function(a,b){b.angle=a&&-1*a}}},width:{json:{write:!0}}},getDefaults:function(){return b.mixin(this.inherited(arguments),c)},normalizeCtorArgs:function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d},clone:function(){return new k({angle:this.angle,backgroundColor:r.clone(this.backgroundColor),borderLineColor:r.clone(this.borderLineColor),
borderLineSize:this.borderLineSize,color:r.clone(this.color),font:this.font&&this.font.clone(),haloColor:r.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}});b.mixin(k,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",
DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});k.defaultProps=c;return k})},"esri/symbols/Font":function(){define(["dojo/_base/lang","../core/JSONSupport","../core/lang","../core/screenUtils"],function(a,b,r,d){var h={style:"normal",weight:"normal",size:9,family:"serif",decoration:"none"},n=b.createSubclass({declaredClass:"esri.symbols.Font",properties:{decoration:{},family:{},size:{cast:d.toPt},style:{},weight:{}},getDefaults:function(){return h},normalizeCtorArgs:function(a,
b,h,g){if(a&&"string"!==typeof a)return a;var c={};null!=a&&(c.size=d.toPt(a));null!=b&&(c.style=b);null!=h&&(c.weight=h);g&&(c.family=g);return c},toJSON:function(){return r.fixJson({size:this.size,style:this.style,decoration:this.decoration,weight:this.weight,family:this.family})},clone:function(){return new n({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}});n.defaultProps=h;a.mixin(n,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",
WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});return n})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/extendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),function(a,b,r,d,h,n,m,c,k,g,f){var v=h.getLogger("esri.symbols.WebStyleSymbol");return function(b){function g(a){a=b.call(this,
a)||this;a.styleName=null;a.portal=null;a.styleUrl=null;a.thumbnail=null;a.name=null;a.type="web-style";return a}r(g,b);h=g;g.prototype._readStyleUrl=function(a,b,c){return m.read(a,c)};g.prototype._writeStyleUrl=function(a,b,c,d){b.styleUrl=m.write(a,d);m.isAbsolute(b.styleUrl)&&(b.styleUrl=m.normalize(b.styleUrl))};g.prototype._writeType=function(a,b,c,d){b.type="styleSymbolReference"};g.prototype.read=function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b]);return this};g.prototype.clone=
function(){return new h({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};g.prototype.fetchSymbol=function(){var b=this;return n.create(function(b){return a(["./support/styleUtils"],b)}).then(function(a){a=a.resolveWebStyleSymbol(b,{portal:b.portal});a.catch(function(a){v.error("#fetchSymbol()","Failed to create symbol from style",a)});return a})};d([c.property({json:{write:!1}})],g.prototype,"color",void 0);d([c.property({type:String,json:{write:!0}})],g.prototype,
"styleName",void 0);d([c.property({type:k,json:{write:!1}})],g.prototype,"portal",void 0);d([c.property({type:String,json:{write:!0}})],g.prototype,"styleUrl",void 0);d([c.reader("styleUrl")],g.prototype,"_readStyleUrl",null);d([c.writer("styleUrl")],g.prototype,"_writeStyleUrl",null);d([c.property({type:f.default,json:{read:!1}})],g.prototype,"thumbnail",void 0);d([c.property({type:String,json:{write:!0}})],g.prototype,"name",void 0);d([c.property({type:String,readOnly:!0,json:{read:!1}})],g.prototype,
"type",void 0);d([c.writer("type")],g.prototype,"_writeType",null);return g=h=d([c.subclass("esri.symbols.WebStyleSymbol")],g);var h}(c.declared(g))})},"esri/symbols/support/symbolConversion":function(){define("require exports dojo/_base/lang ../../Color ../../symbols ../../core/Error ../../core/lang ../FillSymbol3DLayer ../Font ../IconSymbol3DLayer ../LabelSymbol3D ../LineSymbol3D ../LineSymbol3DLayer ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ../TextSymbol3DLayer ../WebStyleSymbol".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B,z){function C(a){var b=a.color?a.color.clone():new d([255,255,255]),c,e,f;a instanceof p?(a.color&&0===a.color.r&&0===a.color.g&&0===a.color.b&&(b=new d([255,255,255])),c={href:a.url},e=a.width<=a.height?a.height:a.width):(c=a.style,c in F?c=F[c]:(console.log(c+' cannot be mapped to Icon symbol. Fallback to "circle"'),c="circle"),c={primitive:c},e=a.size,a.outline&&a.outline.color&&0<a.outline.width&&(f={size:a.outline.width,color:a.outline.color.clone()}));
return new A(new g({size:e,resource:c,material:{color:b},outline:f}))}Object.defineProperty(b,"__esModule",{value:!0});var F={};F[e.STYLE_CIRCLE]="circle";F[e.STYLE_CROSS]="cross";F[e.STYLE_DIAMOND]="kite";F[e.STYLE_SQUARE]="square";F[e.STYLE_X]="x";b.to3D=function(a,b,d,g){void 0===b&&(b=!1);void 0===d&&(d=!1);void 0===g&&(g=!0);if(!a)return{symbol:null};if(h.isSymbol3D(a)||a instanceof z)g=a.clone();else if(a instanceof u)g=new v(new x({size:a.width||1,material:{color:a.color?a.color.clone():[255,
255,255]}}));else if(a instanceof e)g=C(a);else if(a instanceof p)g=C(a);else if(a instanceof y)g=new c({material:{color:a.color?a.color.clone():[255,255,255]}}),a.outline&&a.outline.color&&(g.outline={size:a.outline.width||0,color:a.outline.color}),g=new w(g);else if(a instanceof l){var E=r.clone(k.defaultProps);a.font&&r.mixin(E,a.font);var F;F=a.haloColor;var G=a.haloSize;F=F&&0<G?{color:m.clone(F),size:G}:null;g=new (g?f:A)(new B({size:E.size,font:{family:E.family,weight:E.weight,style:E.style},
halo:F,material:{color:a.color.clone()},text:a.text}))}else return{error:new n("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(g.id=a.id);if(d&&h.isSymbol3D(g))for(a=0;a<g.symbolLayers.length;++a)g.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:g}}})},"esri/symbols":function(){define("require exports ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/support/jsonUtils".split(" "),
function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y,u,e,l,B,z,C,F,G,I,E,M){Object.defineProperty(b,"__esModule",{value:!0});b.ExtrudeSymbol3DLayer=r;b.BaseFillSymbol=d;b.FillSymbol3DLayer=h;b.Font=n;b.IconSymbol3DLayer=m;b.LabelSymbol3D=c;b.LineSymbol3D=k;b.LineSymbol3DLayer=g;b.BaseMarkerSymbol=f;b.MeshSymbol3D=v;b.ObjectSymbol3DLayer=x;b.PathSymbol3DLayer=p;b.PictureFillSymbol=A;b.PictureMarkerSymbol=w;b.PointSymbol3D=y;b.PolygonSymbol3D=u;b.SimpleFillSymbol=e;b.SimpleLineSymbol=l;b.SimpleMarkerSymbol=B;
b.BaseSymbol=z;b.BaseSymbol3D=C;b.BaseSymbol3DLayer=F;b.TextSymbol=G;b.TextSymbol3DLayer=I;b.WebStyleSymbol=E;b.fromJSON=M.fromJSON;b.isSymbol=function(a){return a instanceof b.BaseSymbol};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":return!0;default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}}})},"esri/symbols/support/typeUtils":function(){define("require exports ../../core/accessorSupport/ensureType ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol ../TextSymbol ../WebStyleSymbol".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:p,key:"type",typeMap:{"simple-fill":f,
"picture-fill":m,"picture-marker":c,"simple-line":v,"simple-marker":x,text:A,"label-3d":d,"line-3d":h,"mesh-3d":n,"point-3d":k,"polygon-3d":g,"web-style":w}};b.rendererTypes={base:p,key:"type",typeMap:{"simple-fill":f,"picture-fill":m,"picture-marker":c,"simple-line":v,"simple-marker":x,text:A,"line-3d":h,"mesh-3d":n,"point-3d":k,"polygon-3d":g,"web-style":w}};b.labelTypes={base:p,key:"type",typeMap:{text:A,"label-3d":d}};b.types3D={base:p,key:"type",typeMap:{"label-3d":d,"line-3d":h,"mesh-3d":n,
"point-3d":k,"polygon-3d":g,"web-style":w}};b.rendererTypes3D={base:p,key:"type",typeMap:{"line-3d":h,"mesh-3d":n,"point-3d":k,"polygon-3d":g,"web-style":w}};b.labelTypes3D={base:p,key:"type",typeMap:{"label-3d":d}};b.ensureType=r.ensureOneOfType(b.types)})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/JSONSupport ../../core/kebabDictionary ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(a,b,r,d,h,n,m,c,k){Object.defineProperty(b,"__esModule",{value:!0});var g=m({upperLeft:"upper-left",lowerLeft:"lower-left"});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.extent=null;b.mode="view";b.originPosition="upper-left";return b}r(b,a);f=b;b.prototype.clone=function(){return new f(c.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};d([k.property({type:h.Extent,json:{write:!0}})],b.prototype,"extent",
void 0);d([k.property({type:String,json:{write:!0}})],b.prototype,"mode",void 0);d([k.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"originPosition",void 0);d([k.property({type:Number,json:{write:!0}})],b.prototype,"tolerance",void 0);return b=f=d([k.subclass("esri.tasks.support.QuantizationParameters")],b);var f}(k.declared(n));b.default=a})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,r,d,h,n){return function(a){function b(b){b=a.call(this)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;return b}r(b,a);h=b;b.prototype.clone=function(){return new h({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})};
d([n.property({type:Number,json:{write:!0}})],b.prototype,"maxPointCount",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0);d([n.property({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0);d([n.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);d([n.property({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0);d([n.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);
return b=h=d([n.subclass("esri.tasks.support.StatisticDefinition")],b);var h}(n.declared(h))})},"*noref":1}});
define("require exports ../../../../core/tsSupport/generatorHelper @dojo/shim/Set dojo/has dojo/number dstore/Csv ../../../../geometry ../../../../request ../../../../core/Error ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../geometry/projection ../../../../geometry/support/spatialReferenceUtils ../../../../geometry/support/webMercatorUtils ../../data/FeatureStore ../../../../tasks/support/Query".split(" "),function(a,b,r,d,h,n,m,c,k,g,f,v,x,p,A,w,y){Object.defineProperty(b,"__esModule",
{value:!0});var u=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],e="lat latitude y ycenter latitude83 latdecdeg POINT-Y".split(" "),l="lon lng long longitude x xcenter longitude83 longdecdeg POINT-X".split(" "),B=[","," ",";","|","\t"],z=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,C=[0,0],F=function(){return function(a,
b){this.x=a;this.y=b}}(),G=function(){var a=n._parseInfo(),b=new RegExp("^"+a.regexp+"$"),c=new RegExp("["+a.group+"\\s\\xa0]","g"),d=a.factor;return function(e){e=b.exec(e);a.factor=d;if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];a.factor*=-1}f=f.replace(c,"").replace(a.decimal,".");return+f*a.factor}}();a=function(){function a(){this._store=null}a.prototype.load=function(a){var b=this;return f.all([this._fetch(a.url),this._checkProjection(a)]).then(function(c){c=c[0];var d=b._parse(c,
a.parsing);b._store=b._createStore(c,d);return b._store.executeQueryForExtent().then(function(a){d.layerDefinition.extent=a.extent;return d})})};a.prototype.queryFeatures=function(a){return this._store.executeQuery(y.fromJSON(a))};a.prototype.queryFeatureCount=function(a){return this._store.executeQueryForCount(y.fromJSON(a))};a.prototype.queryObjectIds=function(a){return this._store.executeQueryForIds(y.fromJSON(a))};a.prototype.queryExtent=function(a){return this._store.executeQueryForExtent(y.fromJSON(a))};
a.prototype._fetch=function(a){if(!a)return f.reject(new g("csv-source:invalid-source","url not defined"));a=v.urlToObject(a);return k(a.path,{query:a.query,responseType:"text"}).then(function(a){return a.data})};a.prototype._parse=function(a,b){var c={columnDelimiter:b.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:b.latitudeField,longitudeFieldName:b.longitudeField}},d=this._readFirstLine(a);if(!d)throw new g("csv","CSV is empty");if(!b.columnDelimiter){var e=this._inferDelimiter(d);
if(!e)throw new g("csv","Unable to detect the delimiter from CSV");c.columnDelimiter=e}var d=d.split(c.columnDelimiter),f=c.layerDefinition={name:"csv",geometryType:"esriGeometryPoint",objectIdField:null,fields:[],extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:b.spatialReference||{wkid:102100}}};if(!b.latitudeField||!b.longitudeField){e=this._inferLocationInfo(d);if(!b.longitudeField&&!e.longitudeFieldName||
!b.latitudeField&&!e.latitudeFieldName)throw new g("csv","Unable to identify latitudeField and/or longitudeField from CSV");c.locationInfo={longitudeFieldName:b.longitudeField||e.longitudeFieldName,latitudeFieldName:b.latitudeField||e.latitudeFieldName}}f.fields=b.fields&&b.fields.length?b.fields:this._inferFields(a,c.columnDelimiter,d,c.locationInfo);f.fields.some(function(a){return"esriFieldTypeOID"===a.type?(f.objectIdField=a.name,!0):!1})||(f.objectIdField="__OBJECTID",f.fields.unshift({name:"__OBJECTID",
alias:"__OBJECTID",type:"esriFieldTypeOID",domain:null}));return c};a.prototype._inferLocationInfo=function(a){var b=null,c=null;a.forEach(function(a){var d=a.toLowerCase(),f;f=e.indexOf(d);-1===f||c||(c=a);f=l.indexOf(d);-1===f||b||(b=a)});return{longitudeFieldName:b,latitudeFieldName:c}};a.prototype._inferFields=function(a,b,c,d){var e=[],f=this._sampleLines(a).map(function(a){return a.split(b).map(function(a){return a.trim()})});a=function(a){var b=c[a];if(b===d.longitudeFieldName||b===d.latitudeFieldName)e.push({name:b,
alias:b,type:"esriFieldTypeDouble",domain:null});else{var h=f.map(function(b){return b[a]}),h=g._inferFieldType(h),b={name:b.replace(/[\s\'\u2019\u2018\.\-\/\(\)]+/g,"_"),type:null,alias:b,domain:null,editable:!0,nullable:!0};switch(h){case "integer":b.type="esriFieldTypeInteger";break;case "double":b.type="esriFieldTypeDouble";break;case "date":b.type="esriFieldTypeDate";b.length=36;break;default:b.type="esriFieldTypeString",b.length=255}e.push(b)}};for(var g=this,h=0;h<c.length;h++)a(h);return e};
a.prototype._inferFieldType=function(a){var b=this,c=/[^+-.,0-9]/;return a.map(function(a){var d=!1;if(""===a||c.test(a))d=!0;else if(d=G(a),isNaN(d))if(-1===a.indexOf("E"))d=!0;else if(d=Number(a),isNaN(d))if(-1===a.indexOf(","))d=!0;else if(a=a.replace(",","."),d=Number(a),isNaN(d))d=!0;else return"double";else return"double";else return/[.,]/.test(a)?"double":214783647<d||-214783648>d?"double":"integer";return d&&!/^[-]?\d*[.,]?\d*$/.test(a)&&b._isValidDate(new Date(a),a)?"date":"string"}).reduce(function(a,
b){if(a===b)return b;if("string"===a||"string"===b)return"string";if("double"===a||"double"===b)return"double"})};a.prototype._isValidDate=function(a,b){if(!a||"[object Date]"!==Object.prototype.toString.call(a)||isNaN(a.getTime()))return!1;a=!0;if(h("chrome")&&/\d+\W*$/.test(b)&&(b=b.match(/[a-zA-Z]{2,}/))){a=!1;for(var c=0;!a&&c<=b.length;)a=!z.test(b[c]),c++;a=!a}return a};a.prototype._readFirstLine=function(a){return a.substring(0,a.indexOf("\n")).trim()};a.prototype._sampleLines=function(a,b){void 0===
b&&(b=10);for(var c=!1,d=[],e=a.indexOf("\n")+1;!c&&d.length<b;){var f=a.indexOf("\n",e);-1===f&&(c=!0);var g=void 0;(g=-1===f&&e<a.length-1?a.substring(e).trim():a.substring(e,f).trim())&&d.push(g);e=f+1}return d};a.prototype._inferDelimiter=function(a){var b=0,c="";B.forEach(function(d){var e=a.split(d).length;e>b&&(b=e,c=d)});return""===c?null:c};a.prototype._createStore=function(a,b){for(var e=b.locationInfo,f=e.latitudeFieldName,g=e.longitudeFieldName,e=b.layerDefinition,h=e.objectIdField,k=
e.fields,e=e.extent,l=[],n=[],v=new d.Set,y=new d.Set,z=[],B=0;B<k.length;B++){var E=k[B],I=E.name,E=E.type;"esriFieldTypeDate"===E?v.add(I):-1<u.indexOf(E)&&y.add(I);I!==h&&z.push(I)}k=new m;k.delimiter=b.columnDelimiter;k.fieldNames=z;k.newline="\n";a=k.parse(a);k=0;a.shift();for(z=0;z<a.length;z++)if(B=a[z],I=this._parseCoordinateValue(B[f]),E=this._parseCoordinateValue(B[g]),null!=E&&null!=I&&!isNaN(I)&&!isNaN(E)){for(var M in B)if(M!==f&&M!==g)if(v.has(M)){var U=new Date(B[M]);B[M]=this._isValidDate(U,
B[M])?U.getTime():null}else y.has(M)&&(U=G(B[M]),isNaN(U)?B[M]=null:B[M]=U);B[h]=k;k++;l.push(new F(E,I));n.push(B)}if(!p.equals({wkid:4326},e.spatialReference))if(p.isWebMercator(e.spatialReference))for(f=0,M=l;f<M.length;f++)g=M[f],h=A.lngLatToXY(g.x,g.y,C),g.x=h[0],g.y=h[1];else l=x.projectMany(l,c.SpatialReference.WGS84,e.spatialReference,null,!0);b=new w.default({fields:b.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,objectIdField:b.layerDefinition.objectIdField,spatialReference:e.spatialReference||
{wkid:4326},cacheSpatialQueries:!0});b.load({oids:function(){var a,b;return r(this,function(c){switch(c.label){case 0:a=l.length,b=0,c.label=1;case 1:return b<a?[4,b]:[3,4];case 2:c.sent(),c.label=3;case 3:return b++,[3,1];case 4:return[2]}})},getAttributes:function(a){return n[a]},getBounds:function(a){a=l[a];return[a.x,a.y,a.x,a.y]},getCentroid:function(a){return this.getGeometry(a)},getCentroidQuantized:function(a,b,c,d){return this.getGeometryQuantized(a,b,c,d)},getGeometry:function(a){return l[a]},
getGeometryQuantized:function(a,b,c,d){a=l[a];b=a.y;return{x:c(a.x),y:d(b)}}});return b};a.prototype._parseCoordinateValue=function(a){if(null==a||""===a)return null;var b=G(a);if(isNaN(b)||181<Math.abs(b))b=parseFloat(a);return b};a.prototype._checkProjection=function(a){a=a.parsing.spatialReference;return!a||A.canProject(c.SpatialReference.WGS84,a)?f.resolve():x.isSupported()?x.load():f.reject(new g("csv-layer","Projection not supported"))};return a}();b.default=a});