// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,b,k,n,t,g,u,m){a=function(a){function e(d){d=a.call(this)||this;d.latestWkid=null;d.wkid=null;d.wkt=null;return d}k(e,a);d=e;e.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return d.WebMercator;if(4326===
a.wkid)return d.WGS84}var e=new d;e.read(a);return e};e.prototype.normalizeCtorArgs=function(a){return a&&"object"===typeof a?a:(d={},d["string"===typeof a?"wkt":"wkid"]=a,d);var d};Object.defineProperty(e.prototype,"isWGS84",{get:function(){return m.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"isWebMercator",{get:function(){return m.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"isGeographic",{get:function(){return m.isGeographic(this)},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"isWrappable",{get:function(){return m.isWrappable(this)},enumerable:!0,configurable:!0});e.prototype.writeWkt=function(a,d){this.wkid||(d.wkt=a)};e.prototype.clone=function(){if(this===d.WGS84)return d.WGS84;if(this===d.WebMercator)return d.WebMercator;var a=new d;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=
this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};e.prototype.equals=function(a){return m.equals(this,a)};e.prototype.toJSON=function(a){return this.write(null,a)};e.GCS_NAD_1927=null;e.WGS84=null;e.WebMercator=null;n([u.property({dependsOn:["wkid"],readOnly:!0})],e.prototype,"isWGS84",null);n([u.property({dependsOn:["wkid"],readOnly:!0})],e.prototype,"isWebMercator",null);n([u.property({dependsOn:["wkid","wkt"],readOnly:!0})],e.prototype,"isGeographic",null);n([u.property({dependsOn:["wkid"],
readOnly:!0})],e.prototype,"isWrappable",null);n([u.property({type:Number,json:{write:!0}})],e.prototype,"latestWkid",void 0);n([u.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],e.prototype,"wkid",void 0);n([u.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],e.prototype,"wkt",void 0);n([u.writer("wkt"),u.writer("web-scene",
"wkt")],e.prototype,"writeWkt",null);n([u.property({type:Number,json:{write:!0}})],e.prototype,"vcsWkid",void 0);n([u.property({type:Number,json:{write:!0}})],e.prototype,"latestVcsWkid",void 0);return e=d=n([u.subclass("esri.geometry.SpatialReference")],e);var d}(u.declared(t));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
a.WGS84=new a(4326);a.WGS84.wkt=g.substitute({Central_Meridian:"0.0"},m.getInfo(a.WGS84).wkTemplate);a.WebMercator=new a({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(a,b){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(a,b,k,n){var t=
arguments.length,g=3>t?b:null===n?n=Object.getOwnPropertyDescriptor(b,k):n,u;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)g=Reflect.decorate(a,b,k,n);else for(var m=a.length-1;0<=m;m--)if(u=a[m])g=(3>t?u(g):3<t?u(b,k,g):u(b,k))||g;return 3<t&&g&&Object.defineProperty(b,k,g),g}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,b,k,n,t,g,u,m,x){function e(a,d){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var e=new this;e.read(a,d);return e}var d=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}k(d,a);d.prototype.read=function(a,d){m.default(this,a,d);return this};d.prototype.write=function(a,d){return x.default(this,a||{},d)};d.prototype.toJSON=function(a){return this.write(null,a)};d.fromJSON=function(a,d){return e.call(this,a,d)};return d=n([u.subclass("esri.core.JSONSupport")],
d)}(u.declared(t));d.prototype.toJSON.isDefaultToJSON=!0;g.after(function(a){g.hasMixin(a,d)&&(a.fromJSON=e.bind(a))});return d})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(a,b,k,n,t,g){b=b.default;a.before(function(b,x){a.hasMixin(b,u)&&n.processPrototype(x)});a.after(function(b){a.hasMixin(b,u)&&(n.processClass(b),Object.defineProperties(b.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var u=a(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===u)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],x=0;x<arguments.length;x++)a.push(arguments[x]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;var e;null!=this.getDefaults&&(e=this.getDefaults(a||{}),this.set(e));b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(m){console.warn(m.stack)}else g.removeTarget(this),this.__accessor__.destroy()},get:function(a){return k.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){t.set(this,a,b);return this},watch:function(a,b,e){return g.watch(this,a,b,e)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return u})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(a,b,k){function n(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return t([this].concat(a),
b)}function t(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var e,d;e=0;for(d=g.length;e<d;e++)g[e](a,b);a=k(a,b);a.createSubclass=n;e=0;for(d=u.length;e<d;e++)u[e](a);return a}var g=[],u=[];(function(a){a.hasMixin=function(a,e){a=Array.isArray(a)?a.reduce(function(a,d){return d._meta?a.concat(d._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof e)for(var d=a.length-1;0<=d;d--)if(a[d].prototype.declaredClass===
e)return!0;return-1!==a.indexOf(e)};a.safeMixin=function(a,e){return k.safeMixin(a,e)};a.before=function(a){g.push(a)};a.after=function(a){u.push(a)}})(t||(t={}));return t})},"esri/core/accessorSupport/Properties":function(){define("require exports dojo/has ../Logger ./extensions ./PropertyOrigin ./Store".split(" "),function(a,b,k,n,t,g,u){Object.defineProperty(b,"__esModule",{value:!0});n.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=g.OriginId.USER;
this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new u.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;t.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(this.cursors)for(var e=0,d=Object.getOwnPropertyNames(a);e<
d.length;e++){var b=d[e],h=a[b];if(h){for(;0<h.length;)h.pop().propertyDestroyed(this,b);a[b]=null}}if(this.autoDestroy)for(b in this.metadatas)(a=this.internalGet(b))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[b].nonNullable||this.internalSet(b,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};
a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var d=b.get;return d?(b=d.call(this.host),this.store.set(a,b,g.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":g.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=
this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){this.metadatas[a]&&(this.propertyInvalidated(a),this.initialized?this.store.set(a,b,this._origin):this.store.set(a,b,g.OriginId.DEFAULTS),this.propertyCommitted(a))};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return this.store.keys()};a.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden=
{});var d=this.metadatas[a];d.nonNullable&&null==b||((d=d.cast)&&(b=d.call(this.host,b)),this.overridden[a]=!0,this.internalSet(a,b))}};a.prototype.set=function(a,b){if(this.metadatas[a]){var d=this.metadatas[a];if(!d.nonNullable||null!=b){var e=d.set;(d=d.cast)&&(b=d.call(this.host,b));e?e.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=function(a){this._origin=g.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,d=this.isOverridden(a),l=this.cursors&&
this.cursors[a],h=this.metadatas[a].computes;if(l)for(var m=0;m<l.length;m++)l[m].propertyInvalidated(this,a);d||(b[a]=!0);if(h)for(a=0;a<h.length;a++)this.propertyInvalidated(h[a])};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var d=0;d<b.length;d++)b[d].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var d=this.cursors[a];d||(this.cursors[a]=d=[]);d.push(b)};a.prototype.removeCursor=function(a,
b){var d=this.cursors[a];this.cursors[a]&&(d.splice(d.indexOf(b),1),0===d.length&&(this.cursors[a]=null))};return a}();b.default=a})},"esri/core/Logger":function(){define(["require","exports","dojo/has"],function(a,b,k){var n={info:0,warn:1,error:2};a=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,
b)))}a.prototype.log=function(a){for(var b=[],m=1;m<arguments.length;m++)b[m-1]=arguments[m];this._isEnabled()&&this._matchLevel(a)&&(m=this._inheritedWriter())&&m.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],
b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=function(b){var g=a._loggers[b];g||(g=new a({module:b}));return g};a.prototype._parentWithMember=function(a,b){for(var m=this;m&&null==m[a];)m=m.parent;return m?m[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var m=[],g=2;g<
arguments.length;g++)m[g-2]=arguments[g];console[a].apply(console,["["+b+"]"].concat(m))};a.prototype._matchLevel=function(a){return n[this._parentWithMember("level","error")]<=n[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a.getLogger("esri").level="warn";return a})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],
function(a,b,k,n,t){Object.defineProperty(b,"__esModule",{value:!0});var g=[k.default,n.default,t.default];b.processPrototypeMetadatas=function(a,b){for(var m=Object.getOwnPropertyNames(a),e=0;e<g.length;e++){var d=g[e];if(d.processPrototypePropertyMetadata)for(var l=0,h=m;l<h.length;l++){var y=h[l];d.processPrototypePropertyMetadata(y,a[y],a,b)}}};b.processClassMetadatas=function(a,b){for(var m=Object.getOwnPropertyNames(a),e=0;e<g.length;e++){var d=g[e];if(d.processClassPropertyMetadata)for(var l=
0,h=m;l<h.length;l++){var y=h[l];d.processClassPropertyMetadata(y,a[y],a,b)}}};b.instanceCreated=function(a,b){for(var m=Object.getOwnPropertyNames(b),e=0;e<g.length;e++){var d=g[e];d.instanceCreated&&d.instanceCreated(a,b,m)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports dojo/has ../get ../set ../utils ../wire".split(" "),function(a,b,k,n,t,g,u){function m(a,b,d){var e=g.getProperties(a);return u.wire(a,d.aliasOf,function(){e.propertyInvalidated(b)})}
Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,d,l){var e=b.aliasOf;if(e&&(a=e.split(".")[0],null!=d[a]&&!b.set&&!b.get)){var m;b.get=function(){var a=n.default(this,e);if("function"===typeof a){m||(m=e.split(".").slice(0,-1).join("."));var d=n.default(this,m);d&&(a=a.bind(d))}return a};b.readOnly||(b.set=function(a){return t.default(this,e,a)})}},instanceCreated:function(a,b,d){for(var e=0;e<d.length;e++){var h=d[e],y=b[h];y.aliasOf&&
m(a,h,y)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(a,b,k){function n(a,b,e){if(null!=e.getItemAt||Array.isArray(e)){var d=parseInt(a,10);if(!isNaN(d))return Array.isArray(e)?e[d]:e.getItemAt(d)}d=k.getProperties(e);return b?k.isPropertyDeclared(d,a)?d.get(a):e[a]:k.isPropertyDeclared(d,a)?d.internalGet(a):e[a]}function t(a,b,e,d){if(null==a)return a;if((a=n(b[d],e,a))||!(d<b.length-1))return d===b.length-1?
a:t(a,b,e,d+1)}function g(a,b,e,d){void 0===e&&(e=!1);void 0===d&&(d=0);return"string"===typeof b&&-1===b.indexOf(".")?n(b,e,a):t(a,k.pathToArray(b),e,d)}function u(a,b){return g(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=g;b.get=u;b.exists=function(a,b){return void 0!==g(b,a,!0)};b.default=u})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(a,b,k){function n(a,b){return b?Object.keys(b).reduce(function(a,d){if("value"===d)return a[d]=
b[d],a;if(void 0===a[d])return a[d]=k.clone(b[d]),a;var e=a[d],h=b[d];if(e===h)return a;if(Array.isArray(h)||Array.isArray(a))e=e?Array.isArray(e)?a[d]=e.concat():a[d]=[e]:a[d]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(function(a){-1===e.indexOf(a)&&e.push(a)}));else if(h&&"object"===typeof h)a[d]=n(e,h);else if(!a.hasOwnProperty(d)||b.hasOwnProperty(d))a[d]=h;return a},a||{}):a}function t(a){return Array.isArray(a)?a:a.split(".")}function g(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?
a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function u(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};b.merge=n;b.pathToStringOrArray=function(a){return a?"string"===typeof a&&-1===a.indexOf(".")?a:t(a):a};b.pathToArray=
t;b.splitPath=g;b.parse=function(a,b,e,d){b=g(b);if(Array.isArray(b)){var l=b.map(function(b){return d(a,b.trim(),e)});return{remove:u(function(){return l.forEach(function(a){return a.remove()})})}}return d(a,b.trim(),e)};b.once=u})},"esri/core/accessorSupport/set":function(){define(["require","exports","dojo/has","../Logger","./get"],function(a,b,k,n,t){function g(a,b,x){if(a&&b)if("object"===typeof b){x=0;for(var e=Object.getOwnPropertyNames(b);x<e.length;x++){var d=e[x];g(a,d,b[d])}}else"_"!==
b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),d=b.splice(b.length-1,1)[0],g(t.default(a,b),d,x)):a[b]=x)}Object.defineProperty(b,"__esModule",{value:!0});n.getLogger("esri.core.accessorSupport.set");b.set=g;b.default=g})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(a,b,k){function n(a,d,b){d=k.splitPath(d);if(Array.isArray(d)){for(var e=[],l=0;l<d.length;l++)e.push((new t(d[l],b)).install(a));return new m(e)}a=(new t(d,b)).install(a);return new x(a)}Object.defineProperty(b,
"__esModule",{value:!0});var t=function(){function a(a,b){this.path=a;this.callback=b;this.chain=null;this.path=a;-1<a.indexOf(".")&&(this.chain=k.pathToArray(a));this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new u(this,a):new g(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),g=function(){function a(a,b){this.binding=a;this.target=b;k.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(k.getProperties(this.target).removeCursor(this.binding.path,
this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){k.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),u=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=k.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});
this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};
a.prototype.moveBackward=function(a,b){for(var d=this.stack,e=d[d.length-1];e.properties!==a&&e.propertyName!==b;)e.properties.removeCursor(e.propertyName,this),d.pop(),e=d[d.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1],b=b.properties.internalGet(b.propertyName);(b=k.getProperties(b))&&a.length<this.binding.chain.length&&(a=this.binding.chain[a.length],this.stack.push({properties:b,propertyName:a}),b.addCursor(a,this),this.moveForward())};return a}(),m=function(){function a(a){this.cursors=
a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),x=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();b.create=function(a,b){a=k.splitPath(a);if(Array.isArray(a)){for(var d=[],e=0;e<a.length;e++)d.push(new t(a[e],b));return function(a){for(var b=[],e=0;e<d.length;e++)b[e]=d[e].install(a);return new m(b)}}var g=new t(a,b);return function(a){return new x(g.install(a))}};
b.wire=n;b.default=n})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports dojo/has ../../Logger ../utils ../wire".split(" "),function(a,b,k,n,t,g){Object.defineProperty(b,"__esModule",{value:!0});n.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,x,e){b.dependsOn&&(x=void 0,x=b.dependsOn.slice())&&(b.wire=g.create(x,function(b){return t.getProperties(b).propertyInvalidated(a)}))},
instanceCreated:function(a,b,g){for(var e=0;e<g.length;e++){var d=b[g[e]];d.wire&&d.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,k,n,t,g){function u(a,b,e){var d=a&&a.json;a&&a.json&&a.json.origins&&e&&(a=a.json.origins[e.origin])&&b in a&&(d=
a);return d}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,b){return u(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return u(a,"write",b)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,e,d){if(t.process(b)){k.process(b);e=b.type;for(d=0;Array.isArray(e);)e=e[0],d++;if(b.json.origins)for(var l in b.json.origins){var h=b.json.origins[l];n.create(e,d,a,h);g.create(e,d,a,h)}n.create(e,d,a,b.json);
g.create(e,d,a,b.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,k={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var m=b[a];k[a].forEach(function(a){b[a]=m});delete b[a]}};for(var g in k)a(g)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(a,b,k,n){function t(a,b,d,z){if(1<b)return m(a,b);if(1===b)return x(a);if(e(a)){var h=x(a.prototype.itemType.Type);return function(b,d,c){return(b=h(b,d,c))?new a(b):b}}return g(a)}function g(a){return a.prototype.read?function(b,d,e){return null==b?b:(new a).read(b,e)}:a.fromJSON}function u(a,b,d,e){return 0!==e&&Array.isArray(b)?b.map(function(b){return u(a,b,d,e-1)}):a(b,null,d)}function m(a,b){a=g(a);var d=u.bind(null,a);return function(a,e,h){if(null==
a)return a;a=d(a,h,b);e=b;for(h=a;0<e&&Array.isArray(h);)e--,h=h[0];if(void 0!==h)for(h=0;h<e;h++)a=[a];return a}}function x(a){var b=g(a);return function(a,d,e){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,e)}):[b(a,null,e)]}}function e(a){return n.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?d(a.Type):!1:!1}function d(a){return!!a&&(!!a.prototype.read||!!a.fromJSON||e(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,
b,e,m){(!m.read||!m.read.reader&&!1!==m.read.enabled)&&d(a)&&k.setDeepValue("read.reader",t(a,b,e,m),m)}})},"esri/core/object":function(){define(["require","exports"],function(a,b){function k(a,b,g){for(var u=0;u<a.length;u++){var m=a[u];if(!(m in g))if(b)g[m]={};else return;g=g[m]}return g}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(a,b){return k(a.split("."),!1,b)};b.setDeepValue=function(a,b,g){var u=a.split(".");a=u.pop();(g=k(u,!0,g))&&a&&(g[a]=b)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(a){return!!a&&!!a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(a,b){function k(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&
(a.read.enabled=!0)}function n(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){a.json||(a.json={});k(a.json);n(a.json);if(a.json.origins)for(var b in a.json.origins)k(a.json.origins[b]),n(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(a,b,k,n){function t(a,b,l,h){k.setDeepValue(l,g(a,h),b)}function g(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function u(a,b,l,h){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return g(a,h)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[g(a,h)];k.setDeepValue(l,a,b)}function m(a,
b,l){return 0!==l&&Array.isArray(a)?a.map(function(a){return m(a,b,l-1)}):g(a,b)}function x(a){return function(b,e,h,g){if(null===b)b=null;else{b=m(b,g,a);g=a;for(var d=b;0<g&&Array.isArray(d);)g--,d=d[0];if(void 0!==d)for(d=0;d<g;d++)b=[b]}k.setDeepValue(h,b,e)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,l,h){h.write&&!h.write.writer&&!1!==h.write.enabled&&(1===b||n.isCollection(a)?h.write.writer=u:h.write.writer=1<b?x(b):t)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(a,b){function k(a){switch(a){case "defaults":return t.DEFAULTS;case "service":return t.SERVICE;case "portal-item":return t.PORTAL_ITEM;case "web-scene":return t.WEB_SCENE;case "web-map":return t.WEB_MAP;case "user":return t.USER}}function n(a){switch(a){case t.DEFAULTS:return"defaults";case t.SERVICE:return"service";case t.PORTAL_ITEM:return"portal-item";case t.WEB_SCENE:return"web-scene";case t.WEB_MAP:return"web-map";case t.USER:return"user"}}Object.defineProperty(b,"__esModule",
{value:!0});var t;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(t=b.OriginId||(b.OriginId={}));b.nameToId=k;b.idToName=n;b.readableNameToId=function(a){return k(a)};b.idToReadableName=function(a){return n(a)};b.writableNameToId=function(a){return k(a)};b.idToWritableName=function(a){return n(a)}})},"esri/core/accessorSupport/Store":function(){define(["require",
"exports","./PropertyOrigin"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return k.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();b.default=a})},"esri/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(a,b,k,n,t,g,u,m){Object.defineProperty(b,"__esModule",{value:!0});var x=Object.prototype.hasOwnProperty,e=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,d={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},l=/^_(set|get)([a-zA-Z0-9]+)Attr$/;b.processPrototype=function(a){for(var b=a.declaredClass,h=a.properties||{},m=0,v=Object.getOwnPropertyNames(h);m<v.length;m++){var p=v[m],c=h[p],f=typeof c;null==c?g.setPropertyMetadata(a,p,{value:c}):
Array.isArray(c)?g.setPropertyMetadata(a,p,{type:[c[0]],value:null}):"object"===f?u.getProperties(c)||c instanceof Date?g.setPropertyMetadata(a,p,{type:c.constructor,value:c}):g.setPropertyMetadata(a,p,c):"boolean"===f?g.setPropertyMetadata(a,p,{type:Boolean,value:c}):"string"===f?g.setPropertyMetadata(a,p,{type:String,value:c}):"number"===f?g.setPropertyMetadata(a,p,{type:Number,value:c}):"function"===f&&g.setPropertyMetadata(a,p,{type:c,value:null})}m=0;for(v=Object.getOwnPropertyNames(a);m<v.length;m++){var f=
v[m],c=a[f],h=p=void 0,q=e.exec(f);if(q)p=q[1],h=d[q[2]];else if(q=l.exec(f))p=q[2][0].toLowerCase()+q[2].substr(1),h=q[1].toLowerCase();p&&h&&(p=g.getPropertyMetadata(a,p),k.setDeepValue(h,c,p))}m=0;for(v=Object.getOwnPropertyNames(g.getPropertiesMetadata(a));m<v.length;m++)if(p=v[m],c=g.getPropertyMetadata(a,p),h=c.type,f=c.types,void 0===c.value&&x.call(a,p)&&(c.value=a[p]),!c.cast&&h){p=c;c=0;for(f=h;Array.isArray(f);)f=f[0],c++;h=1===c?n.ensureArray(f):1<c?n.ensureNArray(f,c):n.ensureType(h);
p.cast=h}else!c.cast&&f&&(Array.isArray(f)?c.cast=n.ensureArrayTyped(n.ensureOneOfType(f[0])):c.cast=n.ensureOneOfType(f));t.processPrototypeMetadatas(g.getPropertiesMetadata(a),b);return g.getPropertiesMetadata(a)};b.processClass=function(a){for(var b=a.prototype,d=b.declaredClass,e=a._meta.bases,h={},p=e.length-1;0<=p;p--)u.merge(h,g.getMetadata(e[p].prototype));var c=h.properties;t.processClassMetadatas(c,d);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:c,autoDestroy:!!h.autoDestroy}});
for(var f={},d=function(a){var q=c[a];f[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):q.value},set:function(c){var f=this.__accessor__;if(!f)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:c});else if(!Object.isFrozen(this)){if(f.initialized&&q.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===f.lifecycle&&q.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+
a+"' of "+this.declaredClass);f.set(a,c)}}}},e=0,p=Object.getOwnPropertyNames(c);e<p.length;e++)d(p[e]);Object.defineProperties(a.prototype,f);if(h.parameters)for(a=0,d=Object.getOwnPropertyNames(h.parameters);a<d.length;a++)e=d[a],p=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},(p=m.autocastMethod(b,e,p))&&Object.defineProperty(b,e,p);return h}})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(a,b,k){function n(c,f){return f.isInstanceOf?
f.isInstanceOf(c):f instanceof c}function t(c){return null==c?c:new Date(c)}function g(c){return null==c?c:!!c}function u(c){return null==c?c:c.toString()}function m(c){return null==c?c:parseFloat(c)}function x(c){return null==c?c:Math.round(parseFloat(c))}function e(c){return c&&c.constructor&&void 0!==c.constructor._meta}function d(c,f){return null!=f&&c&&!n(c,f)}function l(f,a){d(f,a)&&(e(a)?c.error("Accessor#set","Assigning an instance of '"+(a.declaredClass||"unknown")+"' which is not a subclass of '"+
(f&&f.prototype&&f.prototype.declaredClass||"unknown")+"'"):a=new f(a));return a}function h(c){switch(c){case Number:return m;case f:return x;case Boolean:return g;case String:return u;case Date:return t;default:return l.bind(null,c)}}function y(c,f){var a=h(c);return 1===arguments.length?a:a(f)}function z(c,f){return 1===arguments.length?z.bind(null,c):f?Array.isArray(f)?f.map(c):[c(f)]:f}function r(c,f,a){return 0!==f&&Array.isArray(a)?a.map(function(a){return r(c,f-1,a)}):c(a)}function v(c,f,a){if(2===
arguments.length)return v.bind(null,c,f);if(!a)return a;a=r(c,f,a);for(var q=f,b=a;0<q&&Array.isArray(b);)q--,b=b[0];if(void 0!==b)for(b=0;b<q;b++)a=[a];return a}function p(f,a){if(2===arguments.length)return p(f).call(null,a);var q={},b=[],w=[],h;for(h in f.typeMap){var l=f.typeMap[h];q[h]=y(l);b.push(l&&l.prototype&&l.prototype.declaredClass||"unknown");w.push(h)}var v="string"===typeof f.key?function(c){return c[f.key]}:f.key;return function(a){if(f.base&&!d(f.base,a))return a;var A=v(a)||f.defaultKeyValue,
h=q[A];if(!h)return c.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+b.join("', '")+"'")+", or a plain object that can auto-cast (having .type \x3d "+("'"+w.join("', '")+"'")+")"),null;if(!d(f.typeMap[A],a))return a;if("string"!==typeof f.key||e(a))return h(a);var A={},p;for(p in a)p!==f.key&&(A[p]=a[p]);return h(A)}}Object.defineProperty(b,"__esModule",{value:!0});var c=k.getLogger("esri.core.Accessor");b.isInstanceOf=n;b.ensureDate=t;b.ensureBoolean=g;b.ensureString=
u;b.ensureNumber=m;b.ensureInteger=x;b.isClassedType=e;b.requiresType=d;b.ensureClass=l;b.ensureType=y;b.ensureArrayTyped=z;b.ensureArray=function(c,f){return 1===arguments.length?z(y.bind(null,c)):z(y.bind(null,c),f)};b.ensureNArrayTyped=v;b.ensureNArray=function(c,f,a){return 2===arguments.length?v(y.bind(null,c),f):v(y.bind(null,c),f,a)};b.ensureOneOfType=p;var f=function(){return function(){}}();b.Integer=f;b.default=y})},"esri/core/accessorSupport/metadata":function(){define(["require","exports"],
function(a,b){function k(a){return null!=a.__accessorMetadata__}function n(a){return k(a)&&null!=t(a).properties}function t(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function g(a){a=t(a);var b=a.properties;b||(b=a.properties={});return b}function u(a,b){var e=t(a);a=e.parameters;a||(a=e.parameters={});e=a[b];e||(e=[],a[b]=e);return e}Object.defineProperty(b,"__esModule",{value:!0});
b.hasMetadata=k;b.hasPropertiesMetadata=n;b.hasPropertyMetadata=function(a,b){return n(a)&&null!=g(a)[b]};b.hasParametersMetadata=function(a,b){return k(a)&&null!=t(a).parameters&&null!=t(a).parameters[b]};b.getMetadata=t;b.getPropertiesMetadata=g;b.getPropertyMetadata=function(a,b){a=g(a);var e=a[b];e||(e=a[b]={});return e};b.setPropertyMetadata=function(a,b,e){g(a)[b]=e};b.getParametersMetadata=u;b.getParameterMetadata=function(a,b,e){var d=u(a,b)[e];d||(u(a,b)[e]=d={index:e});return d}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require",
"exports","../ensureType","../metadata"],function(a,b,k,n){function t(a){var b="_meta"in a?k.ensureType(a):a;return function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a.push(b);return"number"===typeof a[2]?u.apply(this,a):g.apply(this,a)}}function g(a,b,l,h){n.getPropertyMetadata(a,b).cast=h}function u(a,b,l,h){n.getParameterMetadata(a,b,l).cast=h}function m(a){return function(b,e,h){n.getPropertyMetadata(b,a).cast=b[e]}}Object.defineProperty(b,"__esModule",{value:!0});var x=Object.prototype.toString;
b.autocastMethod=function(a,b,l){if(n.hasParametersMetadata(a,b)){var d=n.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(d.length){var e=l.value;l.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<d.length;b++){var h=d[b];a[h.index]=h.cast(a[h.index])}return e.apply(this,a)};return l}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===x.call(a[0]))return t(a[0]);if(1===a.length&&"string"===typeof a[0])return m(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(a,b,k,n,t,g,u,m,x){function e(a){p.has(a)?c.splice(c.indexOf(a),1):p.add(a);c.push(a);f||(f=g.schedule(l))}function d(c){if(!c.removed){var f=c.callback,a=c.path,
q=c.oldValue,b=c.target,w=u.valueOf(b,c.propertyPath,!0);n.equals(q,w)||(c.oldValue=w,f.call(b,w,q,a,b))}}function l(){if(f){f=null;var a=c;c=v.acquire();p.clear();for(var b=v.acquire(),e=0;e<a.length;e++){var h=a[e];d(h);h.removed&&b.push(h)}for(e=0;e<c.length;e++)h=c[e],h.removed&&(b.push(h),p.delete(h),c.splice(e,1),--e);for(e=0;e<b.length;e++)r.pool.release(b[e]);v.release(a);v.release(b);q.forEach(function(c){return c()})}}function h(c,f,a){var q=m.parse(c,f,a,function(c,f,a){var b=u.valueOf(c,
f,!0),d,w=x.wire(c,f,function(c,f){c.__accessor__.destroyed?q.remove():(d||(d=r.pool.acquire(c,f,b,a),b=null),e(d))});return{remove:m.once(function(){w.remove();d&&(d.removed=!0,e(d),d=null);q=w=b=null})}});return q}function y(c,f,a){var q=m.parse(c,f,a,function(c,f,a){var b=u.valueOf(c,f,!0),d=!1;return x.wire(c,f,function(c,f){if(c.__accessor__.destroyed)q.remove();else if(!d){d=!0;var w=u.valueOf(c,f,!0);n.equals(b,w)||a.call(c,w,b,f,c);b=u.valueOf(c,f,!0);d=!1}})});return q}function z(c,f,a,q){void 0===
q&&(q=!1);return!c.__accessor__||c.__accessor__.destroyed?{remove:function(){}}:q?y(c,f,a):h(c,f,a)}Object.defineProperty(b,"__esModule",{value:!0});var r=function(){function c(c,f,a,q){this.target=c;this.path=f;this.oldValue=a;this.callback=q;this.removed=!1;this.propertyPath=m.pathToStringOrArray(f)}c.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.removed=!0};c.pool=new t(c,!0);return c}(),v=new k,p=new Set,c=v.acquire(),f;b.dispatchTarget=
function(f){for(var a=v.copy(c),q=0;q<a.length;q++){var b=a[q];b.target===f&&(d(b),p.delete(b),c.splice(c.indexOf(b),1))}};b.removeTarget=function(f){for(var a=0;a<c.length;a++){var q=c[a];q.target===f&&(q.removed=!0)}};b.dispatch=l;var q=new Set;b.afterDispatch=function(c){q.add(c);return{remove:function(){q.delete(c)}}};b.watch=z;b.isValueInUse=function(f){return c.some(function(c){return c.oldValue===f})};b.default=z})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],
function(a,b,k){function n(a){a.length=0}var t=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new k(Array,!1,n,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);t.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return g.acquire()};a.copy=function(a){return g.copy(a)};a.release=function(a){return g.release(a)};
return a}();var g=new a(100);return a})},"esri/core/ObjectPool":function(){define(["require","exports"],function(a,b){var k=function(){return function(){}}();return function(){function a(a,b,k,m,n){void 0===m&&(m=1);void 0===n&&(n=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=k;this.growthSize=m;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(n);this._set=new Set;this._initialSize=
n;for(a=0;a<n;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(m,1)}a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||k;if(0===this._pool.length)for(var u=this.growthSize,m=0;m<u;m++)this._pool[m]=new b;b=this._pool.shift();this.acquireFunction?this.acquireFunction.apply(this,[b].concat(a)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);this._set.delete(b);return b};a.prototype.release=function(a){a&&
!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(){if(!(this._pool.length<=this._initialSize))for(var a;this._initialSize>this._pool.length;)a=this._pool.shift(),this._set.delete(a),a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];(m=this.classConstructor).call.apply(m,
[a].concat(b));var m};return a}()})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(a,b,k,n,t){function g(c){void 0===c&&(c=b.now());b.debug.rafId=null;0<f.length&&(b.debug.rafId=u());if(0<h){var a=c-h;r=Math.min(a,r);if(a<y)return}b.debug.executeFrameTasks(c)}function u(){return b.debug.requestNextFrame?b.debug.requestNextFrame(e):e()}function m(){for(var c=0;c<f.length;){var a=f[c];c++;if(a.removed){f.splice(c-1,1);for(var b=
0;b<p.length;b++){var d=p[b];if(a.phases[d]){var d=q[d],w=d.indexOf(a);-1!==w&&d.splice(w,1)}}}}}function x(){for(;c.length;){var f=c.shift();f.isActive&&(f.isActive=!1,f.callback())}b.debug.willDispatch=!1}function e(){return t(g)}Object.defineProperty(b,"__esModule",{value:!0});b.now=n;var d=function(){return function(c){this.phases=c;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),l=function(){function c(c){this.callback=c;this.isActive=!0}c.prototype.remove=
function(){this.isActive=!1};return c}(),h=-1,y=0,z=0,r=Number.POSITIVE_INFINITY,v={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},p=["prepare","preRender","render","postRender","update"],c=[],f=[],q={prepare:[],preRender:[],render:[],postRender:[],update:[]},w=function(){function c(c){this._task=c}c.prototype.remove=function(){this._task.removed=!0};c.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=b.now())};c.prototype.resume=function(){this._task.paused&&
(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return c}();b.FrameTaskHandle=w;b.debug={frameTasks:f,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(c){void 0===c&&(c=!1);for(var a=0;a<f.length;a++)f[a].removed=!0;c&&m()},dispatch:x,executeFrameTasks:function(c){void 0===c&&(c=b.now());0>h&&(h=c);var a=c-h;h=c;for(var d=0;d<f.length;d++){var w=f[d];-1!==w.epoch&&(w.dt=a)}for(d=0;d<p.length;d++)for(var a=p[d],e=q[a],A=0;A<e.length;A++)w=
e[A],w.paused||w.removed||(0===d&&w.ticks++,-1===w.epoch&&(w.epoch=c),v.time=c,v.deltaTime=w.dt,v.elapsedFrameTime=b.now()-c,v.frameDuration=0<z?z:r,v.spendInTask=c-w.epoch,w.phases[a].call(w,v));m()}};b.schedule=function(f){f=new l(f);c.push(f);b.debug.willDispatch||(b.debug.willDispatch=!0,k(x));return f};b.addFrameTask=function(c){var a=new d(c);f.push(a);for(var e=0,A=p;e<A.length;e++){var l=A[e];c[l]&&q[l].push(a)}b.debug.rafId||(h=-1,b.debug.rafId=u());return new w(a)};b.setFrameRate=function(c){if(0>=
c)y=0,z=r;else{var f=1.05*r;c=Math.ceil(1E3/c/f);y=(c-1)*f;z=c*r}};b.requestNextFrame=u})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(a,b,k){function n(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,b=!0;k.onmessage=function(){b=!1};k.postMessage("","*");k.onmessage=a;return b}return!1}var t=k.MutationObserver||k.WebKitMutationObserver;return function(){var a;if(k.process&&k.process.nextTick)a=function(a){k.process.nextTick(a)};else if(k.Promise)a=function(a){k.Promise.resolve().then(a)};
else if(t){var b=[],m=document.createElement("div");(new t(function(){for(;0<b.length;)b.shift()()})).observe(m,{attributes:!0});a=function(a){b.push(a);m.setAttribute("queueStatus","1")}}else if(n()){var x=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();x.length;)x.shift()()},!0);a=function(a){x.push(a);k.postMessage("esri-nexttick-message","*")}}else a=k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,
0)};return a}()})},"esri/core/now":function(){define(["require","exports","./global"],function(a,b,k){return function(){var a=k.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},
"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(a,b,k,n){var t=n();a=k.requestAnimationFrame;if(!a){b=["ms","moz","webkit","o"];for(var g=0;g<b.length&&!a;++g)a=k[b[g]+"RequestAnimationFrame"];a||(a=function(a){var b=n(),g=Math.max(0,16-(b-t)),e=k.setTimeout(function(){a(n())},g);t=b+g;return e})}return a})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(a,b,k,n,t,g,u,m,x,e,d){function l(a){for(var d in a)b.hasOwnProperty(d)||(b[d]=a[d])}Object.defineProperty(b,"__esModule",{value:!0});l(k);l(n);l(t);l(g);l(u);l(m);l(x);l(e);l(d)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(a){return function(b,g){k.getPropertyMetadata(b,g).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(a,b,g){k.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];k=function(){return this||{}};k.__bases__=[a].concat(b);return k}})},"esri/core/accessorSupport/decorators/property":function(){define("require exports dojo/has ../../lang ../../Logger ../metadata".split(" "),
function(a,b,k,n,t,g){Object.defineProperty(b,"__esModule",{value:!0});t.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===a&&(a={});return function(b,k){var e=b.constructor.prototype;if(e!==Function.prototype){(b=Object.getOwnPropertyDescriptor(b,k))&&(b.get||b.set)?(a=n.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=n.clone(a),a.value=b.value);k=g.getPropertyMetadata(e,k);for(var d in a)e=a[d],Array.isArray(e)?k[d]=(k[d]||
[]).concat(e):k[d]=e}}};b.propertyJSONMeta=function(a,b,k){a=g.getPropertyMetadata(a.constructor.prototype,k);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,k,n){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(a,b,u){var m,g;void 0===b||Array.isArray(b)?(g=a,u=b,m=[void 0]):
(g=b,m=Array.isArray(a)?a:[a]);return function(a,b,l){var d=a.constructor.prototype;m.forEach(function(e){e=n.propertyJSONMeta(a,e,g);e.read&&"object"!==typeof e.read&&(e.read={});k.setDeepValue("read.reader",d[b],e);u&&(e.read.source=(e.read.source||[]).concat(u))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(a){return function(b,k){b[k]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require",
"exports","../../declare","../metadata"],function(a,b,k,n){function t(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function g(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function u(a){var b=[];a=n.getPropertiesMetadata(a.prototype);if(!a)return b;for(var d in a){var e=a[d];e.cast&&b.push(e.cast);e.copy&&b.push(e.copy);if(e=e.json)if(t(e,b),g(e,
b),e=e.origins)for(var m in e){var r=e[m];t(r,b);g(r,b)}}return b}function m(a){var b={values:{},descriptors:{}},d=["__bases__"],m=n.getPropertiesMetadata(a.prototype),g=u(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==d.indexOf(b)||m&&m.hasOwnProperty(b)||!e(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==g.indexOf(a.prototype[b])?!1:!0}).forEach(function(d){var h=Object.getOwnPropertyDescriptor(a.prototype,d);e(h)?b.descriptors[d]=h:b.values[d]=a.prototype[d]});return b}
function x(a){var b=Object.getOwnPropertyNames(a),d=Object.getPrototypeOf(a.prototype).constructor,m=Object.getOwnPropertyNames(Function);m.push("__bases__");var g=Object.getOwnPropertyNames(d),r={values:{},descriptors:{}};b.filter(function(b){return-1!==m.indexOf(b)?!1:-1===g.indexOf(b)||d[b]!==a[b]?!0:!1}).forEach(function(b){var d=Object.getOwnPropertyDescriptor(a,b);e(d)?r.descriptors[b]=d:r.values[b]=a[b]});return r}function e(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",
{value:!0});b.subclass=function(a){return function(b){var d=m(b),e=x(b);null!=a&&(d.values.declaredClass=a);b=k(b.__bases__,d.values);Object.defineProperties(b.prototype,d.descriptors);for(var l in e.values)b[l]=e.values[l];Object.defineProperties(b,e.descriptors);return b}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(a,b,k,n){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(a,b,u){var m,g;void 0===
b?(g=a,m=[void 0]):"string"!==typeof b?(g=a,m=[void 0],u=b):(g=b,m=Array.isArray(a)?a:[a]);return function(a,b,l){var d=a.constructor.prototype;m.forEach(function(e){e=n.propertyJSONMeta(a,e,g);e.write&&"object"!==typeof e.write&&(e.write={});u&&k.setDeepValue("write.target",u,e);k.setDeepValue("write.writer",d[b],e)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(a,b,k,n,t,g){function u(a,
b,d){void 0===d&&(d=m);for(var e=t.getProperties(a),h=e.metadatas,y={},k=0,r=Object.getOwnPropertyNames(b);k<r.length;k++){var v=y,p=h,c=r[k],f=b,q=d,w=g.originSpecificReadPropertyDefinition(p[c],q);w&&(!w.read||!1!==w.read.enabled&&!w.read.source)&&(v[c]=!0);for(var A=0,B=Object.getOwnPropertyNames(p);A<B.length;A++){var D=B[A],w=g.originSpecificReadPropertyDefinition(p[D],q),u;a:{u=c;var x=f;if(w&&w.read&&!1!==w.read.enabled&&w.read.source)if(w=w.read.source,"string"===typeof w){if(w===u||-1<w.indexOf(".")&&
0===w.indexOf(u)&&n.exists(w,x)){u=!0;break a}}else for(var F=0;F<w.length;F++){var O=w[F];if(O===u||-1<O.indexOf(".")&&0===O.indexOf(u)&&n.exists(O,x)){u=!0;break a}}u=!1}u&&(v[D]=!0)}}e.setDefaultOrigin(d.origin);r=0;for(v=Object.getOwnPropertyNames(y);r<v.length;r++)k=v[r],c=(p=g.originSpecificReadPropertyDefinition(h[k],d).read)&&p.source,f=void 0,f=c&&"string"===typeof c?n.valueOf(b,c):b[k],p&&p.reader&&(f=p.reader.call(a,f,b,d)),void 0!==f&&e.set(k,f);b=0;for(h=Object.getOwnPropertyNames(h);b<
h.length;b++)k=h[b],y[k]||(r=a,v=e,p=d,c=(c=g.originSpecificReadPropertyDefinition(v.metadatas[k],p))&&c.read&&c.read.default,void 0!==c&&(r="function"===typeof c?c.call(r,k,p):c,void 0!==r&&v.set(k,r)));e.setDefaultOrigin("user")}Object.defineProperty(b,"__esModule",{value:!0});var m={origin:"service"};b.read=u;b.readLoadable=function(a,b,d,l){void 0===l&&(l=m);b=k({},l,{messages:[]});d(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?l&&l.messages.push(b):a.loadWarnings.push(b)})};
b.default=u})},"esri/core/accessorSupport/write":function(){define("require exports ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,k,n,t,g,u){function m(a,b,h,m,g,r){if(!m||!m.write)return!1;var d=a.get(h);if(void 0===d)return!1;if(!g&&m.write.overridePolicy){var p=m.write.overridePolicy.call(a,d,h,r);void 0!==p&&(g=p)}g||(g=m.write);if(!g||!1===g.enabled)return!1;if(null===d){if(g.allowNull)return!0;g.isRequired&&((a=new k("web-document-write:property-required",
"Missing value for required property '"+h+"' on '"+a.declaredClass+"'",{propertyName:h,target:a}),r)&&r.messages?r.messages.push(a):a&&!r&&e.error(a.name,a.message));return!1}return!g.ignoreOrigin&&r&&r.origin&&b.store.originOf(h)<t.nameToId(r.origin)?!1:!0}function x(a,b,e){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return g.merge(b,a.toJSON());var d=g.getProperties(a),h=d.metadatas,l;for(l in h){var v=u.originSpecificWritePropertyDefinition(h[l],e);if(m(a,d,l,v,null,
e)){var p=a.get(l),c={};v.write.writer.call(a,p,c,"string"===typeof v.write.target?v.write.target:l,e);v=c;0<Object.keys(v).length&&(b=g.merge(b,v),e&&e.writtenProperties&&e.writtenProperties.push({target:a,propName:l,oldOrigin:t.idToReadableName(d.store.originOf(l)),newOrigin:e.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var e=n.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,e,k){var d=g.getProperties(a),h=u.originSpecificWritePropertyDefinition(d.metadatas[b],
k);return h?m(a,d,b,h,e,k):!1};b.write=x;b.default=x})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","./WKIDUnitConversion"],function(a,b,k){function n(a){return a.wkid&&!0===t[a.wkid]}Object.defineProperty(b,"__esModule",{value:!0});var t={102113:!0,102100:!0,3857:!0,3785:!0},g={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var u=[-2.0037508342787E7,2.0037508342787E7],m={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:u,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:u,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:u,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:u,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){if(b){if(a===b)return!0;if(null!=a.wkid||null!=b.wkid)return a.wkid===b.wkid||n(a)&&n(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid;if(a.wkt&&b.wkt)return a.wkt.toUpperCase()===b.wkt.toUpperCase()}return!1};b.getInfo=function(a){return a.wkid?m[a.wkid]:null};b.isGeographic=function(a){return a.wkid?null==k[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1};b.isWGS84=function(a){return 4326===
a.wkid};b.isWebMercator=n;b.isWrappable=function(a){return a.wkid&&!0===g[a.wkid]}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,
8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,
26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53034:0,53048:0,53049:0,
54034:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,
103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,
103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,
103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,
103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;
for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=
2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=
2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=
0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=
0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=
0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=
0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=
0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=
0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=
0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=
0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102496>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102568>=a;a++)b[a]=0;for(a=102570;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=
0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=
2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=
0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=
0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=
0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103600;103694>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=
2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ./I3SBinaryReader ../../support/meshProcessing ../../webgl-engine/lib/gl-matrix ../../webgl-engine/lib/Util".split(" "),function(a,b,k,n,t,g){function u(a,b,d,c,f,q,w){switch(d){case 1:for(d=0;d<w;d++)c[f]=a[b],b+=1,f+=q;break;case 2:for(d=0;d<w;d++)c[f]=a[b],c[f+1]=a[b+1],b+=2,f+=q;break;case 3:for(d=0;d<w;d++)c[f]=a[b],c[f+1]=a[b+1],c[f+
2]=a[b+2],b+=3,f+=q;break;case 4:for(d=0;d<w;d++)c[f]=a[b],c[f+1]=a[b+1],c[f+2]=a[b+2],c[f+3]=a[b+3],b+=4,f+=q;break;default:throw l("Unhandled stride size "+d);}}function m(a,b,d,c,f,q){switch(b){case 1:for(b=0;b<q;b++)d[c]=a,c+=f;break;case 2:for(b=0;b<q;b++)d[c]=a,d[c+1]=a,c+=f;break;case 3:for(b=0;b<q;b++)d[c]=a,d[c+1]=a,d[c+2]=a,c+=f;break;case 4:for(b=0;b<q;b++)d[c]=a,d[c+1]=a,d[c+2]=a,d[c+3]=a,c+=f;break;default:throw l("Unhandled stride size "+b);}}function x(a){switch(a){case 5120:return Int8Array;
case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function e(a){switch(a){case 5120:return"Int8";case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function d(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}
function l(a){return Error("I3SGeometryUtil processing failed: "+a)}Object.defineProperty(b,"__esModule",{value:!0});var h=new Uint8Array(64);b.interleaveGeometryBuffer=function(a,b,p,c,f){void 0===c&&(c=[]);void 0===f&&(f=[]);var q=a.params.vertexAttributes,w=q.position.count;if(!d(p[0].stride))throw l("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var A=new Uint32Array(p[0].stride/Uint32Array.BYTES_PER_ELEMENT*w);p=p.slice(0).sort(function(c,a){return c.offset-a.offset});
a=function(a){if(-1!==f.indexOf(a.name))return"continue";var p=q[a.name],v=x(a.type),B=void 0,D=!1;if(null==p)if(D=c.filter(function(c){return c.name===a.name})[0]){p={valueType:e(a.type),byteOffset:0,count:w,valuesPerElement:a.count};for(B=0;B<h.length;B++)h[B]=D.byteValue;B=h.buffer;D=!0}else throw l("Geometry definition is missing attribute");else B=b;if(e(a.type)!==p.valueType)throw l("Geometry definition type must match attribute type");if(0!==p.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==
a.offset%Uint32Array.BYTES_PER_ELEMENT)throw l(a.name+" offset must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!d(p.valuesPerElement*v.BYTES_PER_ELEMENT)||!d(a.count*v.BYTES_PER_ELEMENT))throw l(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var B=new Uint32Array(B),g=p.byteOffset/Uint32Array.BYTES_PER_ELEMENT,p=p.valuesPerElement*v.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,v=a.offset/Uint32Array.BYTES_PER_ELEMENT,r=a.stride/Uint32Array.BYTES_PER_ELEMENT;D?
m(B[0],p,A,v,r,w):u(B,g,p,A,v,r,w)};for(var v=0;v<p.length;v++)a(p[v]);return A.buffer};b.processAndInterleaveNormals=function(a,b,d,c,f){if("none"===a){var q=f.normals,w=f.positions;b=f.normalInd;a=f.positionInd;g.assert(f.normalInd.length===f.positionInd.length);f=t.vec3.create();c=t.vec3.create();d=t.vec2.create();for(var e=w.data,h=w.offsetIdx,w=w.strideIdx,p=q.data,l=q.offsetIdx,q=q.strideIdx,v=0;v<a.length;v+=3){var m=a[v],m=h+w*m,r=e[m],u=e[m+1],n=e[m+2],m=a[v+1],m=h+w*m;f[0]=e[m]-r;f[1]=e[m+
1]-u;f[2]=e[m+2]-n;m=a[v+2];m=h+w*m;c[0]=e[m]-r;c[1]=e[m+1]-u;c[2]=e[m+2]-n;t.vec3.cross(f,c,f);g.encodeNormal(f,d);for(r=0;3>r;r++)u=l+q*b[v+r],p[u]=g.encodeInt16(d[0]),p[u+1]=g.encodeInt16(d[1])}}else if(b=k.createTypedView(d,b.params.vertexAttributes.normal),d=f.normals,u="earth-centered"===a?c:null,a=b.length/3,f=d.data,c=d.offsetIdx,d=d.strideIdx,null!=u)for(e=u[0],h=u[1],w=u[2],p=u[4],l=u[5],q=u[6],v=u[8],r=u[9],u=u[10],n=0;n<a;n++){var m=b[3*n],x=b[3*n+1],S=b[3*n+2];y[0]=e*m+h*x+w*S;y[1]=p*
m+l*x+q*S;y[2]=v*m+r*x+u*S;g.encodeNormal(y,z);f[c+n*d]=g.encodeInt16(z[0]);f[c+n*d+1]=g.encodeInt16(z[1])}else for(n=0;n<a;n++)y[0]=b[3*n],y[1]=b[3*n+1],y[2]=b[3*n+2],g.encodeNormal(y,z),f[c+n*d]=g.encodeInt16(z[0]),f[c+n*d+1]=g.encodeInt16(z[1])};b.extractPositionData=function(a,b,d){b=b[0];if(null==b||"position"!==b.name||5126!==b.type)return null;var c=new Float32Array(a),f=b.stride/4,q=3*c.length/f,w=new Float32Array(q);for(a=0;a<q/3;a++)w[3*a]=c[a*f+b.offset],w[3*a+1]=c[a*f+b.offset+1],w[3*
a+2]=c[a*f+b.offset+2];b=n.deduplicate(w.buffer,3);a=65536>b.uniqueCount;if(d)for(c=new (a?Uint16Array:Uint32Array)(d.length),a=0;a<d.length;a++)c[a]=b.indices[d[a]];else c=a?new Uint16Array(b.indices):b.indices;return{data:new Float32Array(b.buffer),indices:c}};var y=t.vec3.create(),z=t.vec2.create()})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports dojo/_base/lang ../../../../core/Error ../../../../core/Logger ./LEPCC".split(" "),function(a,b,k,n,t,g){function u(a,
b,c){for(var f="",q=0;q<c;){var d=a[b+q];if(128>d)f+=String.fromCharCode(d),q++;else if(192<=d&&224>d){if(q+1>=c)throw new n("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var e=a[b+q+1],d=(d&31)<<6|e&63,f=f+String.fromCharCode(d),q=q+2}else if(224<=d&&240>d){if(q+2>=c)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var e=a[b+q+1],h=a[b+q+2],d=(d&15)<<12|(e&63)<<6|h&63,f=f+String.fromCharCode(d),q=q+3}else if(240<=d&&248>d){if(q+
3>=c)throw new n("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");e=a[b+q+1];h=a[b+q+2];d=(d&7)<<18|(e&63)<<12|(h&63)<<6|a[b+q+3]&63;f=65536<=d?f+String.fromCharCode((d-65536>>10)+55296,(d&1023)+56320):f+String.fromCharCode(d);q+=4}else throw new n("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return f}function m(a,d){for(var c={byteOffset:0,byteCount:0,fields:Object.create(null)},f=0,q=0;q<d.length;q++){var w=d[q],e=w.valueType||w.type;c.fields[w.property]=
(0,b.valueType2ArrayBufferReader[e])(a,f);f+=b.valueType2TypedArrayClassMap[e].BYTES_PER_ELEMENT}c.byteCount=f;return c}function x(a,b,c){var f=[],q,d=0,e;for(e=0;e<a;e+=1){q=b[e];if(0<q){if(f.push(u(c,d,q-1)),0!==c[d+q-1])throw new n("string-array-error","Invalid string array: missing null termination.");}else f.push(null);d+=q}return f}function e(a,d){return new b.valueType2TypedArrayClassMap[d.valueType](a,d.byteOffset,d.count*d.valuesPerElement)}function d(a,b){return new Uint8Array(a,b.byteOffset,
b.byteCount)}function l(a,b,c){a=null!=b.header?m(a,b.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var f=a.byteCount,q=0;q<b.ordering.length;q++){var d=b.ordering[q],e=k.clone(b[d]);e.count=a.fields.count;if("String"===e.valueType){if(e.byteOffset=f,e.byteCount=a.fields[d+"ByteCount"],"UTF-8"!==e.encoding)throw new n("unsupported-encoding","Unsupported String encoding.",{encoding:e.encoding});}else if(y(e.valueType)){var h=
z(e.valueType),f=f+(0!==f%h?h-f%h:0);e.byteOffset=f;e.byteCount=h*e.valuesPerElement*e.count}else throw new n("unsupported-value-type","Unsupported binary valueType",{valueType:e.valueType});f+=e.byteCount;c.entries[d]=e}c.byteCount=f-c.byteOffset;return c}function h(a,b,c){b!==a&&r.error("Invalid "+c+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new n("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});}function y(a){return b.valueType2TypedArrayClassMap.hasOwnProperty(a)}
function z(a){return y(a)&&b.valueType2TypedArrayClassMap[a].BYTES_PER_ELEMENT}Object.defineProperty(b,"__esModule",{value:!0});var r=t.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");b.readHeader=m;b.readStringArray=x;b.createTypedView=e;b.createRawView=d;b.createAttributeDataIndex=l;b.createGeometryDataIndex=function(a,b,c){var f=m(a,b&&b.header),q=f.byteCount,d={header:f,byteOffset:f.byteCount,byteCount:0,vertexAttributes:k.clone(b.vertexAttributes)},e=d.vertexAttributes;c||null==e.region||
delete e.region;var f=f.fields,l=null!=f.vertexCount?f.vertexCount:f.count;for(c=0;c<b.ordering.length;c++){var p=b.ordering[c];null!=e[p]&&(e[p].byteOffset=q,e[p].count=l,q+=z(e[p].valueType)*e[p].valuesPerElement*l)}e=f.faceCount;if(b.faces&&e)for(d.faces=k.clone(b.faces),l=d.faces,c=0;c<b.ordering.length;c++)p=b.ordering[c],null!=l[p]&&(l[p].byteOffset=q,l[p].count=e,q+=z(l[p].valueType)*l[p].valuesPerElement*e);f=f.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&f)for(d.featureAttributes=
k.clone(b.featureAttributes),e=d.featureAttributes,c=0;c<b.featureAttributeOrder.length;c++)l=b.featureAttributeOrder[c],e[l].byteOffset=q,e[l].count=f,p=z(e[l].valueType),"UInt64"===e[l].valueType&&(p=8),q+=p*e[l].valuesPerElement*f;h(q,a.byteLength,"geometry");d.byteCount=q-d.byteOffset;return d};b.readBinaryAttribute=function(a,b,c){if("lepcc-rgb"===a.encoding)return g.decodeRGB(b);if("lepcc-intensity"===a.encoding)return g.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new n("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(r.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(r.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");c=l(b,a,c);h(c.byteOffset+c.byteCount,b.byteLength,"attribute");if(a=c.entries.attributeValues||c.entries.objectIds){if("String"===a.valueType){c=c.entries.attributeByteCounts;
var f=e(b,c);b=d(b,a);return x(c.count,f,b)}return e(b,a)}throw new n("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,
b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};b.isValueType=y;b.getBytesPerValue=z})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(a,
b,k){function n(a,b,e){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,e+u.identifierOffset,u.identifierLength)),version:b.getUint16(e+u.versionOffset,!0),checksum:b.getUint32(e+u.checksumOffset,!0)}}function t(a,b,e){var d=[];b=g(a,b,d);for(var l=[],h=0;h<d.length;h++){l.length=0;b=g(a,b,l);for(var m=0;m<l.length;m++)e.push(l[m]+d[h])}return b}function g(a,b,e){var d=new DataView(a,b),l=d.getUint8(0),h=l&31,m=!!(l&32),g=(l&192)>>6,l=0;if(0===g)l=d.getUint32(1,!0),b+=5;else if(1===
g)l=d.getUint16(1,!0),b+=3;else if(2===g)l=d.getUint8(1),b+=2;else throw new k("lepcc-decode-error","Bad count type");if(m)throw new k("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(l*h/8));for(var g=m=d=0,r=-1>>>32-h,v=0;v<l;v++){for(;m<h;)d|=a[g]<<m,m+=8,g+=1;e[v]=d&r;d>>>=h;m-=h;32<m+h&&(d|=a[g-1]>>8-m)}return b+g}Object.defineProperty(b,"__esModule",{value:!0});var u={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=
function(a){var b,e,d,l,h,m,g,r,v,p,c,f,q=new DataView(a,0),w=0;l=n(a,q,w);d=l.identifier;l=l.version;w+=u.byteCount;if("LEPCC     "!==d)throw new k("lepcc-decode-error","Bad identifier");if(1<l)throw new k("lepcc-decode-error","Unknown version");var A=w;b=q.getUint32(A+0,!0);e=q.getUint32(A+4,!0);d=q.getFloat64(A+8,!0);l=q.getFloat64(A+16,!0);h=q.getFloat64(A+24,!0);m=q.getFloat64(A+32,!0);g=q.getFloat64(A+40,!0);r=q.getFloat64(A+48,!0);v=q.getFloat64(A+56,!0);p=q.getFloat64(A+64,!0);c=q.getFloat64(A+
72,!0);f=q.getUint32(A+80,!0);q.getUint32(A+84,!0);w+=88;if(e*Math.pow(2,32)+b!==a.byteLength)throw new k("lepcc-decode-error","Bad size");q=new Float64Array(3*f);b=[];e=[];f=[];A=[];w=t(a,w,b);w=t(a,w,e);w=t(a,w,f);w=t(a,w,A);if(w!==a.byteLength)throw new k("lepcc-decode-error","Bad length");for(var B=w=a=0;B<b.length;B++)for(var w=w+b[B],D=0,E=0;E<e[B];E++){var D=D+f[a],C=A[a];q[3*a]=Math.min(m,d+2*v*D);q[3*a+1]=Math.min(g,l+2*p*w);q[3*a+2]=Math.min(r,h+2*c*C);a++}return{errorX:v,errorY:p,errorZ:c,
result:q}};b.decodeRGB=function(a){var b,e,d,l,h,m,g=new DataView(a,0),r=0;l=n(a,g,r);d=l.identifier;l=l.version;r+=u.byteCount;if("ClusterRGB"!==d)throw new k("lepcc-decode-error","Bad identifier");if(1<l)throw new k("lepcc-decode-error","Unknown version");m=r;b=g.getUint32(m+0,!0);e=g.getUint32(m+4,!0);d=g.getUint32(m+8,!0);l=g.getUint16(m+12,!0);h=g.getUint8(m+14);m=g.getUint8(m+15);r+=16;if(e*Math.pow(2,32)+b!==a.byteLength)throw new k("lepcc-decode-error","Bad size");if(2!==h&&1!==h||0!==m){if(0===
h&&0===m){if(3*d+r!==a.byteLength||0!==l)throw new k("lepcc-decode-error","Bad count");return(new Uint8Array(a,r)).slice()}if(2>=h&&1===m){if(r+3!==a.byteLength||1!==l)throw new k("lepcc-decode-error","Bad count");l=g.getUint8(r);b=g.getUint8(r+1);g=g.getUint8(r+2);r=new Uint8Array(3*d);for(a=0;a<d;a++)r[3*a]=l,r[3*a+1]=b,r[3*a+2]=g;return r}throw new k("lepcc-decode-error","Bad method "+h+","+m);}if(3*l+d+r!==a.byteLength||256<l)throw new k("lepcc-decode-error","Bad count");g=new Uint8Array(a,r,
3*l);l=new Uint8Array(a,r+3*l,d);r=new Uint8Array(3*d);for(a=0;a<d;a++)b=l[a],r[3*a]=g[3*b],r[3*a+1]=g[3*b+1],r[3*a+2]=g[3*b+2];return r};b.decodeIntensity=function(a){var b,e,d,l,h,m=new DataView(a,0),z=0;l=n(a,m,z);d=l.identifier;l=l.version;z+=u.byteCount;if("Intensity "!==d)throw new k("lepcc-decode-error","Bad identifier");if(1<l)throw new k("lepcc-decode-error","Unknown version");var r=z;b=m.getUint32(r+0,!0);e=m.getUint32(r+4,!0);d=m.getUint32(r+8,!0);l=m.getUint16(r+12,!0);h=m.getUint8(r+
14);m.getUint8(r+15);z+=16;if(e*Math.pow(2,32)+b!==a.byteLength)throw new k("lepcc-decode-error","Bad size");m=new Uint16Array(d);if(8===h){if(d+z!==a.byteLength)throw new k("lepcc-decode-error","Bad size");h=new Uint8Array(a,z,d)}else if(16===h){if(2*d+z!==a.byteLength)throw new k("lepcc-decode-error","Bad size");h=new Uint16Array(a,z,d)}else if(h=[],g(a,z,h)!==a.byteLength)throw new k("lepcc-decode-error","Bad size");for(a=0;a<d;a++)m[a]=h[a]*l;return m}})},"esri/views/3d/support/meshProcessing":function(){define(["require",
"exports","../webgl-engine/lib/Util"],function(a,b,k){Object.defineProperty(b,"__esModule",{value:!0});b.computeNeighbors=function(a,b){for(var g=a.length/3,m=new Uint32Array(b+1),k=new Uint32Array(b+1),e=function(c,a){c<a?m[c+1]++:k[a+1]++},d=0;d<g;d++){var l=a[3*d],h=a[3*d+1],y=a[3*d+2];e(l,h);e(h,y);e(y,l)}for(d=h=l=0;d<b;d++)y=m[d+1],e=k[d+1],m[d+1]=l,k[d+1]=h,l+=y,h+=e;for(var n=new Uint32Array(6*g),r=m[b],e=function(c,a,f){if(c<a){var b=m[c+1]++;n[2*b]=a;n[2*b+1]=f}else b=k[a+1]++,n[2*r+2*b]=
c,n[2*r+2*b+1]=f},d=0;d<g;d++)l=a[3*d],h=a[3*d+1],y=a[3*d+2],e(l,h,d),e(h,y,d),e(y,l,d);l=function(c,a){var f=2*c;c=a-c;for(a=1;a<c;a++){var b=n[f+2*a],q=n[f+2*a+1],d=a-1;for(d;0<=d&&n[f+2*d]>b;d--)n[f+2*d+2]=n[f+2*d],n[f+2*d+3]=n[f+2*d+1];n[f+2*d+2]=b;n[f+2*d+3]=q}};for(d=0;d<b;d++)l(m[d],m[d+1]),l(r+k[d],r+k[d+1]);for(var v=new Int32Array(3*g),p=function(c,f){return c===a[3*f]?0:c===a[3*f+1]?1:c===a[3*f+2]?2:-1},g=function(c,a){c=p(c,a);v[3*a+c]=-1},l=function(c,a,f,b){c=p(c,a);v[3*a+c]=b;f=p(f,
b);v[3*b+f]=a},d=0;d<b;d++){for(var h=m[d],y=m[d+1],e=k[d],c=k[d+1];h<y&&e<c;){var f=n[2*h],q=n[2*r+2*e];f===q?(l(d,n[2*h+1],q,n[2*r+2*e+1]),h++,e++):f<q?(g(d,n[2*h+1]),h++):(g(q,n[2*r+2*e+1]),e++)}for(;h<y;)g(d,n[2*h+1]),h++;for(;e<c;)q=n[2*r+2*e],g(q,n[2*r+2*e+1]),e++}return v};var n=null;b.deduplicate=function(a,b,u,m,x){void 0===u&&(u=0);void 0===m&&(m=0);void 0===x&&(x=a.byteLength/(4*b));a=new Uint32Array(a,m,x*b);m=new Uint32Array(x);var e=Math.floor(1.1*x)+1;if(null==n||n.length<2*e)n=new Uint32Array(k.nextHighestPowerOfTwo(2*
e));for(var d=0;d<2*e;d++)n[d]=0;for(var l=0,h=0!==u?Math.ceil(7.84*1.96/(u*u)*u*(1-u)):x,d=0;d<x;d++){if(d===h){var g=1-l/d;if(g+1.96*Math.sqrt(g*(1-g)/d)<u)return null;h*=2}for(var g=d*b,z,r=z=0;r<b;r++)z=a[g+r]+z|0,z=z+(z<<11)+(z>>>2)|0;z>>>=0;for(var r=z%e,v=l;0!==n[2*r+1];){if(n[2*r]===z){var p=n[2*r+1]-1,c=p*b;a:{for(var f=0;f<b;f++)if(a[g+f]!==a[c+f]){c=!1;break a}c=!0}if(c){v=m[p];break}}r++;r>=e&&(r-=e)}v===l&&(n[2*r]=z,n[2*r+1]=d+1,l++);m[d]=v}if(0!==u&&1-l/x<u)return null;u=new Uint32Array(b*
l);for(d=l=0;d<x;d++)if(m[d]===l){e=a;h=d*b;g=u;z=l*b;r=b;for(v=0;v<r;v++)g[z+v]=e[h+v];l++}return{buffer:u.buffer,indices:m,uniqueCount:l}}})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["require","exports","../../support/geometryUtils","./gl-matrix"],function(a,b,k,n){function t(c,a){if(!c)throw c=Error("dummy"),c.stack&&console.log(c.stack),new X(a);}function g(c,a,f){return c<a?a:c>f?f:c}function u(c){return c/180*Math.PI}function m(c){return 180*c/Math.PI}function x(c,a,f){n.mat4d.multiply(a,
c,r);n.mat4d.inverse(r);for(c=0;8>c;++c)n.mat4d.multiplyVec4(r,v[c],p),n.vec3d.set3(p[0]/p[3],p[1]/p[3],p[2]/p[3],f[c])}function e(c,a){k.plane.fromPoints(c[4],c[0],c[3],a[0]);k.plane.fromPoints(c[1],c[5],c[6],a[1]);k.plane.fromPoints(c[4],c[5],c[1],a[2]);k.plane.fromPoints(c[3],c[2],c[6],a[3]);k.plane.fromPoints(c[0],c[1],c[2],a[4]);k.plane.fromPoints(c[5],c[4],c[7],a[5])}function d(c,a,f,q){var d=6378137/Math.sqrt(1-b.ECCENTRICITY_SQUARED*Math.pow(Math.sin(c),2)),w=Math.cos(c);q[0]=(d+f)*Math.cos(a)*
w;q[1]=(d*(1-b.ECCENTRICITY_SQUARED)+f)*Math.sin(c);q[2]=-(d+f)*Math.sin(a)*w}function l(c){for(var a in c)return a}function h(c,a){c[12]=a[0];c[13]=a[1];c[14]=a[2]}function y(c,a){void 0===a&&(a=0);for(var f=0,b=0;4>b;b++)f+=c[a+b]*V[b];return f}function z(c){return c-Math.floor(c)}Object.defineProperty(b,"__esModule",{value:!0});var r=n.mat4d.create(),v=[n.vec4d.createFrom(-1,-1,-1,1),n.vec4d.createFrom(1,-1,-1,1),n.vec4d.createFrom(1,1,-1,1),n.vec4d.createFrom(-1,1,-1,1),n.vec4d.createFrom(-1,
-1,1,1),n.vec4d.createFrom(1,-1,1,1),n.vec4d.createFrom(1,1,1,1),n.vec4d.createFrom(-1,1,1,1)],p=n.vec4d.create(),c=[n.vec3d.create(),n.vec3d.create(),n.vec3d.create(),n.vec3d.create(),n.vec3d.create(),n.vec3d.create(),n.vec3d.create(),n.vec3d.create()],f=n.vec3d.create(),q=n.vec3d.create(),w=n.vec3d.create(),A=n.vec3d.create(),B=n.vec3d.create(),D=n.vec3d.create(),E=n.vec3d.create(),C=n.vec3d.create(),F=n.vec3d.create(),O=n.vec3d.create(),U=n.vec3d.create(),Y=n.vec3d.create(),R=n.vec3d.create(),
S=n.vec3d.createFrom(0,0,0),X=function(){function c(c){this.message=c}c.prototype.toString=function(){return"AssertException: "+this.message};return c}();b.AssertException=X;b.EARTH_RADIUS=6378137;b.METER2FEET=3.28084;b.ECCENTRICITY_SQUARED=.0066943799901414;b.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex"};
b.assert=t;b.verify=function(c,a){c||(console.log("Verify failed: "+a),console.log(Error("dummy").stack))};b.isPowerOfTwo=function(c){return 0===(c&c-1)};b.lerp=function(c,a,f){return c+(a-c)*f};b.clamp=g;b.encodeInt16=function(c){return g(Math.round(32767*c),-32767,32767)};b.encodeNormal=function(c,a){var f=Math.abs(c[0]),b=Math.abs(c[1]),q=1/(f+b+Math.abs(c[2])),f=f*q,b=b*q,q=Math.min(c[2]*q,0);a[0]=M(c[0])*(f-q);a[1]=M(c[1])*(b-q)};var M="function"===typeof Math.sign?Math.sign:function(c){return+(0<
c)-+(0>c)||0};b.fallbackIfUndefined=function(c,a){return void 0===c?a:c};b.hex2rgb=function(c){c=Math.floor(c);return[(c>>16&255)/255,(c>>8&255)/255,(c&255)/255]};b.rgb2hex=function(c){var a=g(Math.round(255*c[0]),0,255),f=g(Math.round(255*c[1]),0,255);c=g(Math.round(255*c[2]),0,255);return"0x"+((a<<16)+(f<<8)+c).toString(16)};b.dec2hex=function(c){c=c.toString(16);return"00000000".substr(0,8-c.length)+c};b.deg2rad=u;b.rad2deg=m;b.azimuthElevationAngle2Direction=function(c,a){c=1.5*Math.PI-c;a=.5*
Math.PI-a;return[Math.cos(c)*Math.sin(a),Math.cos(a),Math.sin(c)*Math.sin(a)]};b.raySphere=function(c,a,b,q,d){b=b||S;var w=n.vec3d.subtract(c,b,f);b=n.vec3d.dot(a,a);var e=2*n.vec3d.dot(a,w);q=n.vec3d.dot(w,w)-q*q;q=e*e-4*b*q;if(0>q)return!1;w=Math.sqrt(q);q=(-e-w)/(2*b);b=(-e+w)/(2*b);if(0>q||b<q&&0<b)q=b;return 0<q?(d&&n.vec3d.add(c,n.vec3d.scale(a,q,R),d),!0):!1};b.rayTriangle3D=function(c,a,f,b,q,d,w,e,A){void 0===A&&(A=n.vec3d.create());var h=b[w]-f[d],l=b[w+1]-f[d+1],p=b[w+2]-f[d+2];b=q[e]-
f[d];w=q[e+1]-f[d+1];q=q[e+2]-f[d+2];var g=a[1]*q-w*a[2],m=a[2]*b-q*a[0],B=a[0]*w-b*a[1];e=h*g+l*m+p*B;if(-1E-5<e&&1E-5>e)return!1;e=1/e;var v=c[0]-f[d],D=c[1]-f[d+1];c=c[2]-f[d+2];A[1]=e*(v*g+D*m+c*B);if(0>A[1]||1<A[1])return!1;f=D*p-l*c;c=c*h-p*v;h=v*l-h*D;A[2]=e*(a[0]*f+a[1]*c+a[2]*h);if(0>A[2]||1<A[1]+A[2])return!1;A[0]=e*(b*f+w*c+q*h);return!0};b.rayBoxTest=function(c,a,f,b){var q,d=(f[0]-c[0])/a[0],w=(b[0]-c[0])/a[0];d>w&&(q=d,d=w,w=q);var e=(f[1]-c[1])/a[1],A=(b[1]-c[1])/a[1];e>A&&(q=e,e=A,
A=q);if(d>A||e>w)return!1;e>d&&(d=e);A<w&&(w=A);f=(f[2]-c[2])/a[2];c=(b[2]-c[2])/a[2];f>c&&(q=f,f=c,c=q);if(d>c||f>w)return!1;c<w&&(w=c);return 0>w?!1:!0};b.rayRay2D=function(c,a,f,b,q,d){void 0===d&&(d=n.vec2d.create());var w=(b[q]-f[q])*(a[0]-c[0])-(b[0]-f[0])*(a[q]-c[q]);if(0===w)return!1;f=((b[0]-f[0])*(c[q]-f[q])-(b[q]-f[q])*(c[0]-f[0]))/w;d[0]=c[0]+f*(a[0]-c[0]);d[1]=c[q]+f*(a[q]-c[q]);return!0};b.matrixToFrustumPoints=x;b.matrixToFrustumPlanes=function(a,f,b,q){void 0===q&&(q=b,b=c);x(a,f,
b);e(b,q)};b.frustumPointsToPlanes=e;b.project=function(c,a,f,b,q){q||(q=c);p[0]=c[0];p[1]=c[1];p[2]=c[2];p[3]=1;n.mat4d.multiplyVec4(a,p);2<q.length&&(q[2]=-p[2]);n.mat4d.multiplyVec4(f,p);t(0!==p[3]);q[0]=p[0]/p[3];q[1]=p[1]/p[3];q[2]=p[2]/p[3];q[0]=(.5*q[0]+.5)*b[2]+b[0];q[1]=(.5*q[1]+.5)*b[3]+b[1]};b.geodeticToGeocentricLatidude=function(c){return Math.atan((1-b.ECCENTRICITY_SQUARED)*Math.tan(c))};b.latLon2positionWGS84Ellipsoid=d;b.pos2latLon=function(c,a){var f=n.vec3d.length(c);a[0]=Math.asin(g(c[1]/
f,-1,1));a[1]=(0>c[2]?1:-1)*Math.acos(g(c[0]/(Math.cos(a[0])*f),-1,1));a[0]=m(a[0]);a[1]=m(a[1]);a[2]=f};b.pos2latLonWGS84Ellipsoid=function(c,a){var f=c[0],q=-c[2],d=c[1],w=Math.sqrt(Math.pow(6378137,2)*(1-b.ECCENTRICITY_SQUARED));c=Math.sqrt(Math.pow(f,2)+Math.pow(q,2));var e=Math.atan2(6378137*d,w*c),f=Math.atan2(q,f),q=Math.atan2(d+Math.pow(Math.sqrt((Math.pow(6378137,2)-Math.pow(w,2))/Math.pow(w,2)),2)*w*Math.pow(Math.sin(e),3),c-6378137*b.ECCENTRICITY_SQUARED*Math.pow(Math.cos(e),3));c=c/Math.cos(q)-
6378137/Math.sqrt(1-b.ECCENTRICITY_SQUARED*Math.pow(Math.sin(q),2))+b.EARTH_RADIUS;a[0]=q;a[1]=f;a[2]=c};b.computeGlobeTransformation=function(c,a,f){var b=u(c[0]);c=u(c[1]);d(b,c,a,q);n.mat4d.translate(f,q);n.mat4d.rotateY(f,.5*Math.PI+c);n.mat4d.rotateX(f,.5*Math.PI-b);return f};b.readUInt16=function(c,a){return c[a]+(c[a+1]<<8)};b.readUInt32=function(c,a){return c[a]+(c[a+1]<<8)+(c[a+2]<<16)+(c[a+3]<<24)};b.setIfDefined=function(c,a,f){void 0!==a[c]&&(f[c]=a[c])};b.array2object=function(c,a){var f=
{};if(void 0!==a)for(var b=0;b<c.length;b++){var q=c[b];f[a(q)]=q}else for(a=0;a<c.length;a++)q=c[a],f[q]=q;return f};b.object2array=function(c){var a=[],f;for(f in c)a.push(c[f]);return a};b.mergeObjects=function(c,a,f){void 0===f&&(f={});if(f!==c)for(var b in c)f[b]=c[b];if(f!==a)for(var q in a)f[q]=a[q];return f};b.subtractObjects=function(c,a){var f={},b;for(b in c)void 0===a[b]&&(f[b]=c[b]);return f};b.intersectObjects=function(c,a){var f={},b;for(b in c)void 0!==a[b]&&(f[b]=c[b]);return f};
b.getFirstObjectKey=l;b.getFirstObjectValue=function(c){return c[l(c)]};b.objectEmpty=function(c){for(var a in c)return!1;return!0};b.byteBuffer2base64image=function(c,a,f,b,q){var d=4*a;t(c.length===d*f,"buffer length must match image resolution");var w=document.createElement("canvas");w.width=a;w.height=f;var e=w.getContext("2d");a=e.getImageData(0,0,a,f);for(var A=a.data,h=0;h<f;++h)for(var l=h*d,p=(f-1-h)*d,g=0;g<d;++g)A[l++]=c[p++];e.putImageData(a,0,0);return w.toDataURL(b,q)};b.cround=function(c){return Math.round(100*
c)/100};b.logWithBase=function(c,a){return Math.log(c)/Math.log(a)};b.setMatrixTranslation=h;b.setMatrixTranslation3=function(c,a,f,b){c[12]=a;c[13]=f;c[14]=b};b.getMatrixTranslation=function(c,a){void 0===a&&(a=n.vec3d.create());a[0]=c[12];a[1]=c[13];a[2]=c[14];return a};b.createTranslationMatrix=function(c,a){c=n.mat4d.identity(c);h(c,a);return c};b.isTranslationMatrix=function(c){return 1===c[0]&&0===c[1]&&0===c[2]&&0===c[3]&&0===c[4]&&1===c[5]&&0===c[6]&&0===c[7]&&0===c[8]&&0===c[9]&&1===c[10]&&
0===c[11]&&1===c[15]};b.fovx2fovy=function(c,a,f){return 2*Math.atan(f*Math.tan(.5*c)/a)};b.fovy2fovx=function(c,a,f){return 2*Math.atan(a*Math.tan(.5*c)/f)};b.fovx2fovd=function(c,a,f){return 2*Math.atan(Math.sqrt(a*a+f*f)*Math.tan(.5*c)/a)};b.fovy2fovd=function(c,a,f){return 2*Math.atan(Math.sqrt(a*a+f*f)*Math.tan(.5*c)/f)};b.fovd2fovx=function(c,a,f){return 2*Math.atan(a*Math.tan(.5*c)/Math.sqrt(a*a+f*f))};b.fovd2fovy=function(c,a,f){return 2*Math.atan(f*Math.tan(.5*c)/Math.sqrt(a*a+f*f))};b.nextHighestPowerOfTwo=
function(c){--c;for(var a=1;32>a;a<<=1)c|=c>>a;return c+1};b.nextHighestPowerOfTen=function(c){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(c)))};b.lineLineDistanceSquared3D=function(c,a,f,b,q){w[0]=c[0]-f[0];w[1]=c[1]-f[1];w[2]=c[2]-f[2];A[0]=b[0]-f[0];A[1]=b[1]-f[1];A[2]=b[2]-f[2];if(1E-4>Math.abs(A[0])&&1E-4>Math.abs(A[1])&&1E-4>Math.abs(A[2]))return q.success=!1,q;B[0]=a[0]-c[0];B[1]=a[1]-c[1];B[2]=a[2]-c[2];if(1E-4>Math.abs(B[0])&&1E-4>Math.abs(B[1])&&1E-4>Math.abs(B[2]))return q.success=
!1,q;a=w[0]*A[0]+w[1]*A[1]+w[2]*A[2];b=A[0]*B[0]+A[1]*B[1]+A[2]*B[2];var d=w[0]*B[0]+w[1]*B[1]+w[2]*B[2],e=A[0]*A[0]+A[1]*A[1]+A[2]*A[2],h=(B[0]*B[0]+B[1]*B[1]+B[2]*B[2])*e-b*b;if(1E-4>Math.abs(h))return q.success=!1,q;d=g((a*b-d*e)/h,0,1);a=g((a+b*d)/e,0,1);D[0]=c[0]+d*B[0];D[1]=c[1]+d*B[1];D[2]=c[2]+d*B[2];E[0]=f[0]+a*A[0];E[1]=f[1]+a*A[1];E[2]=f[2]+a*A[2];c=n.vec3d.dist2(D,E);q.success=!0;q.dist2=c;q.pa=D;q.pb=E;return q};b.pointLineSegmentDistanceSquared2D=function(c,a,f){U[0]=a[0]-c[0];U[1]=
a[1]-c[1];U[2]=0;Y[0]=f[0]-c[0];Y[1]=f[1]-c[1];Y[2]=0;R[0]=f[0];R[1]=f[1];R[2]=0;a=n.vec2d.dot(Y,U);f=n.vec2d.dot(U,U);a=g(a/f,0,1);O[0]=U[0]*a;O[1]=U[1]*a;C[0]=c[0]+O[0];C[1]=c[1]+O[1];n.vec2d.subtract(R,C,F);c=n.vec2d.dot(F,F);a=n.vec2d.dot(Y,Y);f=n.vec2d.dot(U,U);var b=n.vec2d.dot(O,O);if(b>a||b>f)c=Number.MAX_VALUE;return c};b.packFloatRGBA=function(c,a,f){void 0===f&&(f=0);c=g(c,0,Q);for(var b=0;4>b;b++)a[f+b]=Math.floor(256*z(c*K[b]))};b.unpackFloatRGBA=y;var K=[1,256,65536,16777216],V=[1/256,
1/65536,1/16777216,1/4294967296],Q=y(new Uint8ClampedArray([255,255,255,255]));b.inverseProjectionInfo=function(c,a,f,b,q){0===c[11]?(b[0]=2/(a*c[0]),b[1]=2/(f*c[5]),b[2]=(1+c[12])/c[0],b[3]=(1+c[13])/c[5],n.vec2d.set2(0,1,q)):(b[0]=-2/(a*c[0]),b[1]=-2/(f*c[5]),b[2]=(1-c[8])/c[0],b[3]=(1-c[9])/c[5],n.vec2d.set2(1,0,q))}})},"esri/views/3d/support/geometryUtils":function(){define(["require","exports","./geometryUtils/lineSegment","./geometryUtils/plane","./geometryUtils/triangle"],function(a,b,k,n,
t){Object.defineProperty(b,"__esModule",{value:!0});b.plane=n;b.triangle=t;b.lineSegment=k})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define(["require","exports","../../lib/glMatrix","../mathUtils"],function(a,b,k,n){function t(a,b){void 0===a&&(a=k.vec3d.create());void 0===b&&(b=k.vec3d.create());return{origin:a,vector:b}}Object.defineProperty(b,"__esModule",{value:!0});b.create=t;b.fromOriginAndVector=function(a,b,g){void 0===g&&(g=t());k.vec3d.set(a,g.origin);k.vec3d.set(b,
g.vector);return g};b.distance2=function(a,b){b=k.vec3d.subtract(b,a.origin);var m=k.vec3d.dot(a.vector,b),e=k.vec3d.dot(a.vector,a.vector),m=n.clamp(m/e,0,1);a=k.vec3d.subtract(k.vec3d.scale(a.vector,m,g),b,g);return k.vec3d.dot(a,a)};var g=k.vec3d.create()})},"esri/views/3d/lib/glMatrix":function(){define([],function(){var a={};(function(a,k){k(a,!0);k(a,!1)})(a,function(a,k){var b={};(function(){if("undefined"!=typeof Float32Array){var c=new Float32Array(1),a=new Int32Array(c.buffer);b.invsqrt=
function(f){c[0]=f;a[0]=1597463007-(a[0]>>1);var b=c[0];return b*(1.5-.5*f*b*b)}}else b.invsqrt=function(c){return 1/Math.sqrt(c)}})();var t=Array;"undefined"!=typeof Float32Array&&(t=k?Float32Array:Array);var g={create:function(c){var a=new t(3);c?(a[0]=c[0],a[1]=c[1],a[2]=c[2]):a[0]=a[1]=a[2]=0;return a},createFrom:function(c,a,b){var f=new t(3);f[0]=c;f[1]=a;f[2]=b;return f},set:function(c,a){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a},set3:function(c,a,b,d){d[0]=c;d[1]=a;d[2]=b;return d},add:function(c,
a,b){if(!b||c===b)return c[0]+=a[0],c[1]+=a[1],c[2]+=a[2],c;b[0]=c[0]+a[0];b[1]=c[1]+a[1];b[2]=c[2]+a[2];return b},subtract:function(c,a,b){if(!b||c===b)return c[0]-=a[0],c[1]-=a[1],c[2]-=a[2],c;b[0]=c[0]-a[0];b[1]=c[1]-a[1];b[2]=c[2]-a[2];return b},multiply:function(c,a,b){if(!b||c===b)return c[0]*=a[0],c[1]*=a[1],c[2]*=a[2],c;b[0]=c[0]*a[0];b[1]=c[1]*a[1];b[2]=c[2]*a[2];return b},max:function(c,a,b){b[0]=Math.max(c[0],a[0]);b[1]=Math.max(c[1],a[1]);b[2]=Math.max(c[2],a[2]);return b},min:function(c,
a,b){b[0]=Math.min(c[0],a[0]);b[1]=Math.min(c[1],a[1]);b[2]=Math.min(c[2],a[2]);return b},negate:function(c,a){a||(a=c);a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];return a},scale:function(c,a,b){if(!b||c===b)return c[0]*=a,c[1]*=a,c[2]*=a,c;b[0]=c[0]*a;b[1]=c[1]*a;b[2]=c[2]*a;return b},normalize:function(c,a){a||(a=c);var f=c[0],b=c[1];c=c[2];var d=Math.sqrt(f*f+b*b+c*c);if(!d)return a[0]=0,a[1]=0,a[2]=0,a;if(1===d)return a[0]=f,a[1]=b,a[2]=c,a;d=1/d;a[0]=f*d;a[1]=b*d;a[2]=c*d;return a},cross:function(c,a,
b){b||(b=c);var f=c[0],q=c[1];c=c[2];var d=a[0],e=a[1];a=a[2];b[0]=q*a-c*e;b[1]=c*d-f*a;b[2]=f*e-q*d;return b},length:function(c){var a=c[0],b=c[1];c=c[2];return Math.sqrt(a*a+b*b+c*c)},length2:function(c){var a=c[0],b=c[1];c=c[2];return a*a+b*b+c*c},dot:function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]},direction:function(c,a,b){b||(b=c);var f=c[0]-a[0],q=c[1]-a[1];c=c[2]-a[2];a=Math.sqrt(f*f+q*q+c*c);if(!a)return b[0]=0,b[1]=0,b[2]=0,b;a=1/a;b[0]=f*a;b[1]=q*a;b[2]=c*a;return b},lerp:function(c,
a,b,d){d||(d=c);d[0]=c[0]+b*(a[0]-c[0]);d[1]=c[1]+b*(a[1]-c[1]);d[2]=c[2]+b*(a[2]-c[2]);return d},dist:function(c,a){var f=a[0]-c[0],b=a[1]-c[1];c=a[2]-c[2];return Math.sqrt(f*f+b*b+c*c)},dist2:function(c,a){var f=a[0]-c[0],b=a[1]-c[1];c=a[2]-c[2];return f*f+b*b+c*c}},u=null,m=new t(4);g.unproject=function(c,a,b,d,e){e||(e=c);u||(u=z.create());var f=u;m[0]=2*(c[0]-d[0])/d[2]-1;m[1]=2*(c[1]-d[1])/d[3]-1;m[2]=2*c[2]-1;m[3]=1;z.multiply(b,a,f);if(!z.inverse(f))return null;z.multiplyVec4(f,m);if(0===
m[3])return null;e[0]=m[0]/m[3];e[1]=m[1]/m[3];e[2]=m[2]/m[3];return e};var x=g.createFrom(1,0,0),e=g.createFrom(0,1,0),d=g.createFrom(0,0,1);g.rotationTo=function(c,a,b){b||(b=r.create());var f=g.dot(c,a),q=g.create();if(1<=f)r.set(v,b);else if(-.999999>f)g.cross(x,c,q),1E-6>q.length&&g.cross(e,c,q),1E-6>q.length&&g.cross(d,c,q),g.normalize(q),r.fromAxisAngle(q,Math.PI,b);else{var f=Math.sqrt(2*(1+f)),h=1/f;g.cross(c,a,q);b[0]=q[0]*h;b[1]=q[1]*h;b[2]=q[2]*h;b[3]=.5*f;r.normalize(b)}1<b[3]?b[3]=1:
-1>b[3]&&(b[3]=-1);return b};var l=g.create(),h=g.create();g.project=function(c,a,b,d){d||(d=c);g.direction(a,b,l);g.subtract(c,a,h);c=g.dot(l,h);g.scale(l,c,d);g.add(d,a,d)};g.str=function(c){return"["+c[0]+", "+c[1]+", "+c[2]+"]"};var y={create:function(c){var a=new t(9);c?(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8]):a[0]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=0;return a},createFrom:function(c,a,b,d,e,h,l,p,g){var f=new t(9);f[0]=c;f[1]=a;f[2]=b;f[3]=
d;f[4]=e;f[5]=h;f[6]=l;f[7]=p;f[8]=g;return f},determinant:function(c){var a=c[3],b=c[4],d=c[5],e=c[6],h=c[7],l=c[8];return c[0]*(l*b-d*h)+c[1]*(-l*a+d*e)+c[2]*(h*a-b*e)},inverse:function(c,a){var f=c[0],b=c[1],d=c[2],e=c[3],h=c[4],l=c[5],p=c[6],g=c[7];c=c[8];var m=c*h-l*g,v=-c*e+l*p,r=g*e-h*p,k=f*m+b*v+d*r;if(!k)return null;k=1/k;a||(a=y.create());a[0]=m*k;a[1]=(-c*b+d*g)*k;a[2]=(l*b-d*h)*k;a[3]=v*k;a[4]=(c*f-d*p)*k;a[5]=(-l*f+d*e)*k;a[6]=r*k;a[7]=(-g*f+b*p)*k;a[8]=(h*f-b*e)*k;return a},multiply:function(c,
a,b){b||(b=c);var f=c[0],q=c[1],d=c[2],e=c[3],h=c[4],l=c[5],p=c[6],g=c[7];c=c[8];var m=a[0],v=a[1],k=a[2],r=a[3],n=a[4],y=a[5],u=a[6],z=a[7];a=a[8];b[0]=m*f+v*e+k*p;b[1]=m*q+v*h+k*g;b[2]=m*d+v*l+k*c;b[3]=r*f+n*e+y*p;b[4]=r*q+n*h+y*g;b[5]=r*d+n*l+y*c;b[6]=u*f+z*e+a*p;b[7]=u*q+z*h+a*g;b[8]=u*d+z*l+a*c;return b},add:function(c,a,b){b||(b=c);b[0]=c[0]+a[0];b[1]=c[1]+a[1];b[2]=c[2]+a[2];b[3]=c[3]+a[3];b[4]=c[4]+a[4];b[5]=c[5]+a[5];b[6]=c[6]+a[6];b[7]=c[7]+a[7];b[8]=c[8]+a[8];return b},subtract:function(c,
a,b){b||(b=c);b[0]=c[0]-a[0];b[1]=c[1]-a[1];b[2]=c[2]-a[2];b[3]=c[3]-a[3];b[4]=c[4]-a[4];b[5]=c[5]-a[5];b[6]=c[6]-a[6];b[7]=c[7]-a[7];b[8]=c[8]-a[8];return b},multiplyVec2:function(c,a,b){b||(b=a);var f=a[0];a=a[1];b[0]=f*c[0]+a*c[3]+c[6];b[1]=f*c[1]+a*c[4]+c[7];return b},multiplyVec3:function(c,a,b){b||(b=a);var f=a[0],q=a[1];a=a[2];b[0]=f*c[0]+q*c[3]+a*c[6];b[1]=f*c[1]+q*c[4]+a*c[7];b[2]=f*c[2]+q*c[5]+a*c[8];return b},set:function(c,a){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];
a[6]=c[6];a[7]=c[7];a[8]=c[8];return a},identity:function(c){c||(c=y.create());c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=1;c[5]=0;c[6]=0;c[7]=0;c[8]=1;return c},transpose:function(c,a){if(!a||c===a){a=c[1];var f=c[2],b=c[5];c[1]=c[3];c[2]=c[6];c[3]=a;c[5]=c[7];c[6]=f;c[7]=b;return c}a[0]=c[0];a[1]=c[3];a[2]=c[6];a[3]=c[1];a[4]=c[4];a[5]=c[7];a[6]=c[2];a[7]=c[5];a[8]=c[8];return a},toMat4:function(c,a){a||(a=z.create());a[15]=1;a[14]=0;a[13]=0;a[12]=0;a[11]=0;a[10]=c[8];a[9]=c[7];a[8]=c[6];a[7]=0;a[6]=c[5];
a[5]=c[4];a[4]=c[3];a[3]=0;a[2]=c[2];a[1]=c[1];a[0]=c[0];return a},str:function(c){return"["+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+", "+c[6]+", "+c[7]+", "+c[8]+"]"}},z={create:function(c){var a=new t(16);4===arguments.length?(a[0]=arguments[0],a[1]=arguments[1],a[2]=arguments[2],a[3]=arguments[3],a[4]=arguments[4],a[5]=arguments[5],a[6]=arguments[6],a[7]=arguments[7],a[8]=arguments[8],a[9]=arguments[9],a[10]=arguments[10],a[11]=arguments[11],a[12]=arguments[12],a[13]=arguments[13],
a[14]=arguments[14],a[15]=arguments[15]):c&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a},createFrom:function(c,a,b,d,e,h,l,p,g,m,v,k,r,n,y,u){var f=new t(16);f[0]=c;f[1]=a;f[2]=b;f[3]=d;f[4]=e;f[5]=h;f[6]=l;f[7]=p;f[8]=g;f[9]=m;f[10]=v;f[11]=k;f[12]=r;f[13]=n;f[14]=y;f[15]=u;return f},createFromMatrixRowMajor:function(c){var a=new t(16);a[0]=c[0];a[4]=c[1];a[8]=
c[2];a[12]=c[3];a[1]=c[4];a[5]=c[5];a[9]=c[6];a[13]=c[7];a[2]=c[8];a[6]=c[9];a[10]=c[10];a[14]=c[11];a[3]=c[12];a[7]=c[13];a[11]=c[14];a[15]=c[15];return a},createFromMatrix:function(c){var a=new t(16);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a},set:function(c,a){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];
a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a},setRowMajor:function(c,a){a[0]=c[0];a[4]=c[1];a[8]=c[2];a[12]=c[3];a[1]=c[4];a[5]=c[5];a[9]=c[6];a[13]=c[7];a[2]=c[8];a[6]=c[9];a[10]=c[10];a[14]=c[11];a[3]=c[12];a[7]=c[13];a[11]=c[14];a[15]=c[15];return a},identity:function(c){c||(c=z.create());c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c},transpose:function(c,a){if(!a||c===a){a=c[1];
var f=c[2],b=c[3],d=c[6],e=c[7],h=c[11];c[1]=c[4];c[2]=c[8];c[3]=c[12];c[4]=a;c[6]=c[9];c[7]=c[13];c[8]=f;c[9]=d;c[11]=c[14];c[12]=b;c[13]=e;c[14]=h;return c}a[0]=c[0];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=c[1];a[5]=c[5];a[6]=c[9];a[7]=c[13];a[8]=c[2];a[9]=c[6];a[10]=c[10];a[11]=c[14];a[12]=c[3];a[13]=c[7];a[14]=c[11];a[15]=c[15];return a},determinant:function(c){var a=c[0],b=c[1],d=c[2],e=c[3],h=c[4],l=c[5],p=c[6],g=c[7],m=c[8],v=c[9],k=c[10],r=c[11],n=c[12],y=c[13],u=c[14];c=c[15];return n*v*p*e-
m*y*p*e-n*l*k*e+h*y*k*e+m*l*u*e-h*v*u*e-n*v*d*g+m*y*d*g+n*b*k*g-a*y*k*g-m*b*u*g+a*v*u*g+n*l*d*r-h*y*d*r-n*b*p*r+a*y*p*r+h*b*u*r-a*l*u*r-m*l*d*c+h*v*d*c+m*b*p*c-a*v*p*c-h*b*k*c+a*l*k*c},inverse:function(c,a){a||(a=c);var f=c[0],b=c[1],d=c[2],e=c[3],h=c[4],l=c[5],p=c[6],g=c[7],m=c[8],v=c[9],k=c[10],r=c[11],n=c[12],y=c[13],u=c[14];c=c[15];var z=f*l-b*h,t=f*p-d*h,x=f*g-e*h,Z=b*p-d*l,P=b*g-e*l,H=d*g-e*p,L=m*y-v*n,J=m*u-k*n,I=m*c-r*n,N=v*u-k*y,T=v*c-r*y,W=k*c-r*u,G=z*W-t*T+x*N+Z*I-P*J+H*L;if(!G)return null;
G=1/G;a[0]=(l*W-p*T+g*N)*G;a[1]=(-b*W+d*T-e*N)*G;a[2]=(y*H-u*P+c*Z)*G;a[3]=(-v*H+k*P-r*Z)*G;a[4]=(-h*W+p*I-g*J)*G;a[5]=(f*W-d*I+e*J)*G;a[6]=(-n*H+u*x-c*t)*G;a[7]=(m*H-k*x+r*t)*G;a[8]=(h*T-l*I+g*L)*G;a[9]=(-f*T+b*I-e*L)*G;a[10]=(n*P-y*x+c*z)*G;a[11]=(-m*P+v*x-r*z)*G;a[12]=(-h*N+l*J-p*L)*G;a[13]=(f*N-b*J+d*L)*G;a[14]=(-n*Z+y*t-u*z)*G;a[15]=(m*Z-v*t+k*z)*G;return a},toRotationMat:function(c,a){a||(a=z.create());a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];
a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},toMat3:function(c,a){a||(a=y.create());a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[4];a[4]=c[5];a[5]=c[6];a[6]=c[8];a[7]=c[9];a[8]=c[10];return a},toInverseMat3:function(c,a){var f=c[0],b=c[1],d=c[2],e=c[4],h=c[5],l=c[6],p=c[8],g=c[9];c=c[10];var m=c*h-l*g,v=-c*e+l*p,k=g*e-h*p,r=f*m+b*v+d*k;if(!r)return null;r=1/r;a||(a=y.create());a[0]=m*r;a[1]=(-c*b+d*g)*r;a[2]=(l*b-d*h)*r;a[3]=v*r;a[4]=(c*f-d*p)*r;a[5]=(-l*f+d*e)*r;a[6]=k*r;a[7]=
(-g*f+b*p)*r;a[8]=(h*f-b*e)*r;return a},multiply:function(c,a,b){b||(b=c);var f=c[0],q=c[1],d=c[2],e=c[3],h=c[4],l=c[5],p=c[6],g=c[7],m=c[8],v=c[9],r=c[10],k=c[11],n=c[12],y=c[13],u=c[14];c=c[15];var z=a[0],t=a[1],x=a[2],P=a[3],H=a[4],L=a[5],J=a[6],I=a[7],N=a[8],T=a[9],W=a[10],G=a[11],aa=a[12],ea=a[13],ga=a[14];a=a[15];b[0]=z*f+t*h+x*m+P*n;b[1]=z*q+t*l+x*v+P*y;b[2]=z*d+t*p+x*r+P*u;b[3]=z*e+t*g+x*k+P*c;b[4]=H*f+L*h+J*m+I*n;b[5]=H*q+L*l+J*v+I*y;b[6]=H*d+L*p+J*r+I*u;b[7]=H*e+L*g+J*k+I*c;b[8]=N*f+T*h+
W*m+G*n;b[9]=N*q+T*l+W*v+G*y;b[10]=N*d+T*p+W*r+G*u;b[11]=N*e+T*g+W*k+G*c;b[12]=aa*f+ea*h+ga*m+a*n;b[13]=aa*q+ea*l+ga*v+a*y;b[14]=aa*d+ea*p+ga*r+a*u;b[15]=aa*e+ea*g+ga*k+a*c;return b},multiplyVec3:function(a,f,b){b||(b=f);var c=f[0],q=f[1];f=f[2];b[0]=a[0]*c+a[4]*q+a[8]*f+a[12];b[1]=a[1]*c+a[5]*q+a[9]*f+a[13];b[2]=a[2]*c+a[6]*q+a[10]*f+a[14];return b},multiplyVec4:function(a,f,b){b||(b=f);var c=f[0],q=f[1],d=f[2];f=f[3];b[0]=a[0]*c+a[4]*q+a[8]*d+a[12]*f;b[1]=a[1]*c+a[5]*q+a[9]*d+a[13]*f;b[2]=a[2]*
c+a[6]*q+a[10]*d+a[14]*f;b[3]=a[3]*c+a[7]*q+a[11]*d+a[15]*f;return b},translate:function(a,f,b){var c=f[0],q=f[1];f=f[2];var d,e,h,l,p,g,m,v,r,k,n,y;if(!b||a===b)return a[12]=a[0]*c+a[4]*q+a[8]*f+a[12],a[13]=a[1]*c+a[5]*q+a[9]*f+a[13],a[14]=a[2]*c+a[6]*q+a[10]*f+a[14],a[15]=a[3]*c+a[7]*q+a[11]*f+a[15],a;d=a[0];e=a[1];h=a[2];l=a[3];p=a[4];g=a[5];m=a[6];v=a[7];r=a[8];k=a[9];n=a[10];y=a[11];b[0]=d;b[1]=e;b[2]=h;b[3]=l;b[4]=p;b[5]=g;b[6]=m;b[7]=v;b[8]=r;b[9]=k;b[10]=n;b[11]=y;b[12]=d*c+p*q+r*f+a[12];
b[13]=e*c+g*q+k*f+a[13];b[14]=h*c+m*q+n*f+a[14];b[15]=l*c+v*q+y*f+a[15];return b},scale:function(a,f,b){var c=f[0],q=f[1];f=f[2];if(!b||a===b)return a[0]*=c,a[1]*=c,a[2]*=c,a[3]*=c,a[4]*=q,a[5]*=q,a[6]*=q,a[7]*=q,a[8]*=f,a[9]*=f,a[10]*=f,a[11]*=f,a;b[0]=a[0]*c;b[1]=a[1]*c;b[2]=a[2]*c;b[3]=a[3]*c;b[4]=a[4]*q;b[5]=a[5]*q;b[6]=a[6]*q;b[7]=a[7]*q;b[8]=a[8]*f;b[9]=a[9]*f;b[10]=a[10]*f;b[11]=a[11]*f;b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*
a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))},rotate:function(a,f,b,d){var c=b[0],q=b[1];b=b[2];var e=Math.sqrt(c*c+q*q+b*b),w,h,l,p,g,m,v,r,k,n,y,u,z,t,x,H,L,J,I,N;if(!e)return null;1!==e&&(e=1/e,c*=e,q*=e,b*=e);w=Math.sin(f);h=Math.cos(f);l=1-h;f=a[0];e=a[1];p=a[2];g=a[3];m=a[4];v=a[5];r=a[6];k=a[7];n=a[8];y=a[9];u=a[10];z=a[11];t=c*c*l+h;x=q*c*l+b*w;H=b*c*l-q*w;L=c*q*l-b*w;J=q*q*l+h;I=b*q*l+c*w;N=c*b*l+q*w;c=q*b*l-c*w;q=b*b*l+h;
d?a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[0]=f*t+m*x+n*H;d[1]=e*t+v*x+y*H;d[2]=p*t+r*x+u*H;d[3]=g*t+k*x+z*H;d[4]=f*L+m*J+n*I;d[5]=e*L+v*J+y*I;d[6]=p*L+r*J+u*I;d[7]=g*L+k*J+z*I;d[8]=f*N+m*c+n*q;d[9]=e*N+v*c+y*q;d[10]=p*N+r*c+u*q;d[11]=g*N+k*c+z*q;return d},rotateX:function(a,f,b){var c=Math.sin(f);f=Math.cos(f);var q=a[4],d=a[5],e=a[6],h=a[7],l=a[8],p=a[9],g=a[10],m=a[11];b?a!==b&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[4]=
q*f+l*c;b[5]=d*f+p*c;b[6]=e*f+g*c;b[7]=h*f+m*c;b[8]=q*-c+l*f;b[9]=d*-c+p*f;b[10]=e*-c+g*f;b[11]=h*-c+m*f;return b},rotateY:function(a,f,b){var c=Math.sin(f);f=Math.cos(f);var q=a[0],d=a[1],e=a[2],h=a[3],l=a[8],p=a[9],g=a[10],m=a[11];b?a!==b&&(b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=q*f+l*-c;b[1]=d*f+p*-c;b[2]=e*f+g*-c;b[3]=h*f+m*-c;b[8]=q*c+l*f;b[9]=d*c+p*f;b[10]=e*c+g*f;b[11]=h*c+m*f;return b},rotateZ:function(a,f,b){var c=Math.sin(f);f=Math.cos(f);
var q=a[0],d=a[1],e=a[2],h=a[3],l=a[4],p=a[5],g=a[6],m=a[7];b?a!==b&&(b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]):b=a;b[0]=q*f+l*c;b[1]=d*f+p*c;b[2]=e*f+g*c;b[3]=h*f+m*c;b[4]=q*-c+l*f;b[5]=d*-c+p*f;b[6]=e*-c+g*f;b[7]=h*-c+m*f;return b},frustum:function(a,f,b,d,e,h,l){l||(l=z.create());var c=f-a,q=d-b,w=h-e;l[0]=2*e/c;l[1]=0;l[2]=0;l[3]=0;l[4]=0;l[5]=2*e/q;l[6]=0;l[7]=0;l[8]=(f+a)/c;l[9]=(d+b)/q;l[10]=-(h+e)/w;l[11]=-1;l[12]=0;l[13]=0;l[14]=-(h*e*2)/
w;l[15]=0;return l},perspective:function(a,f,b,d,e){a=b*Math.tan(a*Math.PI/360);f*=a;return z.frustum(-f,f,-a,a,b,d,e)},ortho:function(a,f,b,d,e,h,l){l||(l=z.create());var c=f-a,q=d-b,w=h-e;l[0]=2/c;l[1]=0;l[2]=0;l[3]=0;l[4]=0;l[5]=2/q;l[6]=0;l[7]=0;l[8]=0;l[9]=0;l[10]=-2/w;l[11]=0;l[12]=-(a+f)/c;l[13]=-(d+b)/q;l[14]=-(h+e)/w;l[15]=1;return l},lookAt:function(a,f,b,d){d||(d=z.create());var c,q,e,w,h,l,p,g,m=a[0],v=a[1];a=a[2];e=b[0];w=b[1];q=b[2];p=f[0];b=f[1];c=f[2];if(m===p&&v===b&&a===c)return z.identity(d);
f=m-p;b=v-b;p=a-c;g=1/Math.sqrt(f*f+b*b+p*p);f*=g;b*=g;p*=g;c=w*p-q*b;q=q*f-e*p;e=e*b-w*f;(g=Math.sqrt(c*c+q*q+e*e))?(g=1/g,c*=g,q*=g,e*=g):e=q=c=0;w=b*e-p*q;h=p*c-f*e;l=f*q-b*c;(g=Math.sqrt(w*w+h*h+l*l))?(g=1/g,w*=g,h*=g,l*=g):l=h=w=0;d[0]=c;d[1]=w;d[2]=f;d[3]=0;d[4]=q;d[5]=h;d[6]=b;d[7]=0;d[8]=e;d[9]=l;d[10]=p;d[11]=0;d[12]=-(c*m+q*v+e*a);d[13]=-(w*m+h*v+l*a);d[14]=-(f*m+b*v+p*a);d[15]=1;return d},fromRotationTranslation:function(a,f,b){b||(b=z.create());var c=a[0],q=a[1],d=a[2],e=a[3],h=c+c,l=
q+q,p=d+d;a=c*h;var g=c*l,c=c*p,m=q*l,q=q*p,d=d*p,h=e*h,l=e*l,e=e*p;b[0]=1-(m+d);b[1]=g+e;b[2]=c-l;b[3]=0;b[4]=g-e;b[5]=1-(a+d);b[6]=q+h;b[7]=0;b[8]=c+l;b[9]=q-h;b[10]=1-(a+m);b[11]=0;b[12]=f[0];b[13]=f[1];b[14]=f[2];b[15]=1;return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},r={create:function(a){var c=new t(4);a?(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=
a[3]):c[0]=c[1]=c[2]=c[3]=0;return c},createFrom:function(a,b,q,d){var c=new t(4);c[0]=a;c[1]=b;c[2]=q;c[3]=d;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=r.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},v=r.identity();r.calculateW=function(a,b){var c=a[0],f=a[1],d=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-c*c-f*f-d*d)),a;b[0]=c;b[1]=f;b[2]=d;b[3]=-Math.sqrt(Math.abs(1-c*c-f*f-d*d));return b};r.dot=function(a,b){return a[0]*b[0]+
a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};r.inverse=function(a,b){var c=a[0],f=a[1],d=a[2],e=a[3],c=(c=c*c+f*f+d*d+e*e)?1/c:0;if(!b||a===b)return a[0]*=-c,a[1]*=-c,a[2]*=-c,a[3]*=c,a;b[0]=-a[0]*c;b[1]=-a[1]*c;b[2]=-a[2]*c;b[3]=a[3]*c;return b};r.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};r.length=function(a){var c=a[0],b=a[1],d=a[2];a=a[3];return Math.sqrt(c*c+b*b+d*d+a*a)};r.normalize=function(a,b){b||(b=a);var c=a[0],f=a[1],
d=a[2];a=a[3];var e=Math.sqrt(c*c+f*f+d*d+a*a);if(0===e)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;e=1/e;b[0]=c*e;b[1]=f*e;b[2]=d*e;b[3]=a*e;return b};r.add=function(a,b,d){if(!d||a===d)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;d[0]=a[0]+b[0];d[1]=a[1]+b[1];d[2]=a[2]+b[2];d[3]=a[3]+b[3];return d};r.multiply=function(a,b,d){d||(d=a);var c=a[0],f=a[1],q=a[2];a=a[3];var e=b[0],h=b[1],l=b[2];b=b[3];d[0]=c*b+a*e+f*l-q*h;d[1]=f*b+a*h+q*e-c*l;d[2]=q*b+a*l+c*h-f*e;d[3]=a*b-c*e-f*h-q*l;return d};r.multiplyVec3=
function(a,b,d){d||(d=b);var c=b[0],f=b[1],q=b[2];b=a[0];var e=a[1],h=a[2];a=a[3];var l=a*c+e*q-h*f,p=a*f+h*c-b*q,g=a*q+b*f-e*c,c=-b*c-e*f-h*q;d[0]=l*a+c*-b+p*-h-g*-e;d[1]=p*a+c*-e+g*-b-l*-h;d[2]=g*a+c*-h+l*-e-p*-b;return d};r.scale=function(a,b,d){if(!d||a===d)return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a;d[0]=a[0]*b;d[1]=a[1]*b;d[2]=a[2]*b;d[3]=a[3]*b;return d};r.toMat3=function(a,b){b||(b=y.create());var c=a[0],f=a[1],d=a[2],e=a[3],h=c+c,l=f+f,p=d+d;a=c*h;var g=c*l,c=c*p,m=f*l,f=f*p,d=d*p,h=e*h,l=e*
l,e=e*p;b[0]=1-(m+d);b[1]=g+e;b[2]=c-l;b[3]=g-e;b[4]=1-(a+d);b[5]=f+h;b[6]=c+l;b[7]=f-h;b[8]=1-(a+m);return b};r.toMat4=function(a,b){b||(b=z.create());var c=a[0],f=a[1],d=a[2],e=a[3],h=c+c,l=f+f,p=d+d;a=c*h;var g=c*l,c=c*p,m=f*l,f=f*p,d=d*p,h=e*h,l=e*l,e=e*p;b[0]=1-(m+d);b[1]=g+e;b[2]=c-l;b[3]=0;b[4]=g-e;b[5]=1-(a+d);b[6]=f+h;b[7]=0;b[8]=c+l;b[9]=f-h;b[10]=1-(a+m);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};r.slerp=function(a,b,d,e){e||(e=a);var c=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],f,
q;if(1<=Math.abs(c))return e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;f=Math.acos(c);q=Math.sqrt(1-c*c);if(.001>Math.abs(q))return e[0]=.5*a[0]+.5*b[0],e[1]=.5*a[1]+.5*b[1],e[2]=.5*a[2]+.5*b[2],e[3]=.5*a[3]+.5*b[3],e;c=Math.sin((1-d)*f)/q;d=Math.sin(d*f)/q;e[0]=a[0]*c+b[0]*d;e[1]=a[1]*c+b[1]*d;e[2]=a[2]*c+b[2]*d;e[3]=a[3]*c+b[3]*d;return e};r.fromRotationMatrix=function(a,b){b||(b=r.create());var c=a[0]+a[4]+a[8],f;if(0<c)f=Math.sqrt(c+1),b[3]=.5*f,f=.5/f,b[0]=(a[7]-a[5])*f,b[1]=(a[2]-a[6])*
f,b[2]=(a[3]-a[1])*f;else{f=r.fromRotationMatrix.s_iNext=r.fromRotationMatrix.s_iNext||[1,2,0];c=0;a[4]>a[0]&&(c=1);a[8]>a[3*c+c]&&(c=2);var d=f[c],e=f[d];f=Math.sqrt(a[3*c+c]-a[3*d+d]-a[3*e+e]+1);b[c]=.5*f;f=.5/f;b[3]=(a[3*e+d]-a[3*d+e])*f;b[d]=(a[3*d+c]+a[3*c+d])*f;b[e]=(a[3*e+c]+a[3*c+e])*f}return b};y.toQuat4=r.fromRotationMatrix;(function(){var a=y.create();r.fromAxes=function(c,b,d,e){a[0]=b[0];a[3]=b[1];a[6]=b[2];a[1]=d[0];a[4]=d[1];a[7]=d[2];a[2]=c[0];a[5]=c[1];a[8]=c[2];return r.fromRotationMatrix(a,
e)}})();r.identity=function(a){a||(a=r.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};r.fromAngleAxis=function(a,b,d){d||(d=r.create());a*=.5;var c=Math.sin(a);d[3]=Math.cos(a);d[0]=c*b[0];d[1]=c*b[1];d[2]=c*b[2];return d};r.toAngleAxis=function(a,f){f||(f=a);var c=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];0<c?(f[3]=2*Math.acos(a[3]),c=b.invsqrt(c),f[0]=a[0]*c,f[1]=a[1]*c,f[2]=a[2]*c):(f[3]=0,f[0]=1,f[1]=0,f[2]=0);return f};r.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var p={create:function(a){var c=
new t(4);a?(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3]):c[0]=c[1]=c[2]=c[3]=0;return c},createFrom:function(a,b,d,e){var c=new t(4);c[0]=a;c[1]=b;c[2]=d;c[3]=e;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=p.create());a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,
b){b||(b=a);var c=a[0],f=a[1],d=a[2];a=a[3];var e=c*a-d*f;if(!e)return null;e=1/e;b[0]=a*e;b[1]=-f*e;b[2]=-d*e;b[3]=c*e;return b},multiply:function(a,b,d){d||(d=a);var c=a[0],f=a[1],q=a[2];a=a[3];d[0]=c*b[0]+f*b[2];d[1]=c*b[1]+f*b[3];d[2]=q*b[0]+a*b[2];d[3]=q*b[1]+a*b[3];return d},rotate:function(a,b,d){d||(d=a);var c=a[0],f=a[1],q=a[2];a=a[3];var e=Math.sin(b);b=Math.cos(b);d[0]=c*b+f*e;d[1]=c*-e+f*b;d[2]=q*b+a*e;d[3]=q*-e+a*b;return d},multiplyVec2:function(a,b,d){d||(d=b);var c=b[0];b=b[1];d[0]=
c*a[0]+b*a[1];d[1]=c*a[2]+b*a[3];return d},scale:function(a,b,d){d||(d=a);var c=a[1],f=a[2],q=a[3],e=b[0];b=b[1];d[0]=a[0]*e;d[1]=c*b;d[2]=f*e;d[3]=q*b;return d},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};k=k?"":"d";a["glMath"+k]=b;a["vec2"+k]={create:function(a){var c=new t(2);a?(c[0]=a[0],c[1]=a[1]):(c[0]=0,c[1]=0);return c},createFrom:function(a,b){var c=new t(2);c[0]=a;c[1]=b;return c},add:function(a,b,d){d||(d=b);d[0]=a[0]+b[0];d[1]=a[1]+b[1];return d},subtract:function(a,
b,d){d||(d=b);d[0]=a[0]-b[0];d[1]=a[1]-b[1];return d},multiply:function(a,b,d){d||(d=b);d[0]=a[0]*b[0];d[1]=a[1]*b[1];return d},divide:function(a,b,d){d||(d=b);d[0]=a[0]/b[0];d[1]=a[1]/b[1];return d},scale:function(a,b,d){d||(d=a);d[0]=a[0]*b;d[1]=a[1]*b;return d},dist:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)},dist2:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,d){d[0]=a;d[1]=b;return d},negate:function(a,
b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];0<c?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0;return b},cross:function(a,b,d){a=a[0]*b[1]-a[1]*b[0];if(!d)return a;d[0]=d[1]=0;d[2]=a;return d},length:function(a){var c=a[0];a=a[1];return Math.sqrt(c*c+a*a)},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,d){d||(d=a);var c=a[0]-b[0];a=a[1]-b[1];b=c*c+a*a;if(!b)return d[0]=0,d[1]=0,d[2]=0,d;b=1/Math.sqrt(b);d[0]=c*
b;d[1]=a*b;return d},lerp:function(a,b,d,e){e||(e=a);e[0]=a[0]+d*(b[0]-a[0]);e[1]=a[1]+d*(b[1]-a[1]);return e},str:function(a){return"["+a[0]+", "+a[1]+"]"}};a["vec3"+k]=g;a["vec4"+k]={create:function(a){var c=new t(4);a?(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3]):(c[0]=0,c[1]=0,c[2]=0,c[3]=0);return c},createFrom:function(a,b,d,e){var c=new t(4);c[0]=a;c[1]=b;c[2]=d;c[3]=e;return c},add:function(a,b,d){d||(d=b);d[0]=a[0]+b[0];d[1]=a[1]+b[1];d[2]=a[2]+b[2];d[3]=a[3]+b[3];return d},subtract:function(a,
b,d){d||(d=b);d[0]=a[0]-b[0];d[1]=a[1]-b[1];d[2]=a[2]-b[2];d[3]=a[3]-b[3];return d},multiply:function(a,b,d){d||(d=b);d[0]=a[0]*b[0];d[1]=a[1]*b[1];d[2]=a[2]*b[2];d[3]=a[3]*b[3];return d},divide:function(a,b,d){d||(d=b);d[0]=a[0]/b[0];d[1]=a[1]/b[1];d[2]=a[2]/b[2];d[3]=a[3]/b[3];return d},scale:function(a,b,d){d||(d=a);d[0]=a[0]*b;d[1]=a[1]*b;d[2]=a[2]*b;d[3]=a[3]*b;return d},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];
return b},set4:function(a,b,d,e,h){h[0]=a;h[1]=b;h[2]=d;h[3]=e;return h},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},lerp:function(a,b,d,e){e||(e=a);e[0]=a[0]+d*(b[0]-a[0]);e[1]=a[1]+d*(b[1]-a[1]);e[2]=a[2]+d*(b[2]-a[2]);e[3]=a[3]+d*(b[3]-a[3]);return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+k]=p;a["mat3"+k]=y;a["mat4"+k]=z;a["quat4"+k]=r});return a})},"esri/views/3d/support/mathUtils":function(){define(["require","exports",
"../lib/glMatrix"],function(a,b,k){function n(a){return Math.asin(1<a?1:-1>a?-1:a)}function t(a){return Math.acos(1<a?1:-1>a?-1:a)}function g(a,b,e){return a<b?b:a>e?e:a}function u(a){for(var b in a){var d=a[b];d instanceof Function&&(a[b]=d.bind(a))}return a}Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=n;b.acos=t;b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/
Math.LN2};b.fovx2fovy=function(a,b,e){return 2*Math.atan(e*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,e){return 2*Math.atan(b*Math.tan(.5*a)/e)};b.makeOrthonormal=function(a,b,e){e=e||a;var d=k.vec3d.dot(a,b);k.vec3d.set3(a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2],e);k.vec3d.normalize(e)};b.tangentFrame=function(a,b,e){Math.abs(a[0])>Math.abs(a[1])?k.vec3d.set3(0,1,0,b):k.vec3d.set3(1,0,0,b);k.vec3d.cross(a,b,e);k.vec3d.normalize(b);k.vec3d.cross(e,a,b);k.vec3d.normalize(e)};b.cartesianToSpherical=function(a,
b){var d=k.vec3d.length(a),e=n(a[2]/d);k.vec3d.set3(d,e,Math.atan2(a[1]/d,a[0]/d),b)};b.sphericalToCartesian=function(a,b){var d=a[0],e=a[1];a=a[2];var l=Math.cos(e);k.vec3d.set3(d*l*Math.cos(a),d*l*Math.sin(a),d*Math.sin(e),b)};b.lerp=function(a,b,e){return a+(b-a)*e};b.bilerp=function(a,b,e,g,m,r){a+=(b-a)*m;return a+(e+(g-e)*m-a)*r};b.slerp=function(a,b,h,g){void 0===g&&(g=a);var d=k.vec3d.length(a),l=k.vec3d.length(b),m=k.vec3d.dot(a,b)/(d*l);if(.9999999999999999>m){var m=Math.acos(m),p=((1-h)*
d+h*l)/Math.sin(m),l=p/l*Math.sin(h*m);k.vec3d.scale(a,p/d*Math.sin((1-h)*m),x);k.vec3d.scale(b,l,e);return k.vec3d.add(x,e,g)}return k.vec3d.lerp(a,b,h,g)};b.angle=function(a,b,h){a=k.vec3d.normalize(a,x);b=k.vec3d.normalize(b,e);var d=t(k.vec3d.dot(a,b));return h&&(a=k.vec3d.cross(a,b,m),0>k.vec3d.dot(a,h))?-d:d};b.clamp=g;b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};b.isNaN=Number.isNaN||function(a){return a!==a};b.makePiecewiseLinearFunction=function(a){var b=
a.length;return function(d){var e=0;if(d<=a[0][0])return a[0][1];if(d>=a[b-1][0])return a[b-1][1];for(;d>a[e][0];)e++;var h=a[e][0];d=(h-d)/(h-a[e-1][0]);return d*a[e-1][1]+(1-d)*a[e][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.floatEqualRelative=function(a,e,h){void 0===h&&(h=1E-6);if(b.isNaN(a)||b.isNaN(e))return!1;if(a===e)return!0;var d=Math.abs(a-e),l=Math.abs(a),g=Math.abs(e);
if(0===a||0===e||1E-12>l&&1E-12>g){if(d>.01*h)return!1}else if(d/(l+g)>h)return!1;return!0};b.floatEqualAbsolute=function(a,e,h){void 0===h&&(h=1E-6);return b.isNaN(a)||b.isNaN(e)?!1:(a>e?a-e:e-a)<=h};a=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,d,e){void 0===e&&(e=0);d-=e;d<a?d+=this.ndiff(a-d):d>b&&(d-=this.ndiff(d-b));return d+e};a.prototype.normalize=
function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return g(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,d){return a<b?b:b+this.ndiff(a-b,d)};a.prototype.minimalMonotonic=function(a,b,d){return this._normalize(a,a+this.range,b,d)};a.prototype.center=function(a,b,d){b=this.monotonic(a,b,d);return this.normalize((a+b)/2,d)};a.prototype.diff=function(a,b,d){return this.monotonic(a,b,d)-a};a.prototype.contains=function(a,b,d){b=
this.minimalMonotonic(a,b);d=this.minimalMonotonic(a,d);return d>a&&d<b};return a}();b.Cyclical=a;b.cyclical2PI=u(new a(0,2*Math.PI));b.cyclicalPI=u(new a(-Math.PI,Math.PI));b.cyclicalDeg=u(new a(0,360));var m=k.vec3d.create(),x=k.vec3d.create(),e=k.vec3d.create()})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../lib/glMatrix"],function(a,b,k){function n(a){void 0===a&&(a=b.UP);return[a[0],a[1],a[2],a[3]]}function t(a,b,l){void 0===l&&(l=n());k.vec3d.set(b,
l);l[3]=-k.vec3d.dot(b,a);return l}function g(a,b,l,h){void 0===h&&(h=n());k.vec3d.cross(b,a,x);return t(l,k.vec3d.normalize(x),h)}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.fromValues=function(a,b,l,h,g){void 0===g&&(g=n());g[0]=a;g[1]=b;g[2]=l;g[3]=h;return g};b.fromNormalAndOffset=function(a,b,l){void 0===l&&(l=n());k.vec3d.set(a,l);l[3]=b;return l};b.fromPositionAndNormal=t;b.projectVector=function(a,b,l){void 0===l&&(l=b);return k.vec3d.cross(a,k.vec3d.cross(b,a,m),l)};b.distance=
function(a,b){return k.vec3d.dot(a,b)+a[3]};b.fromPoints=function(a,b,l,h){void 0===h&&(h=n());return g(k.vec3d.subtract(a,b,u),k.vec3d.subtract(l,b,m),a,h)};b.set=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};b.negate=function(a,b){void 0===b&&(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};b.fromVectorsAndPoint=g;b.intersectRay=function(a,b,l,h){var d=k.vec3d.dot(a,l);if(0===d)return!1;a=-(k.vec3d.dot(a,b)+a[3])/d;k.vec3d.add(b,k.vec3d.scale(l,a,h),h);return!0};b.UP=
[0,0,1,0];var u=k.vec3d.create(),m=k.vec3d.create(),x=k.vec3d.create()})},"esri/views/3d/support/geometryUtils/triangle":function(){define(["require","exports","../../lib/glMatrix","./lineSegment"],function(a,b,k,n){function t(a,b,d){var e=k.vec2d.dist(a,b);b=k.vec2d.dist(b,d);a=k.vec2d.dist(d,a);d=(e+b+a)/2;return Math.sqrt(d*(d-e)*(d-b)*(d-a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,d){void 0===a&&(a=k.vec3d.create());void 0===b&&(b=k.vec3d.create());void 0===d&&(d=
k.vec3d.create());return{p0:a,p1:b,p2:d}};b.distance2=function(a,b){var r=a.p0,v=a.p1;a=a.p2;var p=k.vec3d.subtract(v,r,g),c=k.vec3d.subtract(a,v,u),f=k.vec3d.subtract(r,a,m),q=k.vec3d.subtract(b,r,x),w=k.vec3d.subtract(b,v,e),A=k.vec3d.subtract(b,a,d),B=k.vec3d.cross(p,f),y=k.vec3d.dot(k.vec3d.cross(p,B,l),q),w=k.vec3d.dot(k.vec3d.cross(c,B,l),w),A=k.vec3d.dot(k.vec3d.cross(f,B,l),A);if(0<y&&0<w&&0<A)return b=k.vec3d.dot(B,q),b*b/k.vec3d.dot(B,B);r=n.distance2(n.fromOriginAndVector(r,p,h),b);v=n.distance2(n.fromOriginAndVector(v,
c,h),b);b=n.distance2(n.fromOriginAndVector(a,f,h),b);return Math.min(r,v,b)};b.areaPoints2d=t;b.area2d=function(a){return t(a.p0,a.p1,a.p2)};var g=k.vec3d.create(),u=k.vec3d.create(),m=k.vec3d.create(),x=k.vec3d.create(),e=k.vec3d.create(),d=k.vec3d.create(),l=k.vec3d.create(),h=n.create()})},"esri/views/3d/webgl-engine/lib/gl-matrix":function(){define([],function(){var a={};(function(a,k){k(a,!0);k(a,!1)})(a,function(a,k){var b={};(function(){if("undefined"!=typeof Float32Array){var a=new Float32Array(1),
f=new Int32Array(a.buffer);b.invsqrt=function(c){a[0]=c;f[0]=1597463007-(f[0]>>1);var b=a[0];return b*(1.5-.5*c*b*b)}}else b.invsqrt=function(a){return 1/Math.sqrt(a)}})();var t=Array;"undefined"!=typeof Float32Array&&(t=k?Float32Array:Array);var g={create:function(a){var c=new t(3);a?(c[0]=a[0],c[1]=a[1],c[2]=a[2]):c[0]=c[1]=c[2]=0;return c},createFrom:function(a,b,d){var c=new t(3);c[0]=a;c[1]=b;c[2]=d;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},set3:function(a,b,d,e){e[0]=
a;e[1]=b;e[2]=d;return e},add:function(a,b,d){if(!d||a===d)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;d[0]=a[0]+b[0];d[1]=a[1]+b[1];d[2]=a[2]+b[2];return d},subtract:function(a,b,d){if(!d||a===d)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;d[0]=a[0]-b[0];d[1]=a[1]-b[1];d[2]=a[2]-b[2];return d},multiply:function(a,b,d){if(!d||a===d)return a[0]*=b[0],a[1]*=b[1],a[2]*=b[2],a;d[0]=a[0]*b[0];d[1]=a[1]*b[1];d[2]=a[2]*b[2];return d},max:function(a,b,d){d[0]=Math.max(a[0],b[0]);d[1]=Math.max(a[1],b[1]);d[2]=
Math.max(a[2],b[2]);return d},min:function(a,b,d){d[0]=Math.min(a[0],b[0]);d[1]=Math.min(a[1],b[1]);d[2]=Math.min(a[2],b[2]);return d},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,d){if(!d||a===d)return a[0]*=b,a[1]*=b,a[2]*=b,a;d[0]=a[0]*b;d[1]=a[1]*b;d[2]=a[2]*b;return d},normalize:function(a,b){b||(b=a);var c=a[0],f=a[1];a=a[2];var d=Math.sqrt(c*c+f*f+a*a);if(!d)return b[0]=0,b[1]=0,b[2]=0,b;if(1===d)return b[0]=c,b[1]=f,b[2]=a,b;d=1/d;b[0]=c*d;b[1]=
f*d;b[2]=a*d;return b},cross:function(a,b,d){d||(d=a);var c=a[0],f=a[1];a=a[2];var e=b[0],q=b[1];b=b[2];d[0]=f*b-a*q;d[1]=a*e-c*b;d[2]=c*q-f*e;return d},length:function(a){var c=a[0],b=a[1];a=a[2];return Math.sqrt(c*c+b*b+a*a)},length2:function(a){var c=a[0],b=a[1];a=a[2];return c*c+b*b+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,b,d){d||(d=a);var c=a[0]-b[0],f=a[1]-b[1];a=a[2]-b[2];b=Math.sqrt(c*c+f*f+a*a);if(!b)return d[0]=0,d[1]=0,d[2]=0,d;b=1/b;d[0]=c*b;d[1]=
f*b;d[2]=a*b;return d},lerp:function(a,b,d,e){e||(e=a);e[0]=a[0]+d*(b[0]-a[0]);e[1]=a[1]+d*(b[1]-a[1]);e[2]=a[2]+d*(b[2]-a[2]);return e},dist:function(a,b){var c=b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(c*c+f*f+a*a)},dist2:function(a,b){var c=b[0]-a[0],f=b[1]-a[1];a=b[2]-a[2];return c*c+f*f+a*a}},u=null,m=new t(4);g.unproject=function(a,b,d,e,h){h||(h=a);u||(u=z.create());var c=u;m[0]=2*(a[0]-e[0])/e[2]-1;m[1]=2*(a[1]-e[1])/e[3]-1;m[2]=2*a[2]-1;m[3]=1;z.multiply(d,b,c);if(!z.inverse(c))return null;
z.multiplyVec4(c,m);if(0===m[3])return null;h[0]=m[0]/m[3];h[1]=m[1]/m[3];h[2]=m[2]/m[3];return h};var x=g.createFrom(1,0,0),e=g.createFrom(0,1,0),d=g.createFrom(0,0,1);g.rotationTo=function(a,b,q){q||(q=r.create());var c=g.dot(a,b),f=g.create();if(1<=c)r.set(v,q);else if(-.999999>c)g.cross(x,a,f),1E-6>f.length&&g.cross(e,a,f),1E-6>f.length&&g.cross(d,a,f),g.normalize(f),r.fromAxisAngle(f,Math.PI,q);else{var c=Math.sqrt(2*(1+c)),h=1/c;g.cross(a,b,f);q[0]=f[0]*h;q[1]=f[1]*h;q[2]=f[2]*h;q[3]=.5*c;r.normalize(q)}1<
q[3]?q[3]=1:-1>q[3]&&(q[3]=-1);return q};var l=g.create(),h=g.create();g.project=function(a,b,d,e){e||(e=a);g.direction(b,d,l);g.subtract(a,b,h);a=g.dot(l,h);g.scale(l,a,e);g.add(e,b,e)};g.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var y={create:function(a){var c=new t(9);a?(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8]):c[0]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=0;return c},createFrom:function(a,b,d,e,h,l,p,g,m){var c=new t(9);c[0]=a;c[1]=
b;c[2]=d;c[3]=e;c[4]=h;c[5]=l;c[6]=p;c[7]=g;c[8]=m;return c},determinant:function(a){var c=a[3],b=a[4],d=a[5],e=a[6],h=a[7],l=a[8];return a[0]*(l*b-d*h)+a[1]*(-l*c+d*e)+a[2]*(h*c-b*e)},inverse:function(a,b){var c=a[0],f=a[1],d=a[2],e=a[3],h=a[4],l=a[5],p=a[6],g=a[7];a=a[8];var m=a*h-l*g,v=-a*e+l*p,k=g*e-h*p,r=c*m+f*v+d*k;if(!r)return null;r=1/r;b||(b=y.create());b[0]=m*r;b[1]=(-a*f+d*g)*r;b[2]=(l*f-d*h)*r;b[3]=v*r;b[4]=(a*c-d*p)*r;b[5]=(-l*c+d*e)*r;b[6]=k*r;b[7]=(-g*c+f*p)*r;b[8]=(h*c-f*e)*r;return b},
multiply:function(a,b,d){d||(d=a);var c=a[0],f=a[1],e=a[2],q=a[3],h=a[4],l=a[5],p=a[6],g=a[7];a=a[8];var m=b[0],v=b[1],k=b[2],r=b[3],n=b[4],u=b[5],y=b[6],z=b[7];b=b[8];d[0]=m*c+v*q+k*p;d[1]=m*f+v*h+k*g;d[2]=m*e+v*l+k*a;d[3]=r*c+n*q+u*p;d[4]=r*f+n*h+u*g;d[5]=r*e+n*l+u*a;d[6]=y*c+z*q+b*p;d[7]=y*f+z*h+b*g;d[8]=y*e+z*l+b*a;return d},multiplyVec2:function(a,b,d){d||(d=b);var c=b[0];b=b[1];d[0]=c*a[0]+b*a[3]+a[6];d[1]=c*a[1]+b*a[4]+a[7];return d},multiplyVec3:function(a,b,d){d||(d=b);var c=b[0],f=b[1];
b=b[2];d[0]=c*a[0]+f*a[3]+b*a[6];d[1]=c*a[1]+f*a[4]+b*a[7];d[2]=c*a[2]+f*a[5]+b*a[8];return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},identity:function(a){a||(a=y.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var c=a[2],f=a[5];a[1]=a[3];a[2]=a[6];a[3]=b;a[5]=a[7];a[6]=c;a[7]=f;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=
a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,b){b||(b=z.create());b[15]=1;b[14]=0;b[13]=0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},z={create:function(a){var c=new t(16);4===arguments.length?(c[0]=arguments[0],c[1]=arguments[1],c[2]=arguments[2],c[3]=arguments[3],c[4]=arguments[4],
c[5]=arguments[5],c[6]=arguments[6],c[7]=arguments[7],c[8]=arguments[8],c[9]=arguments[9],c[10]=arguments[10],c[11]=arguments[11],c[12]=arguments[12],c[13]=arguments[13],c[14]=arguments[14],c[15]=arguments[15]):a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},createFrom:function(a,b,d,e,h,l,p,g,m,v,k,r,n,u,y,z){var c=new t(16);c[0]=a;c[1]=b;c[2]=d;c[3]=e;c[4]=h;
c[5]=l;c[6]=p;c[7]=g;c[8]=m;c[9]=v;c[10]=k;c[11]=r;c[12]=n;c[13]=u;c[14]=y;c[15]=z;return c},createFromMatrixRowMajor:function(a){var c=new t(16);c[0]=a[0];c[4]=a[1];c[8]=a[2];c[12]=a[3];c[1]=a[4];c[5]=a[5];c[9]=a[6];c[13]=a[7];c[2]=a[8];c[6]=a[9];c[10]=a[10];c[14]=a[11];c[3]=a[12];c[7]=a[13];c[11]=a[14];c[15]=a[15];return c},createFromMatrix:function(a){var c=new t(16);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=
a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},setRowMajor:function(a,b){b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},identity:function(a){a||(a=z.create());a[0]=
1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var c=a[2],d=a[3],f=a[6],e=a[7],h=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=b;a[6]=a[9];a[7]=a[13];a[8]=c;a[9]=f;a[11]=a[14];a[12]=d;a[13]=e;a[14]=h;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},
determinant:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],h=a[4],l=a[5],p=a[6],g=a[7],m=a[8],v=a[9],k=a[10],r=a[11],n=a[12],u=a[13],y=a[14];a=a[15];return n*v*p*e-m*u*p*e-n*l*k*e+h*u*k*e+m*l*y*e-h*v*y*e-n*v*d*g+m*u*d*g+n*c*k*g-b*u*k*g-m*c*y*g+b*v*y*g+n*l*d*r-h*u*d*r-n*c*p*r+b*u*p*r+h*c*y*r-b*l*y*r-m*l*d*a+h*v*d*a+m*c*p*a-b*v*p*a-h*c*k*a+b*l*k*a},inverse:function(a,b){b||(b=a);var c=a[0],d=a[1],f=a[2],e=a[3],h=a[4],l=a[5],p=a[6],g=a[7],m=a[8],v=a[9],k=a[10],r=a[11],n=a[12],u=a[13],y=a[14];a=a[15];var z=
c*l-d*h,t=c*p-f*h,x=c*g-e*h,Z=d*p-f*l,P=d*g-e*l,H=f*g-e*p,L=m*u-v*n,J=m*y-k*n,I=m*a-r*n,N=v*y-k*u,T=v*a-r*u,W=k*a-r*y,G=z*W-t*T+x*N+Z*I-P*J+H*L;if(!G)return null;G=1/G;b[0]=(l*W-p*T+g*N)*G;b[1]=(-d*W+f*T-e*N)*G;b[2]=(u*H-y*P+a*Z)*G;b[3]=(-v*H+k*P-r*Z)*G;b[4]=(-h*W+p*I-g*J)*G;b[5]=(c*W-f*I+e*J)*G;b[6]=(-n*H+y*x-a*t)*G;b[7]=(m*H-k*x+r*t)*G;b[8]=(h*T-l*I+g*L)*G;b[9]=(-c*T+d*I-e*L)*G;b[10]=(n*P-u*x+a*z)*G;b[11]=(-m*P+v*x-r*z)*G;b[12]=(-h*N+l*J-p*L)*G;b[13]=(c*N-d*J+f*L)*G;b[14]=(-n*Z+u*t-y*z)*G;b[15]=
(m*Z-v*t+k*z)*G;return b},toRotationMat:function(a,b){b||(b=z.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toMat3:function(a,b){b||(b=y.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},toInverseMat3:function(a,b){var c=a[0],d=a[1],f=a[2],e=a[4],h=a[5],l=a[6],p=a[8],g=a[9];a=a[10];var m=a*h-l*g,v=-a*e+l*p,k=
g*e-h*p,r=c*m+d*v+f*k;if(!r)return null;r=1/r;b||(b=y.create());b[0]=m*r;b[1]=(-a*d+f*g)*r;b[2]=(l*d-f*h)*r;b[3]=v*r;b[4]=(a*c-f*p)*r;b[5]=(-l*c+f*e)*r;b[6]=k*r;b[7]=(-g*c+d*p)*r;b[8]=(h*c-d*e)*r;return b},multiply:function(a,b,d){d||(d=a);var c=a[0],f=a[1],e=a[2],q=a[3],h=a[4],l=a[5],p=a[6],g=a[7],m=a[8],v=a[9],r=a[10],k=a[11],n=a[12],u=a[13],y=a[14];a=a[15];var z=b[0],t=b[1],x=b[2],P=b[3],H=b[4],L=b[5],J=b[6],I=b[7],N=b[8],T=b[9],W=b[10],G=b[11],aa=b[12],ea=b[13],ga=b[14];b=b[15];d[0]=z*c+t*h+x*
m+P*n;d[1]=z*f+t*l+x*v+P*u;d[2]=z*e+t*p+x*r+P*y;d[3]=z*q+t*g+x*k+P*a;d[4]=H*c+L*h+J*m+I*n;d[5]=H*f+L*l+J*v+I*u;d[6]=H*e+L*p+J*r+I*y;d[7]=H*q+L*g+J*k+I*a;d[8]=N*c+T*h+W*m+G*n;d[9]=N*f+T*l+W*v+G*u;d[10]=N*e+T*p+W*r+G*y;d[11]=N*q+T*g+W*k+G*a;d[12]=aa*c+ea*h+ga*m+b*n;d[13]=aa*f+ea*l+ga*v+b*u;d[14]=aa*e+ea*p+ga*r+b*y;d[15]=aa*q+ea*g+ga*k+b*a;return d},multiplyVec3:function(a,b,d){d||(d=b);var c=b[0],f=b[1];b=b[2];d[0]=a[0]*c+a[4]*f+a[8]*b+a[12];d[1]=a[1]*c+a[5]*f+a[9]*b+a[13];d[2]=a[2]*c+a[6]*f+a[10]*
b+a[14];return d},multiplyVec4:function(a,b,d){d||(d=b);var c=b[0],f=b[1],e=b[2];b=b[3];d[0]=a[0]*c+a[4]*f+a[8]*e+a[12]*b;d[1]=a[1]*c+a[5]*f+a[9]*e+a[13]*b;d[2]=a[2]*c+a[6]*f+a[10]*e+a[14]*b;d[3]=a[3]*c+a[7]*f+a[11]*e+a[15]*b;return d},translate:function(a,b,d){var c=b[0],f=b[1];b=b[2];var e,q,h,l,p,g,m,v,r,k,n,u;if(!d||a===d)return a[12]=a[0]*c+a[4]*f+a[8]*b+a[12],a[13]=a[1]*c+a[5]*f+a[9]*b+a[13],a[14]=a[2]*c+a[6]*f+a[10]*b+a[14],a[15]=a[3]*c+a[7]*f+a[11]*b+a[15],a;e=a[0];q=a[1];h=a[2];l=a[3];p=
a[4];g=a[5];m=a[6];v=a[7];r=a[8];k=a[9];n=a[10];u=a[11];d[0]=e;d[1]=q;d[2]=h;d[3]=l;d[4]=p;d[5]=g;d[6]=m;d[7]=v;d[8]=r;d[9]=k;d[10]=n;d[11]=u;d[12]=e*c+p*f+r*b+a[12];d[13]=q*c+g*f+k*b+a[13];d[14]=h*c+m*f+n*b+a[14];d[15]=l*c+v*f+u*b+a[15];return d},scale:function(a,b,d){var c=b[0],f=b[1];b=b[2];if(!d||a===d)return a[0]*=c,a[1]*=c,a[2]*=c,a[3]*=c,a[4]*=f,a[5]*=f,a[6]*=f,a[7]*=f,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;d[0]=a[0]*c;d[1]=a[1]*c;d[2]=a[2]*c;d[3]=a[3]*c;d[4]=a[4]*f;d[5]=a[5]*f;d[6]=a[6]*f;d[7]=
a[7]*f;d[8]=a[8]*b;d[9]=a[9]*b;d[10]=a[10]*b;d[11]=a[11]*b;d[12]=a[12];d[13]=a[13];d[14]=a[14];d[15]=a[15];return d},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))},rotate:function(a,b,d,e){var c=d[0],f=d[1];d=d[2];var q=Math.sqrt(c*c+f*f+d*d),h,l,p,g,m,w,v,r,k,n,u,y,z,t,x,H,L,J,I,N;if(!q)return null;1!==q&&(q=1/q,c*=q,f*=q,d*=q);h=Math.sin(b);l=Math.cos(b);p=1-l;b=a[0];q=
a[1];g=a[2];m=a[3];w=a[4];v=a[5];r=a[6];k=a[7];n=a[8];u=a[9];y=a[10];z=a[11];t=c*c*p+l;x=f*c*p+d*h;H=d*c*p-f*h;L=c*f*p-d*h;J=f*f*p+l;I=d*f*p+c*h;N=c*d*p+f*h;c=f*d*p-c*h;f=d*d*p+l;e?a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]):e=a;e[0]=b*t+w*x+n*H;e[1]=q*t+v*x+u*H;e[2]=g*t+r*x+y*H;e[3]=m*t+k*x+z*H;e[4]=b*L+w*J+n*I;e[5]=q*L+v*J+u*I;e[6]=g*L+r*J+y*I;e[7]=m*L+k*J+z*I;e[8]=b*N+w*c+n*f;e[9]=q*N+v*c+u*f;e[10]=g*N+r*c+y*f;e[11]=m*N+k*c+z*f;return e},rotateX:function(a,b,d){var c=Math.sin(b);b=
Math.cos(b);var f=a[4],e=a[5],q=a[6],h=a[7],l=a[8],p=a[9],g=a[10],m=a[11];d?a!==d&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[4]=f*b+l*c;d[5]=e*b+p*c;d[6]=q*b+g*c;d[7]=h*b+m*c;d[8]=f*-c+l*b;d[9]=e*-c+p*b;d[10]=q*-c+g*b;d[11]=h*-c+m*b;return d},rotateY:function(a,b,d){var c=Math.sin(b);b=Math.cos(b);var f=a[0],e=a[1],q=a[2],h=a[3],l=a[8],p=a[9],g=a[10],m=a[11];d?a!==d&&(d[4]=a[4],d[5]=a[5],d[6]=a[6],d[7]=a[7],d[12]=a[12],d[13]=a[13],d[14]=a[14],
d[15]=a[15]):d=a;d[0]=f*b+l*-c;d[1]=e*b+p*-c;d[2]=q*b+g*-c;d[3]=h*b+m*-c;d[8]=f*c+l*b;d[9]=e*c+p*b;d[10]=q*c+g*b;d[11]=h*c+m*b;return d},rotateZ:function(a,b,d){var c=Math.sin(b);b=Math.cos(b);var f=a[0],e=a[1],q=a[2],h=a[3],l=a[4],p=a[5],g=a[6],m=a[7];d?a!==d&&(d[8]=a[8],d[9]=a[9],d[10]=a[10],d[11]=a[11],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[0]=f*b+l*c;d[1]=e*b+p*c;d[2]=q*b+g*c;d[3]=h*b+m*c;d[4]=f*-c+l*b;d[5]=e*-c+p*b;d[6]=q*-c+g*b;d[7]=h*-c+m*b;return d},frustum:function(a,b,d,
e,h,l,p){p||(p=z.create());var c=b-a,f=e-d,q=l-h;p[0]=2*h/c;p[1]=0;p[2]=0;p[3]=0;p[4]=0;p[5]=2*h/f;p[6]=0;p[7]=0;p[8]=(b+a)/c;p[9]=(e+d)/f;p[10]=-(l+h)/q;p[11]=-1;p[12]=0;p[13]=0;p[14]=-(l*h*2)/q;p[15]=0;return p},perspective:function(a,b,d,e,h){a=d*Math.tan(a*Math.PI/360);b*=a;return z.frustum(-b,b,-a,a,d,e,h)},ortho:function(a,b,d,e,h,l,p){p||(p=z.create());var c=b-a,f=e-d,q=l-h;p[0]=2/c;p[1]=0;p[2]=0;p[3]=0;p[4]=0;p[5]=2/f;p[6]=0;p[7]=0;p[8]=0;p[9]=0;p[10]=-2/q;p[11]=0;p[12]=-(a+b)/c;p[13]=-(e+
d)/f;p[14]=-(l+h)/q;p[15]=1;return p},lookAt:function(a,b,d,e){e||(e=z.create());var c,f,h,q,p,l,g,m,v=a[0],w=a[1];a=a[2];h=d[0];q=d[1];f=d[2];g=b[0];d=b[1];c=b[2];if(v===g&&w===d&&a===c)return z.identity(e);b=v-g;d=w-d;g=a-c;m=1/Math.sqrt(b*b+d*d+g*g);b*=m;d*=m;g*=m;c=q*g-f*d;f=f*b-h*g;h=h*d-q*b;(m=Math.sqrt(c*c+f*f+h*h))?(m=1/m,c*=m,f*=m,h*=m):h=f=c=0;q=d*h-g*f;p=g*c-b*h;l=b*f-d*c;(m=Math.sqrt(q*q+p*p+l*l))?(m=1/m,q*=m,p*=m,l*=m):l=p=q=0;e[0]=c;e[1]=q;e[2]=b;e[3]=0;e[4]=f;e[5]=p;e[6]=d;e[7]=0;e[8]=
h;e[9]=l;e[10]=g;e[11]=0;e[12]=-(c*v+f*w+h*a);e[13]=-(q*v+p*w+l*a);e[14]=-(b*v+d*w+g*a);e[15]=1;return e},fromRotationTranslation:function(a,b,d){d||(d=z.create());var c=a[0],f=a[1],e=a[2],h=a[3],q=c+c,p=f+f,l=e+e;a=c*q;var g=c*p,c=c*l,m=f*p,f=f*l,e=e*l,q=h*q,p=h*p,h=h*l;d[0]=1-(m+e);d[1]=g+h;d[2]=c-p;d[3]=0;d[4]=g-h;d[5]=1-(a+e);d[6]=f+q;d[7]=0;d[8]=c+p;d[9]=f-q;d[10]=1-(a+m);d[11]=0;d[12]=b[0];d[13]=b[1];d[14]=b[2];d[15]=1;return d},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+
a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},r={create:function(a){var b=new t(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,d,e){var c=new t(4);c[0]=a;c[1]=b;c[2]=d;c[3]=e;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=r.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},v=r.identity();r.calculateW=function(a,
b){var c=a[0],d=a[1],f=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-f*f)),a;b[0]=c;b[1]=d;b[2]=f;b[3]=-Math.sqrt(Math.abs(1-c*c-d*d-f*f));return b};r.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};r.inverse=function(a,b){var c=a[0],d=a[1],f=a[2],e=a[3],c=(c=c*c+d*d+f*f+e*e)?1/c:0;if(!b||a===b)return a[0]*=-c,a[1]*=-c,a[2]*=-c,a[3]*=c,a;b[0]=-a[0]*c;b[1]=-a[1]*c;b[2]=-a[2]*c;b[3]=a[3]*c;return b};r.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=
-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};r.length=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)};r.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],f=a[2];a=a[3];var e=Math.sqrt(c*c+d*d+f*f+a*a);if(0===e)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;e=1/e;b[0]=c*e;b[1]=d*e;b[2]=f*e;b[3]=a*e;return b};r.add=function(a,b,d){if(!d||a===d)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;d[0]=a[0]+b[0];d[1]=a[1]+b[1];d[2]=a[2]+b[2];d[3]=a[3]+b[3];return d};
r.multiply=function(a,b,d){d||(d=a);var c=a[0],f=a[1],e=a[2];a=a[3];var h=b[0],p=b[1],l=b[2];b=b[3];d[0]=c*b+a*h+f*l-e*p;d[1]=f*b+a*p+e*h-c*l;d[2]=e*b+a*l+c*p-f*h;d[3]=a*b-c*h-f*p-e*l;return d};r.multiplyVec3=function(a,b,d){d||(d=b);var c=b[0],e=b[1],f=b[2];b=a[0];var h=a[1],p=a[2];a=a[3];var l=a*c+h*f-p*e,q=a*e+p*c-b*f,g=a*f+b*e-h*c,c=-b*c-h*e-p*f;d[0]=l*a+c*-b+q*-p-g*-h;d[1]=q*a+c*-h+g*-b-l*-p;d[2]=g*a+c*-p+l*-h-q*-b;return d};r.scale=function(a,b,d){if(!d||a===d)return a[0]*=b,a[1]*=b,a[2]*=b,
a[3]*=b,a;d[0]=a[0]*b;d[1]=a[1]*b;d[2]=a[2]*b;d[3]=a[3]*b;return d};r.toMat3=function(a,b){b||(b=y.create());var c=a[0],d=a[1],e=a[2],f=a[3],h=c+c,p=d+d,l=e+e;a=c*h;var g=c*p,c=c*l,m=d*p,d=d*l,e=e*l,h=f*h,p=f*p,f=f*l;b[0]=1-(m+e);b[1]=g+f;b[2]=c-p;b[3]=g-f;b[4]=1-(a+e);b[5]=d+h;b[6]=c+p;b[7]=d-h;b[8]=1-(a+m);return b};r.toMat4=function(a,b){b||(b=z.create());var c=a[0],d=a[1],e=a[2],f=a[3],h=c+c,p=d+d,l=e+e;a=c*h;var g=c*p,c=c*l,m=d*p,d=d*l,e=e*l,h=f*h,p=f*p,f=f*l;b[0]=1-(m+e);b[1]=g+f;b[2]=c-p;b[3]=
0;b[4]=g-f;b[5]=1-(a+e);b[6]=d+h;b[7]=0;b[8]=c+p;b[9]=d-h;b[10]=1-(a+m);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};r.slerp=function(a,b,d,e){e||(e=a);var c=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],f,h;if(1<=Math.abs(c))return e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;f=Math.acos(c);h=Math.sqrt(1-c*c);if(.001>Math.abs(h))return e[0]=.5*a[0]+.5*b[0],e[1]=.5*a[1]+.5*b[1],e[2]=.5*a[2]+.5*b[2],e[3]=.5*a[3]+.5*b[3],e;c=Math.sin((1-d)*f)/h;d=Math.sin(d*f)/h;e[0]=a[0]*c+b[0]*d;e[1]=a[1]*c+
b[1]*d;e[2]=a[2]*c+b[2]*d;e[3]=a[3]*c+b[3]*d;return e};r.fromRotationMatrix=function(a,b){b||(b=r.create());var c=a[0]+a[4]+a[8],d;if(0<c)d=Math.sqrt(c+1),b[3]=.5*d,d=.5/d,b[0]=(a[7]-a[5])*d,b[1]=(a[2]-a[6])*d,b[2]=(a[3]-a[1])*d;else{d=r.fromRotationMatrix.s_iNext=r.fromRotationMatrix.s_iNext||[1,2,0];c=0;a[4]>a[0]&&(c=1);a[8]>a[3*c+c]&&(c=2);var e=d[c],f=d[e];d=Math.sqrt(a[3*c+c]-a[3*e+e]-a[3*f+f]+1);b[c]=.5*d;d=.5/d;b[3]=(a[3*f+e]-a[3*e+f])*d;b[e]=(a[3*e+c]+a[3*c+e])*d;b[f]=(a[3*f+c]+a[3*c+f])*
d}return b};y.toQuat4=r.fromRotationMatrix;(function(){var a=y.create();r.fromAxes=function(b,c,d,e){a[0]=c[0];a[3]=c[1];a[6]=c[2];a[1]=d[0];a[4]=d[1];a[7]=d[2];a[2]=b[0];a[5]=b[1];a[8]=b[2];return r.fromRotationMatrix(a,e)}})();r.identity=function(a){a||(a=r.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};r.fromAngleAxis=function(a,b,d){d||(d=r.create());a*=.5;var c=Math.sin(a);d[3]=Math.cos(a);d[0]=c*b[0];d[1]=c*b[1];d[2]=c*b[2];return d};r.toAngleAxis=function(a,d){d||(d=a);var c=a[0]*a[0]+a[1]*
a[1]+a[2]*a[2];0<c?(d[3]=2*Math.acos(a[3]),c=b.invsqrt(c),d[0]=a[0]*c,d[1]=a[1]*c,d[2]=a[2]*c):(d[3]=0,d[0]=1,d[1]=0,d[2]=0);return d};r.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var p={create:function(a){var b=new t(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,d,e){var c=new t(4);c[0]=a;c[1]=b;c[2]=d;c[3]=e;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=p.create());
a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2];a=a[3];var f=c*a-e*d;if(!f)return null;f=1/f;b[0]=a*f;b[1]=-d*f;b[2]=-e*f;b[3]=c*f;return b},multiply:function(a,b,d){d||(d=a);var c=a[0],e=a[1],f=a[2];a=a[3];d[0]=c*b[0]+e*b[2];d[1]=c*b[1]+e*b[3];d[2]=f*b[0]+a*b[2];d[3]=f*b[1]+a*b[3];
return d},rotate:function(a,b,d){d||(d=a);var c=a[0],e=a[1],f=a[2];a=a[3];var h=Math.sin(b);b=Math.cos(b);d[0]=c*b+e*h;d[1]=c*-h+e*b;d[2]=f*b+a*h;d[3]=f*-h+a*b;return d},multiplyVec2:function(a,b,d){d||(d=b);var c=b[0];b=b[1];d[0]=c*a[0]+b*a[1];d[1]=c*a[2]+b*a[3];return d},scale:function(a,b,d){d||(d=a);var c=a[1],e=a[2],f=a[3],h=b[0];b=b[1];d[0]=a[0]*h;d[1]=c*b;d[2]=e*h;d[3]=f*b;return d},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};k=k?"":"d";a["glMath"+k]=b;a["vec2"+k]={create:function(a){var b=
new t(2);a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0);return b},createFrom:function(a,b){var c=new t(2);c[0]=a;c[1]=b;return c},add:function(a,b,d){d||(d=b);d[0]=a[0]+b[0];d[1]=a[1]+b[1];return d},subtract:function(a,b,d){d||(d=b);d[0]=a[0]-b[0];d[1]=a[1]-b[1];return d},multiply:function(a,b,d){d||(d=b);d[0]=a[0]*b[0];d[1]=a[1]*b[1];return d},divide:function(a,b,d){d||(d=b);d[0]=a[0]/b[0];d[1]=a[1]/b[1];return d},scale:function(a,b,d){d||(d=a);d[0]=a[0]*b;d[1]=a[1]*b;return d},dist:function(a,b){var c=
b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)},dist2:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,d){d[0]=a;d[1]=b;return d},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];0<c?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0;return b},cross:function(a,b,d){a=a[0]*b[1]-a[1]*b[0];if(!d)return a;d[0]=d[1]=0;d[2]=a;return d},length:function(a){var b=
a[0];a=a[1];return Math.sqrt(b*b+a*a)},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,d){d||(d=a);var c=a[0]-b[0];a=a[1]-b[1];b=c*c+a*a;if(!b)return d[0]=0,d[1]=0,d[2]=0,d;b=1/Math.sqrt(b);d[0]=c*b;d[1]=a*b;return d},lerp:function(a,b,d,e){e||(e=a);e[0]=a[0]+d*(b[0]-a[0]);e[1]=a[1]+d*(b[1]-a[1]);return e},str:function(a){return"["+a[0]+", "+a[1]+"]"}};a["vec3"+k]=g;a["vec4"+k]={create:function(a){var b=new t(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=
0,b[3]=0);return b},createFrom:function(a,b,d,e){var c=new t(4);c[0]=a;c[1]=b;c[2]=d;c[3]=e;return c},add:function(a,b,d){d||(d=b);d[0]=a[0]+b[0];d[1]=a[1]+b[1];d[2]=a[2]+b[2];d[3]=a[3]+b[3];return d},subtract:function(a,b,d){d||(d=b);d[0]=a[0]-b[0];d[1]=a[1]-b[1];d[2]=a[2]-b[2];d[3]=a[3]-b[3];return d},multiply:function(a,b,d){d||(d=b);d[0]=a[0]*b[0];d[1]=a[1]*b[1];d[2]=a[2]*b[2];d[3]=a[3]*b[3];return d},divide:function(a,b,d){d||(d=b);d[0]=a[0]/b[0];d[1]=a[1]/b[1];d[2]=a[2]/b[2];d[3]=a[3]/b[3];
return d},scale:function(a,b,d){d||(d=a);d[0]=a[0]*b;d[1]=a[1]*b;d[2]=a[2]*b;d[3]=a[3]*b;return d},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},set4:function(a,b,d,e,h){h[0]=a;h[1]=b;h[2]=d;h[3]=e;return h},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},lerp:function(a,b,d,e){e||(e=a);e[0]=a[0]+d*(b[0]-a[0]);e[1]=a[1]+d*(b[1]-a[1]);e[2]=a[2]+d*(b[2]-a[2]);e[3]=a[3]+d*(b[3]-
a[3]);return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+k]=p;a["mat3"+k]=y;a["mat4"+k]=z;a["quat4"+k]=r});return a})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define(["require","exports","../../lib/glMatrix","../../support/projectionUtils"],function(a,b,k,n){Object.defineProperty(b,"__esModule",{value:!0});b.ReprojectionTypes={PER_VERTEX:"perVertex",NO_REPROJECTION:"noReprojection"};var t=new Float64Array(3E3),g=k.vec3d.create();b.reprojectPoints=
function(a,b,x,e,d,l){var h=a.data,m=a.offsetIdx;a=a.strideIdx;k.vec3d.set(b,g);g[2]+=x;b=k.mat4d.create();n.computeLinearTransformation(e,g,b,l);x=k.mat4d.create();k.mat4d.inverse(b,x);var u=k.mat4d.create();k.mat4d.identity(u);var r=[0,0,0],v=h.length/a;n.vectorToVector(g,e,r,d);for(e=0;e<v;e+=1E3){for(var p=Math.min(1E3,v-e),c=0;c<p;c++){var f=m+a*(e+c);t[3*c]=h[f]+r[0];t[3*c+1]=h[f+1]+r[1];t[3*c+2]=h[f+2]+r[2]}n.bufferToBuffer(t,d,0,t,l,0,p);for(c=0;c<p;c++){var f=t[3*c],q=t[3*c+1],w=t[3*c+2],
A=m+a*(e+c);h[A]=x[0]*f+x[4]*q+x[8]*w+x[12];h[A+1]=x[1]*f+x[5]*q+x[9]*w+x[13];h[A+2]=x[2]*f+x[6]*q+x[10]*w+x[14]}}return{localTrafo:u,globalTrafo:b}}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../lib/glMatrix ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),function(a,b,k,n,t,g,u,m,x){function e(a,b,c,e){2===a.length?(C[0]=a[0],C[1]=a[1],C[2]=
0,a=C):a===c&&(g.vec3d.set(a,C),a=C);return d(a,b,0,c,e,0,1)}function d(a,b,d,e,h,g,m){void 0===m&&(m=1);v!==b&&(p=l(b),v=b);c!==h&&(f=l(h),c=h);m=d+3*m;if(p!==f||p===r.UNKNOWN&&!b.equals(h))if(p>r.UNKNOWN&&f>r.UNKNOWN)if(f!==r.WGS84)if(b=q[f],p!==r.WGS84)for(h=w[p];d<m;d+=3,g+=3)h(a,d,F,0),b(F,0,e,g);else for(;d<m;d+=3,g+=3)b(a,d,e,g);else for(h=w[p];d<m;d+=3,g+=3)h(a,d,e,g);else return!1;else if(e!==a||d!==g)for(;d<m;d++,g++)e[g]=a[d];return!0}function l(a){return a.wkt===b.SphericalECEFSpatialReference.wkt?
r.SPHERICAL_ECEF:a.isWGS84?r.WGS84:a.isWebMercator?r.WEBMERC:a.wkt===b.WGS84ECEFSpatialReference.wkt?r.WGS84_ECEF:r.UNKNOWN}function h(a,b,c,d){c[d++]=a[b++];c[d++]=a[b++];c[d]=a[b]}function y(a,b,c,d){var e=.4999999*Math.PI,e=m.clamp(A*a[b+1],-e,e),e=Math.sin(e);c[d++]=A*a[b]*D;c[d++]=D/2*Math.log((1+e)/(1-e));c[d]=a[b+2]}function z(a,b,c,d){var e=D+a[b+2],f=A*a[b+1];a=A*a[b];b=Math.cos(f);c[d++]=Math.cos(a)*b*e;c[d++]=Math.sin(a)*b*e;c[d]=Math.sin(f)*e}Object.defineProperty(b,"__esModule",{value:!0});
b.SphericalECEFSpatialReference=new n({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new n({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var r;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";a[a.WGS84=2]="WGS84";a[a.WEBMERC=3]="WEBMERC";a[a.WGS84_ECEF=4]="WGS84_ECEF"})(r||(r={}));var v,p,c,f;b.vectorToVector=e;b.pointToVector=function(a,b,c){C[0]=a.x;C[1]=a.y;var e=a.z;C[2]=void 0!==e?e:0;return d(C,a.spatialReference,0,b,c,0,1)};b.vectorToPoint=function(a,b,c,e){"esri.geometry.SpatialReference"===c.declaredClass?(e=c,c=new k({spatialReference:e})):e=e||c.spatialReference;return d(a,b,0,C,e,0,1)?(c.x=C[0],
c.y=C[1],c.z=C[2],c.spatialReference=e,c):null};b.xyzToVector=function(a,b,c,e,f,h){C[0]=a;C[1]=b;C[2]=c;return d(C,e,0,f,h,0,1)};b.bufferToBuffer=d;b.computeLinearTransformation=function(a,b,c,d){var e=l(a),f=l(d);if(e===f&&f!==r.SPHERICAL_ECEF&&(e!==r.UNKNOWN||a.equals(d)))return g.mat4d.identity(c),g.mat4d.translate(c,b),!0;if(f===r.SPHERICAL_ECEF){if(a=w[e])return a(b,0,F,0),z(F,0,O,0),d=A*F[0],a=A*F[1],b=Math.sin(d),d=Math.cos(d),e=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-e*d,c[8]=a*d,c[12]=O[0],
c[1]=d,c[5]=-e*b,c[9]=a*b,c[13]=O[1],c[2]=0,c[6]=a,c[10]=e,c[14]=O[2],c[3]=0,c[7]=0,c[11]=0,c[15]=1,!0}else if(f===r.WEBMERC&&(e===r.WGS84||e===r.SPHERICAL_ECEF))return w[e](b,0,F,0),b=A*F[1],y(F,0,O,0),g.mat4d.identity(c),g.mat4d.translate(c,O),b=1/Math.cos(b),g.mat4d.scale(c,[b,b,1]),!0;return!1};b.transformDirection=function(a,b,c,d,f){g.vec3d.set(a,U);g.vec3d.add(a,b,Y);e(U,c,U,f);e(Y,c,Y,f);g.vec3d.subtract(Y,U,d);g.vec3d.normalize(d)};b.mbsToMbs=function(a,b,c,d){var e=l(b),f=l(d);if(e===f&&
(e!==r.UNKNOWN||b.equals(d)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(f===r.SPHERICAL_ECEF){if(b=w[e])return b(a,0,F,0),z(F,0,c,0),c[3]=a[3],!0}else if(f===r.WEBMERC&&(e===r.WGS84||e===r.SPHERICAL_ECEF))return w[e](a,0,F,0),b=Math.abs(A*F[1])+Math.asin(a[3]/(D+a[2])),y(F,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};b.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var e;C[0]=null!=a.xmin?a.xmin:0;C[1]=null!=a.ymin?a.ymin:0;C[2]=null!=a.zmin?a.zmin:
0;e=d(C,a.spatialReference,0,b,c,0,1);C[0]=null!=a.xmax?a.xmax:0;C[1]=null!=a.ymax?a.ymax:0;C[2]=null!=a.zmax?a.zmax:0;e=e&&d(C,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return e};b.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var e;C[0]=null!=a.xmin?a.xmin:0;C[1]=null!=a.ymin?a.ymin:0;C[2]=null!=a.zmin?a.zmin:0;e=d(C,
a.spatialReference,0,C,c,0,1);b[0]=C[0];b[1]=C[1];C[0]=null!=a.xmax?a.xmax:0;C[1]=null!=a.ymax?a.ymax:0;C[2]=null!=a.zmax?a.zmax:0;e=e&&d(C,a.spatialReference,0,C,c,0,1);b[2]=C[0];b[3]=C[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return e};b.boundingRectToBoundingRect=function(a,b,c,e){if(null==a)return!1;if(b.equals(e))return t.set(c,a),!0;var f;C[0]=a[0];C[1]=a[1];C[2]=0;f=d(C,b,0,C,e,0,1);c[0]=C[0];c[1]=C[1];C[0]=
a[2];C[1]=a[3];C[2]=0;f=f&&d(C,b,0,C,e,0,1);c[2]=C[0];c[3]=C[1];return f};(function(a){a.x2lon=function(a){return a/D};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/D))};a.lon2x=function(a){return a*D};a.lat2y=function(a){a=Math.sin(a);return D/2*Math.log((1+a)/(1-a))}})(b.webMercator||(b.webMercator={}));var q=[void 0,z,h,y,function(a,b,c,d){var e=E,f=A*a[b],h=A*a[b+1];a=a[b+2];b=Math.sin(h);var h=Math.cos(h),p=e.a/Math.sqrt(1-e.e2*b*b);c[d++]=(p+a)*h*Math.cos(f);c[d++]=(p+a)*h*
Math.sin(f);c[d++]=(p*(1-e.e2)+a)*b}],w=[void 0,function(a,b,c,d){var e=x.Vec3Compact.length(a,b),f=m.asin(a[b+2]/e);a=(0<a[b+1]?1:-1)*m.acos(a[b]/(Math.cos(f)*e));c[d++]=B*a;c[d++]=B*f;c[d]=e-D},h,function(a,b,c,d){c[d++]=B*(a[b++]/D);c[d++]=B*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/D)));c[d]=a[b]},function(a,b,c,d){var e=E,f=a[b],h=a[b+1];a=a[b+2];var p,l,g,m,q,v;b=Math.abs(a);p=f*f+h*h;l=Math.sqrt(p);g=p+a*a;m=Math.sqrt(g);f=Math.atan2(h,f);q=a*a/g;g=p/g;h=e.a2/m;p=e.a3-e.a4/m;.3<g?(q=b/m*(1+
g*(e.a1+h+q*p)/m),m=Math.asin(q),h=q*q,g=Math.sqrt(1-h)):(g=l/m*(1-q*(e.a5-h-g*p)/m),m=Math.acos(g),h=1-g*g,q=Math.sqrt(h));v=1-e.e2*h;h=e.a/Math.sqrt(v);e=e.a6*h;h=l-h*g;p=b-e*q;b=g*h+q*p;l=g*p-q*h;e=l/(e/v+b);m+=e;0>a&&(m=-m);c[d++]=B*f;c[d++]=B*m;c[d]=b+l*e/2}],A=m.deg2rad(1),B=m.rad2deg(1),D=u.earthRadius,E={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},C=g.vec3d.create(),F=
g.vec3d.create(),O=g.vec3d.create(),U=g.vec3d.create(),Y=g.vec3d.create()})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,k,n,t,g,u,m,x,e){function d(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var l=[0,0],h=t.getLogger("esri.geometry.Point");
a=function(a){function b(b,d,c,e,h){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}k(b,a);r=b;b.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};b.distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,b,c,f,g){var p;if(Array.isArray(a))p=a,g=b,a=p[0],b=p[1],c=p[2],f=p[3];else if(a&&
"object"===typeof a){if(p=a,a=null!=p.x?p.x:p.longitude,b=null!=p.y?p.y:p.latitude,c=null!=p.z?p.z:p.altitude,f=p.m,(g=p.spatialReference)&&"esri.geometry.SpatialReference"!==g.declaredClass&&(g=new m(g)),null!=p.longitude||null!=p.latitude)null==p.longitude?h.warn(".longitude\x3d","Latitude was defined without longitude"):null==p.latitude?h.warn(".latitude\x3d","Longitude was defined without latitude"):!p.declaredClass&&g&&g.isWebMercator&&(b=e.lngLatToXY(p.longitude,p.latitude,l),a=b[0],b=b[1])}else d(c)?
(g=c,c=null):d(f)&&(g=f,f=null);a={x:a,y:b};null!=g&&(a.spatialReference=g);null!=c&&(a.z=c);null!=f&&(a.m=f);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",
a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this.x,this.y,l)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",e.lngLatToXY(this.x,a,l)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=
this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this._get("x"),this._get("y"),l)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",e.lngLatToXY(a,this._get("y"),l)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.clone=function(){var a=new r;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};
b.prototype.copy=function(a){r.copy(a,this);return this};b.prototype.equals=function(a){if(!a)return!1;var b=this.x,c=this.y,d=this.z,h=this.m,l=this.spatialReference,g=a.z,m=a.m,r=a.x,k=a.y;a=a.spatialReference;if(!l.equals(a))if(l.isWebMercator&&a.isWGS84)k=e.lngLatToXY(r,k),r=k[0],k=k[1],a=l;else if(l.isWGS84&&a.isWebMercator)k=e.xyToLngLat(r,k),r=k[0],k=k[1],a=l;else return!1;return b===r&&c===k&&d===g&&h===m&&l.wkid===a.wkid};b.prototype.offset=function(a,b,c){this.x+=a;this.y+=b;null!=c&&this.hasZ&&
(this.z+=c);return this};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=x.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],d=c[1],c=2*d;b>d?(a=Math.ceil(Math.abs(b-d)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=function(a){return r.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,
this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};n([g.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);n([g.property({type:Boolean,dependsOn:["m"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);n([g.property({type:Boolean,dependsOn:["z"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);n([g.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);n([g.property({type:Number,
dependsOn:["x"]})],b.prototype,"longitude",null);n([g.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,"x",void 0);n([g.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);n([g.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);n([g.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=r=n([g.subclass("esri.geometry.Point")],b);var r}(g.declared(u));
a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,k,n,t,g,u){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=u.WGS84;return b}k(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},
enumerable:!0,configurable:!0});b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};n([g.property()],b.prototype,"type",void 0);n([g.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);n([g.property({readOnly:!0,dependsOn:["spatialReference"]})],
b.prototype,"extent",void 0);n([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);n([g.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);n([g.property({type:u,json:{write:!0}})],b.prototype,"spatialReference",void 0);return b=n([g.subclass("esri.geometry.Geometry")],b)}(g.declared(t))})},"esri/geometry/support/webMercatorUtils":function(){define(["require","exports","../SpatialReference",
"./spatialReferenceUtils"],function(a,b,k,n){function t(a,b,l,h,g){if("point"===a.type&&"point"===g.type)b=b(a.x,a.y,x,0,h),g.x=b[0],g.y=b[1];else if("extent"===a.type&&"extent"===g.type)d=b(a.xmin,a.ymin,x,0,h),g.xmin=d[0],g.ymin=d[1],b=b(a.xmax,a.ymax,x,0,h),g.xmax=b[0],g.ymax=b[1];else if("polyline"===a.type&&"polyline"===g.type||"polygon"===a.type&&"polygon"===g.type){var d="polyline"===a.type?a.paths:a.rings,e=[],m=void 0;for(a=0;a<d.length;a++){var p=d[a],m=[];e.push(m);for(var c=0;c<p.length;c++)m.push(b(p[c][0],
p[c][1],[0,0],0,h)),2<p[c].length&&m[c].push(p[c][2]),3<p[c].length&&m[c].push(p[c][3])}"polyline"===g.type?g.paths=e:g.rings=e}else if("multipoint"===a.type&&"multipoint"===g.type){d=a.points;e=[];for(a=0;a<d.length;a++)e[a]=b(d[a][0],d[a][1],[0,0],0,h),2<d[a].length&&e[a].push(d[a][2]),3<d[a].length&&e[a].push(d[a][3]);g.points=e}else if("mesh"===a.type&&"mesh"===g.type&&(d=a.vertexAttributes&&a.vertexAttributes.position,e=g.vertexAttributes&&g.vertexAttributes.position,d))for(m=[0,0],a=0;a<d.length;a+=
3)b(d[a],d[a+1],m,0,h),e[a]=m[0],e[a+1]=m[1];g.spatialReference=l;return g;var d}function g(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?n.equals(b,a)?!0:n.isWebMercator(b)&&n.isWGS84(a)||n.isWebMercator(a)&&n.isWGS84(b):!1}function u(a,b,l,h){void 0===l&&(l=[0,0]);void 0===h&&(h=0);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;l[h]=111319.49079327169*a;l[h+1]=3189068.5*Math.log((1+Math.sin(b))/
(1-Math.sin(b)));return l}function m(a,b,l,h,g){void 0===l&&(l=[0,0]);void 0===h&&(h=0);void 0===g&&(g=!1);a=a/6378137*57.29577951308232;l[h]=g?a:a-360*Math.floor((a+180)/360);l[h+1]=57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)));return l}Object.defineProperty(b,"__esModule",{value:!0});var x=[0,0];b.canProject=g;b.project=function(a,b){var d=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return g(d,b)?n.equals(d,b)?a.clone():n.isWebMercator(b)?
t(a,u,k.WebMercator,!1,a.clone()):n.isWGS84(b)?t(a,m,k.WGS84,!1,a.clone()):null:null};b.lngLatToXY=u;b.xyToLngLat=m;b.geographicToWebMercator=function(a,b,l){void 0===b&&(b=!1);void 0===l&&(l=a.clone());return t(a,u,k.WebMercator,b,l)};b.webMercatorToGeographic=function(a,b,l){void 0===b&&(b=!1);void 0===l&&(l=a.clone());return t(a,m,k.WGS84,b,l)}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../geometry"],function(a,b,k){function n(a){void 0===a&&(a=b.ZERO);
return[a[0],a[1],a[2],a[3]]}function t(a){return a[0]>=a[2]?0:a[2]-a[0]}function g(a){return a[1]>=a[3]?0:a[3]-a[1]}function u(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function m(a){return 4===a.length}function x(a,b,l){return a<b?b:a>l?l:a}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.fromValues=function(a,b,l,h,g){void 0===g&&(g=n());g[0]=a;g[1]=b;g[2]=l;g[3]=h;return g};b.fromExtent=function(a,b){void 0===b&&(b=n());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};
b.toExtent=function(a,b){return new k.Extent({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};b.expand=function(a,b,l){void 0===l&&(l=a);if("length"in b)if(m(b))l[0]=Math.min(a[0],b[0]),l[1]=Math.min(a[1],b[1]),l[2]=Math.max(a[2],b[2]),l[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)l[0]=Math.min(a[0],b[0]),l[1]=Math.min(a[1],b[1]),l[2]=Math.max(a[2],
b[0]),l[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":l[0]=Math.min(a[0],b.xmin);l[1]=Math.min(a[1],b.ymin);l[2]=Math.max(a[2],b.xmax);l[3]=Math.max(a[3],b.ymax);break;case "point":l[0]=Math.min(a[0],b.x),l[1]=Math.min(a[1],b.y),l[2]=Math.max(a[2],b.x),l[3]=Math.max(a[3],b.y)}return l};b.expandWithNestedArray=function(a,b,l){void 0===l&&(l=a);var d=b.length,e=a[0],g=a[1],m=a[2];a=a[3];for(var k=0;k<d;k++){var p=b[k],e=Math.min(e,p[0]),g=Math.min(g,p[1]),m=Math.max(m,p[0]);a=Math.max(a,
p[1])}l[0]=e;l[1]=g;l[2]=m;l[3]=a;return l};b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=t;b.height=g;b.area=function(a){return t(a)*g(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+t(a)/2;b[1]=a[1]+g(a)/2;return b};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};b.containsPointWithMargin=function(a,b,l){return b[0]>=a[0]-l&&b[1]>=a[1]-l&&b[0]<=a[2]+l&&b[1]<=a[3]+l};b.intersects=function(a,b){return Math.max(b[0],
a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,b,l){void 0===l&&(l=a);var d=b[0],e=b[1],g=b[2];b=b[3];l[0]=x(a[0],d,g);l[1]=x(a[1],e,b);l[2]=x(a[2],d,g);l[3]=x(a[3],e,b);return l};b.offset=function(a,b,l,h){void 0===h&&(h=a);h[0]=a[0]+b;h[1]=a[1]+l;h[2]=a[2]+b;h[3]=a[3]+l;return h};b.setMin=function(a,b,l){void 0===l&&(l=a);l[0]=b[0];l[1]=b[1];l!==a&&(l[2]=a[2],l[3]=a[3]);
return l};b.setMax=function(a,b,l){void 0===l&&(l=a);l[2]=b[0];l[3]=b[1];l!==a&&(l[0]=a[0],l[1]=a[1]);return a};b.set=u;b.empty=function(a){return a?u(a,b.NEGATIVE_INFINITY):n(b.NEGATIVE_INFINITY)};b.is=m;b.isPoint=function(a){return(0===t(a)||!isFinite(a[0]))&&(0===g(a)||!isFinite(a[1]))};b.equals=function(a,b,l){if(null==a||null==b)return a===b;if(!m(a)||!m(b))return!1;if(l)for(var d=0;d<a.length;d++){if(!l(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.POSITIVE_INFINITY=
[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0]})},"esri/geometry":function(){define("require exports ./geometry/Extent ./geometry/Geometry ./geometry/Mesh ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/ScreenPoint ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),function(a,b,k,n,t,g,u,m,x,e,d,l){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=k;b.BaseGeometry=
n;b.Mesh=t;b.Multipoint=g;b.Point=u;b.Polygon=m;b.Polyline=x;b.ScreenPoint=e;b.SpatialReference=d;b.isGeometry=function(a){return a instanceof b.BaseGeometry};b.fromJSON=l.fromJSON})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,k,n,t,g,u,m,x,e,d,l,h){function y(a,b,d){return null==b?d:null==d?b:a(b,d)}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}k(b,a);v=b;b.prototype.normalizeCtorArgs=function(a,b,d,e,h){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null!=a.spatialReference?a.spatialReference:
x.WGS84,a):{xmin:a,ymin:b,xmax:d,ymax:e,spatialReference:null!=h?h:x.WGS84}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(b.prototype,"center",{get:function(){var a=new m({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new v;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,
d=a.spatialReference;b&&d&&!b.equals(d)&&h.canProject(b,d)&&(a=b.isWebMercator?h.geographicToWebMercator(a):h.webMercatorToGeographic(a,!0));return"point"===a.type?e.extentContainsPoint(this,a):"extent"===a.type?e.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,d=a.spatialReference;b&&d&&!b.equals(d)&&h.canProject(b,d)&&(a=b.isWebMercator?h.geographicToWebMercator(a):h.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,d=this.height*a;this.xmin+=b;this.ymin+=d;this.xmax-=b;this.ymax-=d;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&
!b.equals(e)&&h.canProject(b,e)&&(a=b.isWebMercator?h.geographicToWebMercator(a):h.webMercatorToGeographic(a,!0));b=d.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,d){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=d&&(this.zmin+=d,this.zmax+=d);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=
function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=y(Math.min,this.zmin,a.zmin),this.zmax=y(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=y(Math.min,this.mmin,a.mmin),this.mmax=y(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,
a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=y(Math.max,this.zmin,a.zmin),this.zmax=y(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=y(Math.max,this.mmin,a.mmin),this.mmax=y(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=l.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
d=this._getCM(a);if(d){var e=b.isWebMercator?h.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new x(t.substitute({Central_Meridian:e.x},b.isWGS84?a.altTemplate:a.wkTemplate))}return this};b.prototype._getCM=function(a){var b=null,d=a.valid;a=d[0];var d=d[1],e=this.xmin,h=this.xmax;e>=a&&e<=d&&h>=a&&h<=d||(b=this.center);return b};b.prototype._normalize=function(a,b,d){var c=this.spatialReference;if(!c)return this;d=
d||l.getInfo(c);if(!d)return this;var e=this._getParts(d).map(function(a){return a.extent});if(2>e.length)return e[0]||this;if(2<e.length)return a?this._shiftCM(d):this.set({xmin:d.valid[0],xmax:d.valid[1]});if(a)return this._shiftCM(d);if(b)return e;var f=!0,h=!0;e.forEach(function(a){a.hasZ||(f=!1);a.hasM||(h=!1)});return{rings:e.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(f)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);
if(h)for(a=(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:f,hasM:h,spatialReference:c}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],d=this.ymin,e=this.ymax,h=this.spatialReference,g=this.width,p=this.xmin,m=this.xmax,k=void 0;a=a||l.getInfo(h);var r=a.valid,n=r[0],u=r[1],k=this._normalizeX(this.xmin,a),t=k.x,r=k.frameId,k=this._normalizeX(this.xmax,a),y=k.x;a=k.frameId;k=t===y&&0<g;if(g>2*u){g=new v(p<m?t:y,d,u,e,h);p=new v(n,d,p<m?y:t,e,h);m=new v(0,
d,u,e,h);d=new v(n,d,0,e,h);e=[];h=[];g.contains(m)&&e.push(r);g.contains(d)&&h.push(r);p.contains(m)&&e.push(a);p.contains(d)&&h.push(a);for(n=r+1;n<a;n++)e.push(n),h.push(n);b.push({extent:g,frameIds:[r]},{extent:p,frameIds:[a]},{extent:m,frameIds:e},{extent:d,frameIds:h})}else t>y||k?b.push({extent:new v(t,d,u,e,h),frameIds:[r]},{extent:new v(n,d,y,e,h),frameIds:[a]}):b.push({extent:new v(t,d,y,e,h),frameIds:[r]});this.cache._parts=b}a=this.hasZ;d=this.hasM;if(a||d)for(r={},a&&(r.zmin=this.zmin,
r.zmax=this.zmax),d&&(r.mmin=this.mmin,r.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(r);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,e=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,e=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,e=-b);return{x:a,frameId:e}};n([g.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);n([g.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);
n([g.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);n([g.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);n([g.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);n([g.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);n([g.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);n([g.property({type:Number,
json:{write:!0}})],b.prototype,"xmin",void 0);n([g.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);n([g.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);n([g.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);n([g.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);
n([g.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);n([g.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);n([g.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=v=n([g.subclass("esri.geometry.Extent")],b);var v}(g.declared(u));a.prototype.toJSON.isDefaultToJSON=!0;
return a})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function k(a,b,m,k){return b>=a.xmin&&b<=a.xmax&&m>=a.ymin&&m<=a.ymax?null!=k&&a.hasZ?k>=a.zmin&&k<=a.zmax:!0:!1}function n(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var g=!1,k=0,e=a.length;k<e;k++)g=t(g,a[k],b);b=g}else b=t(!1,a,b);else b=!1;return b}function t(a,b,m){var g=m[0];m=m[1];for(var e=0,d=0,l=b.length;d<l;d++){e++;e===l&&(e=0);var h=b[d],k=h[0],h=h[1],n=b[e],r=n[0],n=n[1];(h<m&&n>=
m||n<m&&h>=m)&&k+(m-h)/(n-h)*(r-k)<g&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});b.extentContainsPoint=function(a,b){return k(a,b.x,b.y,b.z)};b.extentContainsExtent=function(a,b){var g=b.xmin,n=b.ymin,e=b.zmin,d=b.xmax,l=b.ymax,h=b.zmax;return a.hasZ&&b.hasZ?k(a,g,n,e)&&k(a,g,l,e)&&k(a,d,l,e)&&k(a,d,n,e)&&k(a,g,n,h)&&k(a,g,l,h)&&k(a,d,l,h)&&k(a,d,n,h):k(a,g,n)&&k(a,g,l)&&k(a,d,l)&&k(a,d,n)};b.extentContainsCoords2D=function(a,b){return k(a,b[0],b[1])};b.extentContainsCoords3D=
function(a,b){return k(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){return n(a,[b.x,b.y])};b.polygonContainsCoords=n})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,k){function n(a,b){return k.extentContainsPoint(a,b)}function t(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=
b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function g(a,b){var c=b.hasZ?k.extentContainsCoords3D:k.extentContainsCoords2D,d=0;for(b=b.points;d<b.length;d++)if(c(a,b[d]))return!0;return!1}function u(a,b){d[0]=a.xmin;d[1]=a.ymax;l[0]=a.xmax;l[1]=a.ymax;h[0]=a.xmin;h[1]=a.ymin;y[0]=a.xmax;y[1]=a.ymin;for(var c=0,e=z;c<e.length;c++)if(k.polygonContainsCoords(b,e[c]))return!0;c=0;for(b=b.rings;c<b.length;c++)if(e=b[c],e.length){var g=e[0];if(k.extentContainsCoords2D(a,
g))return!0;for(var p=1;p<e.length;p++){var m=e[p];if(k.extentContainsCoords2D(a,m)||x(g,m,r))return!0;g=m}}return!1}function m(a,b){d[0]=a.xmin;d[1]=a.ymax;l[0]=a.xmax;l[1]=a.ymax;h[0]=a.xmin;h[1]=a.ymin;y[0]=a.xmax;y[1]=a.ymin;b=b.paths;for(var c=0;c<b.length;c++){var e=b[c];if(b.length){var g=e[0];if(k.extentContainsCoords2D(a,g))return!0;for(var m=1;m<e.length;m++){var p=e[m];if(k.extentContainsCoords2D(a,p)||x(g,p,r))return!0;g=p}}}return!1}function x(a,b,d){for(var c=0;c<d.length;c++)if(e(a,
b,d[c][0],d[c][1]))return!0;return!1}function e(a,b,d,e,h){var c=a[0];a=a[1];var f=b[0];b=b[1];var l=d[0],g=d[1];d=e[0]-l;var l=c-l,m=f-c;e=e[1]-g;var g=a-g,p=b-a,k=e*m-d*p;if(0===k)return!1;d=(d*g-e*l)/k;l=(m*g-p*l)/k;return 0<=d&&1>=d&&0<=l&&1>=l?(h&&(h[0]=c+d*(f-c),h[1]=a+d*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=n;b.extentIntersectsExtent=t;b.extentIntersectsMultipoint=g;var d=[0,0],l=[0,0],h=[0,0],y=[0,0],z=[d,l,h,y],r=[[h,d],[d,l],[l,y],[y,h]];
b.extentIntersectsPolygon=u;b.extentIntersectsPolyline=m;var v=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var d=a[b],h=0;h<d.length-1;h++)for(var l=d[h],g=d[h+1],m=b+1;m<a.length;m++)for(var p=0;p<a[m].length-1;p++){var k=a[m][p],r=a[m][p+1],n=e(l,g,k,r,v);if(n&&!(v[0]===l[0]&&v[1]===l[1]||v[0]===k[0]&&v[1]===k[1]||v[0]===g[0]&&v[1]===g[1]||v[0]===r[0]&&v[1]===r[1]))return!0}p=d.length;if(!(4>=p))for(h=0;h<p-3;h++){var u=p-1;0===h&&(u=p-2);l=d[h];g=d[h+1];for(m=h+2;m<u;m++)if(k=
d[m],r=d[m+1],(n=e(l,g,k,r,v))&&!(v[0]===l[0]&&v[1]===l[1]||v[0]===k[0]&&v[1]===k[1]||v[0]===g[0]&&v[1]===g[1]||v[0]===r[0]&&v[1]===r[1]))return!0}}return!1};b.segmentIntersects=e;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return t;case "esriGeometryMultipoint":case "multipoint":return g;case "esriGeometryPoint":case "point":return n;case "esriGeometryPolygon":case "polygon":return u;case "esriGeometryPolyline":case "polyline":return m;case "mesh":return t}}})},
"esri/geometry/Mesh":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/lang ../core/Logger ../core/accessorSupport/decorators ./Extent ./Geometry ./support/MeshComponent ./support/MeshVertexAttributes ./support/triangulationUtils ./support/meshUtils/centerAt ./support/meshUtils/offset ./support/meshUtils/primitives ./support/meshUtils/rotate".split(" "),function(a,b,k,n,t,g,u,m,x,e,d,l,h,y,z,r,v){var p=
u.getLogger("esri.geometry.Mesh"),c=[1,0,0],f=[0,1,0],q=[0,0,1],w=[0,0,0],A=[0,0,0,0],B=[0,0,0,0],D=[0,0,0,0];return function(a){function b(b){b=a.call(this)||this;b.components=null;b.hasZ=!0;b.hasM=!1;b.vertexAttributes=null;b.type="mesh";return b}k(b,a);e=b;Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=this.vertexAttributes&&this.vertexAttributes.position;if(!b||0===b.length||this.components&&0===this.components.length)return new x({xmin:0,ymin:0,zmin:0,
xmax:0,ymax:0,zmax:0,spatialReference:a});a={xmin:Infinity,xmax:-Infinity,ymin:Infinity,ymax:-Infinity,zmin:Infinity,zmax:-Infinity,spatialReference:a};if(!this.components)return new x(this.extendExtent(a,b,null));for(var c=0,d=this.components;c<d.length;c++){var e=d[c];if(e.faces)this.extendExtent(a,b,e.faces);else{this.extendExtent(a,b,null);break}}return new x(a)},enumerable:!0,configurable:!0});b.prototype.addComponent=function(a){this.components||(this.components=[]);this.components.push(a);
this.clearCache()};b.prototype.removeComponent=function(a){if(this.components&&(a=this.components.indexOf(a),-1!==a)){this.components=this.components.splice(a,1);return}p.error("removeComponent()","Provided component is not part of the list of components")};b.prototype.rotate=function(a,b,d,e){v.axisAngleFrom(c,a/180*Math.PI,A);v.axisAngleFrom(f,b/180*Math.PI,B);v.axisAngleFrom(q,d/180*Math.PI,D);v.axisAngleMultiply(A,B,A);v.axisAngleMultiply(A,D,A);v.rotate(this,A,e);return this};b.prototype.offset=
function(a,b,c,d){w[0]=a;w[1]=b;w[2]=c;z.offset(this,w,d);return this};b.prototype.centerAt=function(a,b){y.centerAt(this,a,b);return this};b.prototype.clone=function(){return new e({components:g.clone(this.components),spatialReference:this.spatialReference,vertexAttributes:g.clone(this.vertexAttributes)})};b.prototype.vertexAttributesChanged=function(){this.clearCache()};b.prototype.toJSON=function(a){return this.write({},a)};b.prototype.forEachVertex=function(a,b,c){if(b)for(e=0;e<b.length;e++){var d=
3*b[e];c(a[d+0],a[d+1],a[d+2])}else for(var e=0;e<a.length;e+=3)c(a[e+0],a[e+1],a[e+2])};b.prototype.extendExtent=function(a,b,c){this.forEachVertex(b,c,function(b,c,d){a.xmin=Math.min(a.xmin,b);a.xmax=Math.max(a.xmax,b);a.ymin=Math.min(a.ymin,c);a.ymax=Math.max(a.ymax,c);a.zmin=Math.min(a.zmin,d);a.zmax=Math.max(a.zmax,d)});return a};b.createBox=function(a,b){a=r.convertUnitGeometry(r.createUnitSizeBox(),a,b);if(b&&b.imageFace&&"all"!==b.imageFace){var c=a.components[0],e=c.faces,f=r.boxFaceOrder[b.imageFace],
h=6*f;b=new Uint32Array(6);for(var l=new Uint32Array(e.length-6),g=0,m=0,p=0;p<e.length;p++)p>=h&&p<h+6?b[g++]=e[p]:l[m++]=e[p];e=new Float32Array(a.vertexAttributes.uv);f*=8;h=[0,1,1,1,1,0,0,0];for(p=0;p<h.length;p++)e[f+p]=h[p];a.vertexAttributes.uv=e;a.components=[new d({faces:b,material:c.material}),new d({faces:l})]}return a};b.createSphere=function(a,b){return r.convertUnitGeometry(r.createUnitSizeSphere(b&&b.densificationFactor||0),a,b)};b.createCylinder=function(a,b){return r.convertUnitGeometry(r.createUnitSizeCylinder(b&&
b.densificationFactor||0),a,b)};b.createPlane=function(a,b){return r.convertUnitGeometry(r.createUnitSizePlane(b&&b.facing||"up"),a,b)};b.createFromPolygon=function(a,b){var c=h.triangulate(a);return new e({vertexAttributes:{position:c.position},components:[{faces:c.faces,shading:"flat",material:b&&b.material||null}],spatialReference:a.spatialReference})};n([m.property({dependsOn:["vertexAttributes","vertexAttributes.position","components"],json:{read:!1}})],b.prototype,"cache",void 0);n([m.property({type:[d]})],
b.prototype,"components",void 0);n([m.property({dependsOn:["cache"],readOnly:!0,json:{read:!1}})],b.prototype,"extent",null);n([m.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasZ",void 0);n([m.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasM",void 0);n([m.property({type:l.MeshVertexAttributes,json:{write:!0}})],b.prototype,"vertexAttributes",void 0);n([t(0,m.cast(d))],b.prototype,"addComponent",null);return b=e=n([m.subclass("esri.geometry.Mesh")],b);var e}(m.declared(e))})},
"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,b){return function(k,n){b(k,n,a)}}})},"esri/geometry/support/MeshComponent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators ./MeshMaterial ./MeshVertexAttributes".split(" "),function(a,b,k,n,t,g,u,m,x,e){var d=u.getLogger("esri.geometry.support.MeshComponent");
return function(a){function b(b){b=a.call(this)||this;b.faces=null;b.material=null;b.shading="source";return b}k(b,a);l=b;b.prototype.castFaces=function(a){return e.castArray(a,Uint32Array,[Uint16Array],{loggerTag:".faces\x3d",stride:3},d)};b.prototype.clone=function(){return new l({faces:g.clone(this.faces),shading:this.shading,material:g.clone(this.material)})};n([m.property({json:{write:!0}})],b.prototype,"faces",void 0);n([m.cast("faces")],b.prototype,"castFaces",null);n([m.property({type:x.MeshMaterial,
json:{write:!0}})],b.prototype,"material",void 0);n([m.property({type:String,json:{write:!0}})],b.prototype,"shading",void 0);return b=l=n([m.subclass("esri.geometry.support.MeshComponent")],b);var l}(m.declared(t))})},"esri/geometry/support/MeshMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ImageMeshColor ./MeshColor ./ValueMeshColor".split(" "),
function(a,b,k,n,t,g,u,m,x,e,d,l){Object.defineProperty(b,"__esModule",{value:!0});var h={base:d.default,key:"type",defaultKeyValue:"value",typeMap:{value:l,image:e}};a=function(a){function b(b){b=a.call(this)||this;b.color=null;return b}k(b,a);d=b;b.prototype.castColor=function(a){return a?"string"===typeof a?y.test(a)||t.named[a]?new l({value:a}):new e({url:a}):Array.isArray(a)?new l({value:a}):a instanceof HTMLImageElement?new e({url:a.src}):a instanceof HTMLCanvasElement?new e({url:a.toDataURL()}):
x.ensureOneOfType(h,a):a};b.prototype.readColor=function(a,b,d){if(a)switch(a.type){case "image":return new e(a);case "value":return new l(a)}};b.prototype.clone=function(){return new d({color:u.clone(this.color)})};n([m.property({types:h,json:{write:!0}})],b.prototype,"color",void 0);n([m.cast("color")],b.prototype,"castColor",null);n([m.reader("color")],b.prototype,"readColor",null);return b=d=n([m.subclass("esri.geometry.support.MeshResources")],b);var d}(m.declared(g));b.MeshMaterial=a;var y=
/^\s*(#|rgba?\()/;b.default=a})},"esri/Color":function(){define(["./core/declare","./core/accessorSupport/ensureType","dojo/colors"],function(a,b,k){function n(a){return Math.max(0,Math.min(b.ensureInteger(a),255))}var t=a([k],{declaredClass:"esri.Color",toJSON:function(){return[n(this.r),n(this.g),n(this.b),1<this.a?this.a:n(255*this.a)]},clone:function(){return new t(this.toRgba())}});t.toJSON=function(a){return a&&[n(a.r),n(a.g),n(a.b),1<a.a?a.a:n(255*a.a)]};t.fromJSON=function(a){return a&&new t([a[0],
a[1],a[2],a[3]/255])};t.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};t.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};var g="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(a=0;a<g.length;a++)t[g[a]]=k[g[a]];t.named.rebeccapurple=[102,51,153];return t})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(a,b,k,n){var t={};b.setObject("dojo.colors",t);var g=function(a,b,e){0>e&&++e;1<e&&
--e;var d=6*e;return 1>d?a+(b-a)*d:1>2*e?b:2>3*e?a+(b-a)*(2/3-e)*6:a};a.colorFromRgb=k.fromRgb=function(a,b){var e=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){a=e[2].split(/\s*,\s*/);var d=a.length,e=e[1];if("rgb"==e&&3==d||"rgba"==e&&4==d)return e=a[0],"%"==e.charAt(e.length-1)?(e=n.map(a,function(a){return 2.56*parseFloat(a)}),4==d&&(e[3]=a[3]),k.fromArray(e,b)):k.fromArray(a,b);if("hsl"==e&&3==d||"hsla"==e&&4==d){var e=(parseFloat(a[0])%360+360)%360/360,l=parseFloat(a[1])/
100,h=parseFloat(a[2])/100,l=.5>=h?h*(l+1):h+l-h*l,h=2*h-l,e=[256*g(h,l,e+1/3),256*g(h,l,e),256*g(h,l,e-1/3),1];4==d&&(e[3]=a[3]);return k.fromArray(e,b)}}return null};var u=function(a,b,e){a=Number(a);return isNaN(a)?e:a<b?b:a>e?e:a};k.prototype.sanitize=function(){this.r=Math.round(u(this.r,0,255));this.g=Math.round(u(this.g,0,255));this.b=Math.round(u(this.b,0,255));this.a=u(this.a,0,1);return this};t.makeGrey=k.makeGrey=function(a,b){return k.fromArray([a,a,a,b])};b.mixin(k.named,{aliceblue:[240,
248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,
211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,
221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,
245,245],yellowgreen:[154,205,50]});return k})},"esri/geometry/support/ImageMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Identifiable ../../core/accessorSupport/decorators ./MeshColor".split(" "),function(a,b,k,n,t,g,u){return function(a){function b(b){b=a.call(this)||this;b.type="image";b.url=null;return b}k(b,a);e=b;b.prototype.clone=function(){return new e({url:this.url})};n([g.property()],b.prototype,"type",
void 0);n([g.property({type:String,json:{write:{enabled:!0,isRequired:!0}}})],b.prototype,"url",void 0);return b=e=n([g.subclass("esri.geometry.support.ImageMeshColor")],b);var e}(g.declared(u.default,t))})},"esri/core/Identifiable":function(){define(["./declare"],function(a){var b=0;return a(null,{constructor:function(){Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+b++})}})})},"esri/geometry/support/MeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),
function(a,b,k,n,t,g){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){return a.call(this)||this}k(b,a);b.prototype.clone=function(){throw Error("not implemented");};n([g.property({readOnly:!0,json:{read:!1,write:{isRequired:!0,ignoreOrigin:!0,enabled:!0}}})],b.prototype,"type",void 0);return b=n([g.subclass("esri.geometry.support.MeshColor")],b)}(g.declared(t));b.MeshColor=a;b.default=a})},"esri/geometry/support/ValueMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ./MeshColor".split(" "),
function(a,b,k,n,t,g,u,m){return function(a){function b(b){b=a.call(this)||this;b.type="value";b.value=null;return b}k(b,a);d=b;b.prototype.clone=function(){return new d({value:g.clone(this.value)})};n([u.property()],b.prototype,"type",void 0);n([u.property({type:t})],b.prototype,"value",void 0);return b=d=n([u.subclass("esri.geometry.support.ValueMeshColor")],b);var d}(u.declared(m.default))})},"esri/geometry/support/MeshVertexAttributes":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators".split(" "),
function(a,b,k,n,t,g,u,m){function x(a,b,d,e){var h=b.loggerTag;b=b.stride;return 0!==a.length%b?(e.error(h,"Invalid array length, expected a multiple of "+b),new d([])):a}function e(a,b,d,e,g){if(!a)return a;if(a instanceof b)return x(a,e,b,g);for(var h=0;h<d.length;h++)if(a instanceof d[h])return x(new b(a),e,b,g);if(Array.isArray(a))return x(new b(a),e,b,g);d=d.map(function(a){return"'"+a.name+"'"});g.error("Failed to set property, expected one of "+d+", but got "+a.constructor.name);return new b([])}
Object.defineProperty(b,"__esModule",{value:!0});var d=u.getLogger("esri.geometry.support.MeshVertexAttributes");a=function(a){function b(b){b=a.call(this)||this;b.position=null;b.uv=null;b.normal=null;return b}k(b,a);l=b;b.prototype.castPosition=function(a){a&&a instanceof Float32Array&&d.warn(".position\x3d","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array");return e(a,Float64Array,[Float32Array],{loggerTag:".position\x3d",
stride:3},d)};b.prototype.castUv=function(a){return e(a,Float32Array,[Float64Array],{loggerTag:".uv\x3d",stride:2},d)};b.prototype.castNormal=function(a){return e(a,Float32Array,[Float64Array],{loggerTag:".normal\x3d",stride:3},d)};b.prototype.clone=function(){return new l({position:g.clone(this.position),uv:g.clone(this.uv),normal:g.clone(this.normal)})};n([m.property({json:{write:!0}})],b.prototype,"position",void 0);n([m.cast("position")],b.prototype,"castPosition",null);n([m.property({json:{write:!0}})],
b.prototype,"uv",void 0);n([m.cast("uv")],b.prototype,"castUv",null);n([m.property({json:{write:!0}})],b.prototype,"normal",void 0);n([m.cast("normal")],b.prototype,"castNormal",null);return b=l=n([m.subclass("esri.geometry.support.MeshVertexAttributes")],b);var l}(m.declared(t));b.MeshVertexAttributes=a;b.castArray=e;b.default=a})},"esri/geometry/support/triangulationUtils":function(){define(["require","exports","../../core/libs/earcut/earcut","./coordsUtils"],function(a,b,k,n){function t(a,b,e){if(1===
a.length)return a[0];b=new Float64Array(b);e=new Uint32Array(e);for(var d=0,l=0,h=0;h<a.length;h++){for(var g=a[h],m=0;m<g.position.length;m++)b[d++]=g.position[m];for(m=0;m<g.faces.length;m++)e[l++]=g.faces[m]}return{position:b,faces:e}}function g(a,b){for(var e=a.length,d=Array(e),l=Array(e),h=Array(e),g=0,m=0,k=0,v=0,p=0;p<e;++p)v+=a[p].length;for(var v=new Float64Array(3*v),c=0,f=e-1;0<=f;f--){var q=a[f];if(n.isClockwise(q,!1,!1)||1===e){for(var w=q.length,p=0;p<g;++p)w+=d[p].length;p={index:c,
pathLengths:Array(g+1),count:w,holeIndices:Array(g)};p.pathLengths[0]=q.length;0<q.length&&(h[k++]={index:c,count:q.length});c=u(q,0,v,c,q.length,b);for(q=0;q<g;++q)w=d[q],p.holeIndices[q]=c,p.pathLengths[q+1]=w.length,0<w.length&&(h[k++]={index:c,count:w.length}),c=u(w,0,v,c,w.length,b);g=0;0<p.count&&(l[m++]=p)}else d[g++]=q}for(q=0;q<g;++q)w=d[q],0<w.length&&(h[k++]={index:c,count:w.length}),c=u(w,0,v,c,w.length,b);m<e&&(l.length=m);k<e&&(h.length=k);return{position:v,polygons:l,outlines:h}}function u(a,
b,e,d,l,h){d*=3;for(var g=0;g<l;++g){var m=a[b++];e[d++]=m[0];e[d++]=m[1];e[d++]=h?m[2]:0}return d/3}Object.defineProperty(b,"__esModule",{value:!0});b.triangulate=function(a){var b=g(a.rings,a.hasZ),e=[],d=0,l=0;a=function(a){var h=a.index,g=new Float64Array(b.position.buffer,3*h*b.position.BYTES_PER_ELEMENT,3*a.count);a=a.holeIndices.map(function(a){return a-h});a=new Uint32Array(k(g,a,3));e.push({position:g,faces:a});d+=g.length;l+=a.length};for(var h=0,m=b.polygons;h<m.length;h++)a(m[h]);return t(e,
d,l)};b.pathsToTriangulationInfo=g})},"esri/core/libs/earcut/earcut":function(){define([],function(){function a(a,c,d){d=d||2;f=a.length/d+(c?2*c.length:0);q=!1;var e=c&&c.length,h=e?c[0]*d:a.length,l=b(a,0,h,d,!0),m=[];if(!l)return m;var p,r,v,w;if(e)a:{var t=d,e=[],y,A,B;w=0;for(y=c.length;w<y;w++)A=c[w]*t,B=w<y-1?c[w+1]*t:a.length,A=b(a,A,B,t,!1),A===A.next&&(A.steiner=!0),e.push(x(A));e.sort(g);for(w=0;w<e.length;w++){if(!l){l=null;break a}c=e[w];t=l;if(t=u(c,t))c=z(t,c),k(c,c.next);l=k(l,l.next)}}if(q)return m;
if(a.length>80*d){p=v=a[0];r=e=a[1];for(t=d;t<h;t+=d)w=a[t],c=a[t+1],w<p&&(p=w),c<r&&(r=c),w>v&&(v=w),c>e&&(e=c);v=Math.max(v-p,e-r)}n(l,m,d,p,r,v);return m}function b(a,b,d,e,f){var h;if(f===0<c(a,b,d,e))for(f=b;f<d;f+=e)h=r(f,a[f],a[f+1],h);else for(f=d-e;f>=b;f-=e)h=r(f,a[f],a[f+1],h);h&&l(h,h.next)&&(v(h),h=h.next);return h}function k(a,b){if(!a)return a;b||(b=a);var c,e=0,h=f*f/2;do{c=!1;if(a.steiner||!l(a,a.next)&&0!==d(a.prev,a,a.next))a=a.next;else{v(a);a=b=a.prev;if(a===a.next)return null;
c=!0}if(e++>h)return q=!0,null}while(c||a!==b);return b}function n(a,b,c,f,g,p,r){if(a){if(!r&&p){var u=a,w=u;do null===w.z&&(w.z=m(w.x,w.y,f,g,p)),w.prevZ=w.prev,w=w.nextZ=w.next;while(w!==u);w.prevZ.nextZ=null;w.prevZ=null;var u=w,x,A,B,D,C,E,F=1;do{w=u;B=u=null;for(D=0;w;){D++;A=w;for(x=C=0;x<F&&(C++,A=A.nextZ,A);x++);for(E=F;0<C||0<E&&A;)0===C?(x=A,A=A.nextZ,E--):0!==E&&A?w.z<=A.z?(x=w,w=w.nextZ,C--):(x=A,A=A.nextZ,E--):(x=w,w=w.nextZ,C--),B?B.nextZ=x:u=x,x.prevZ=B,B=x;w=A}B.nextZ=null;F*=2}while(1<
D)}for(u=a;a.prev!==a.next;){w=a.prev;A=a.next;if(p)a:{B=a;E=f;var Q=g,Z=p;D=B.prev;C=B;F=B.next;if(0<=d(D,C,F))B=!1;else{var P=D.x>C.x?D.x>F.x?D.x:F.x:C.x>F.x?C.x:F.x,H=D.y>C.y?D.y>F.y?D.y:F.y:C.y>F.y?C.y:F.y;x=m(D.x<C.x?D.x<F.x?D.x:F.x:C.x<F.x?C.x:F.x,D.y<C.y?D.y<F.y?D.y:F.y:C.y<F.y?C.y:F.y,E,Q,Z);E=m(P,H,E,Q,Z);for(Q=B.nextZ;Q&&Q.z<=E;){if(Q!==B.prev&&Q!==B.next&&e(D.x,D.y,C.x,C.y,F.x,F.y,Q.x,Q.y)&&0<=d(Q.prev,Q,Q.next)){B=!1;break a}Q=Q.nextZ}for(Q=B.prevZ;Q&&Q.z>=x;){if(Q!==B.prev&&Q!==B.next&&
e(D.x,D.y,C.x,C.y,F.x,F.y,Q.x,Q.y)&&0<=d(Q.prev,Q,Q.next)){B=!1;break a}Q=Q.prevZ}B=!0}}else B=t(a);if(B)b.push(w.i/c),b.push(a.i/c),b.push(A.i/c),v(a),u=a=A.next;else{if(q)break;a=A;if(a===u){if(!r)n(k(a),b,c,f,g,p,1);else if(1===r){r=b;u=c;w=a;do A=w.prev,B=w.next.next,!l(A,B)&&h(A,w,w.next,B)&&y(A,B)&&y(B,A)&&(r.push(A.i/u),r.push(w.i/u),r.push(B.i/u),v(w),v(w.next),w=a=B),w=w.next;while(w!==a);a=w;n(a,b,c,f,g,p,2)}else if(2===r)a:{r=a;do{for(u=r.next.next;u!==r.prev;){if(w=r.i!==u.i){w=r;A=u;
B=void 0;if(B=w.next.i!==A.i&&w.prev.i!==A.i){B=void 0;b:{B=w;do{if(B.i!==w.i&&B.next.i!==w.i&&B.i!==A.i&&B.next.i!==A.i&&h(B,B.next,w,A)){B=!0;break b}B=B.next}while(B!==w);B=!1}B=!B}D=void 0;if(D=B&&y(w,A)&&y(A,w)){B=w;D=!1;C=(w.x+A.x)/2;A=(w.y+A.y)/2;do B.y>A!==B.next.y>A&&C<(B.next.x-B.x)*(A-B.y)/(B.next.y-B.y)+B.x&&(D=!D),B=B.next;while(B!==w)}w=D}if(w){a=z(r,u);r=k(r,r.next);a=k(a,a.next);n(r,b,c,f,g,p);n(a,b,c,f,g,p);break a}u=u.next}r=r.next}while(r!==a)}break}}}}}function t(a){var b=a.prev,
c=a.next;if(0<=d(b,a,c))return!1;for(var h=a.next.next,l=0;h!==a.prev;){if(e(b.x,b.y,a.x,a.y,c.x,c.y,h.x,h.y)&&0<=d(h.prev,h,h.next))return!1;h=h.next;if(l++>f)return q=!0,!1}return!0}function g(a,b){return a.x-b.x}function u(a,b){var c=b,d=a.x,f=a.y,h=-Infinity,l;do{if(!c)return null;if(f<=c.y&&f>=c.next.y){var g=c.x+(f-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(g<=d&&g>h){h=g;if(g===d){if(f===c.y)return c;if(f===c.next.y)return c.next}l=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!l)return null;
if(d===h)return l.prev;b=l;for(var g=l.x,m=l.y,p=Infinity,k,c=l.next;c!==b;)d>=c.x&&c.x>=g&&e(f<m?d:h,f,g,m,f<m?h:d,f,c.x,c.y)&&(k=Math.abs(f-c.y)/(d-c.x),(k<p||k===p&&c.x>l.x)&&y(c,a)&&(l=c,p=k)),c=c.next;return l}function m(a,b,c,d,e){a=32767*(a-c)/e;b=32767*(b-d)/e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function x(a){var b=a,c=a;do b.x<c.x&&(c=b),b=b.next;while(b!==
a);return c}function e(a,b,c,d,e,f,h,l){return 0<=(e-h)*(b-l)-(a-h)*(f-l)&&0<=(a-h)*(d-l)-(c-h)*(b-l)&&0<=(c-h)*(f-l)-(e-h)*(d-l)}function d(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function l(a,b){return a.x===b.x&&a.y===b.y}function h(a,b,c,e){return l(a,b)&&l(c,e)||l(a,e)&&l(c,b)?!0:0<d(a,b,c)!==0<d(a,b,e)&&0<d(c,e,a)!==0<d(c,e,b)}function y(a,b){return 0>d(a.prev,a,a.next)?0<=d(a,b,a.next)&&0<=d(a,a.prev,b):0>d(a,b,a.prev)||0>d(a,a.next,b)}function z(a,b){var c=new p(a.i,a.x,a.y),
d=new p(b.i,b.x,b.y),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function r(a,b,c,d){a=new p(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function v(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function p(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function c(a,b,c,d){for(var e=0,f=
c-d;b<c;b+=d)e+=(a[f]-a[b])*(a[b+1]+a[f+1]),f=b;return e}var f,q;a.deviation=function(a,b,d,e){var f=b&&b.length,h=Math.abs(c(a,0,f?b[0]*d:a.length,d));if(f)for(var f=0,l=b.length;f<l;f++)h-=Math.abs(c(a,b[f]*d,f<l-1?b[f+1]*d:a.length,d));for(f=b=0;f<e.length;f+=3){var l=e[f]*d,g=e[f+1]*d,m=e[f+2]*d;b+=Math.abs((a[l]-a[m])*(a[g+1]-a[l+1])-(a[l]-a[g])*(a[m+1]-a[l+1]))}return 0===h&&0===b?0:Math.abs((b-h)/h)};a.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,e=
0;e<a.length;e++){for(var f=0;f<a[e].length;f++)for(var h=0;h<b;h++)c.vertices.push(a[e][f][h]);0<e&&(d+=a[e-1].length,c.holes.push(d))}return c};return a})},"esri/geometry/support/coordsUtils":function(){define(["require","exports"],function(a,b){function k(a,b){var g=b[0]-a[0],m=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(g*g+m*m+a*a)):Math.sqrt(g*g+m*m)}function n(a,b,k){var g=a[0]+k*(b[0]-a[0]),n=a[1]+k*(b[1]-a[1]);return 2<a.length&&2<b.length?[g,n,a[2]+k*(b[2]-a[2])]:[g,n]}
Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,k=a.hasM;if("point"===a.type)return k&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:k?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var m=!1,n=!1;a.forEach(function(a){a.hasZ&&(m=!0);
a.hasM&&(n=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(m&&a.hasZ)for(var e=.5*(a.zmax-a.zmin),h=0;h<b.length;h++)b[h].push(e);if(n&&a.hasM)for(a=.5*(a.mmax-a.mmin),h=0;h<b.length;h++)b[h].push(a);return b})}return null};b.getLength=k;b.getMidpoint=function(a,b){return n(a,b,.5)};b.getPathLength=function(a){for(var b=a.length,n=0,m=0;m<b-1;++m)n+=k(a[m],a[m+1]);return n};b.getPointOnPath=function(a,b){if(0>=b)return a[0];
for(var g=a.length,m=0,t=0;t<g-1;++t){var e=k(a[t],a[t+1]);if(b-m<e)return n(a[t],a[t+1],(b-m)/e);m+=e}return a[g-1]};b.isClockwise=function(a,b,k){for(var g=a.length,n=0,e=0,d=0,l=0;l<g;l++){var h=a[l],u=a[(l+1)%g],t=2,n=n+(h[0]*u[1]-u[0]*h[1]);2<h.length&&2<u.length&&k&&(e+=h[0]*u[2]-u[0]*h[2],t=3);h.length>t&&u.length>t&&b&&(d+=h[0]*u[t]-u[0]*h[t])}return 0>=n&&0>=e&&0>=d}})},"esri/geometry/support/meshUtils/centerAt":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/glMatrix ../../../views/3d/support/projectionUtils".split(" "),
function(a,b,k,n,t,g){Object.defineProperty(b,"__esModule",{value:!0});var u=k.getLogger("esri.geometry.support.meshUtils.centerAt");b.centerAt=function(a,b,k){if(a.vertexAttributes&&a.vertexAttributes.position){var h=a.spatialReference,l=k&&k.origin||a.extent.center;if(h.isWGS84||h.isWebMercator&&(!k||!1!==k.geographic)){k=a.spatialReference;var h=x,v=m;if(g.pointToVector(b,v,g.SphericalECEFSpatialReference)){g.pointToVector(l,h,g.SphericalECEFSpatialReference)||g.pointToVector(a.extent.center,h,
g.SphericalECEFSpatialReference);l=a.vertexAttributes.position;b=a.vertexAttributes.normal;var p=new Float64Array(l.length),c=new Float32Array(b?b.length:0);n.projectToECEF(l,k,p);b&&n.projectNormalToECEF(b,l,p,k,c);g.computeLinearTransformation(g.SphericalECEFSpatialReference,h,e,g.SphericalECEFSpatialReference);g.computeLinearTransformation(g.SphericalECEFSpatialReference,v,d,g.SphericalECEFSpatialReference);t.mat4d.inverse(e);t.mat4d.multiply(d,e,d);n.transformBufferInPlace(p,d);t.mat4d.inverse(d);
t.mat4d.transpose(d);b&&n.transformBufferInPlace(c,d,!0);n.projectFromECEF(p,l,k);b&&n.projectNormalFromECEF(c,l,p,k,b);a.clearCache()}else u.error("Failed to project centerAt location (wkid:"+b.spatialReference.wkid+") to ECEF")}else if(k=x,h=m,g.pointToVector(b,h,a.spatialReference)){g.pointToVector(l,k,a.spatialReference)||(b=a.extent.center,k[0]=b.x,k[1]=b.y,k[2]=b.z,u.error("Failed to project specified origin (wkid:"+l.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+
"). Using mesh extent.center instead"));if(l=a.vertexAttributes.position)for(b=0;b<l.length;b+=3)for(v=0;3>v;v++)l[b+v]+=h[v]-k[v];a.clearCache()}else u.error("Failed to project centerAt location (wkid:"+b.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+")")}};var m=t.vec3d.create(),x=t.vec3d.create(),e=t.mat4d.create(),d=t.mat4d.create()})},"esri/geometry/support/meshUtils/projection":function(){define(["require","exports","../../../core/Logger","../../../views/3d/lib/glMatrix",
"../../../views/3d/support/projectionUtils"],function(a,b,k,n,t){function g(a,b,g,k,r,v){if(b){r=r.isWGS84;for(var h=0;h<b.length;h+=3){for(var c=0;3>c;c++)m[c]=k[h+c],x[c]=b[h+c];t.computeLinearTransformation(t.SphericalECEFSpatialReference,m,e,t.SphericalECEFSpatialReference);n.mat4d.toMat3(e,d);r?n.mat3d.multiplyVec3(d,x):(c=t.webMercator.y2lat(g[h+1]),c=Math.cos(c),0===a&&(c=1/c),d[0]*=c,d[1]*=c,d[2]*=c,d[3]*=c,d[4]*=c,d[5]*=c,1===a&&n.mat3d.transpose(d),n.mat3d.multiplyVec3(d,x),n.vec3d.normalize(x));
for(c=0;3>c;c++)v[h+c]=x[c]}return v}}Object.defineProperty(b,"__esModule",{value:!0});var u=k.getLogger("esri.geometry.support.meshUtils.normalProjection");b.projectNormalToECEF=function(a,b,d,e,m){return e.isWebMercator||e.isWGS84?g(0,a,b,d,e,m):(u.error("Cannot convert PCS spatial reference buffer to ECEF"),m)};b.projectNormalFromECEF=function(a,b,d,e,m){return e.isWebMercator||e.isWGS84?g(1,a,b,d,e,m):(u.error("Cannot convert to PCS spatial reference buffer from ECEF"),m)};b.projectToECEF=function(a,
b,d){t.bufferToBuffer(a,b,0,d,t.SphericalECEFSpatialReference,0,a.length/3);return d};b.projectFromECEF=function(a,b,d){t.bufferToBuffer(a,t.SphericalECEFSpatialReference,0,b,d,0,a.length/3);return b};b.transformBufferInPlace=function(a,b,d){void 0===d&&(d=!1);if(a)for(var e=0;e<a.length;e+=3){for(var h=0;3>h;h++)m[h]=a[e+h];n.mat4d.multiplyVec3(b,m);d&&n.vec3d.normalize(m);for(h=0;3>h;h++)a[e+h]=m[h]}};var m=n.vec3d.create(),x=n.vec3d.create(),e=n.mat4d.create(),d=n.mat3d.create()})},"esri/geometry/support/meshUtils/offset":function(){define(["require",
"exports","./projection","../../../views/3d/lib/glMatrix","../../../views/3d/support/projectionUtils"],function(a,b,k,n,t){function g(a,b){if(a)for(var d=0;d<a.length;d+=3)for(var e=0;3>e;e++)a[d+e]+=b[e]}Object.defineProperty(b,"__esModule",{value:!0});b.offset=function(a,b,l){if(a.vertexAttributes&&a.vertexAttributes.position){var d=a.spatialReference;if(d.isWGS84||d.isWebMercator&&(!l||!1!==l.geographic)){l=a.spatialReference;var d=a.vertexAttributes.position,e=a.vertexAttributes.normal,z=new Float64Array(d.length),
r=new Float32Array(e?e.length:0),v=a.extent.center,p=u;t.computeLinearTransformation(l,[v.x,v.y,v.z],m,t.SphericalECEFSpatialReference);n.mat4d.toMat3(m,x);n.mat3d.multiplyVec3(x,b,p);k.projectToECEF(d,l,z);e&&k.projectNormalToECEF(e,d,z,l,r);g(z,p);k.projectFromECEF(z,d,l);e&&k.projectNormalFromECEF(r,d,z,l,e)}else g(a.vertexAttributes.position,b);a.clearCache()}};var u=n.vec3d.create(),m=n.mat4d.create(),x=n.mat3d.create()})},"esri/geometry/support/meshUtils/primitives":function(){define(["require",
"exports","../../../geometry","./georeference","../../../views/3d/lib/glMatrix"],function(a,b,k,n,t){Object.defineProperty(b,"__esModule",{value:!0});b.createUnitSizeBox=function(){for(var a=u.faceDescriptions,b=u.faceVertexOffsets,l=u.uvScales,h=4*a.length,g=new Float64Array(3*h),m=new Float32Array(3*h),h=new Float32Array(2*h),k=new Uint32Array(6*a.length),n=0,p=0,c=0,f=0,q=0;q<a.length;q++){for(var t=a[q],x=n/3,B=0,D=b;B<D.length;B++){var E=D[B];k[f++]=x+E}x=t.corners;for(B=0;4>B;B++){D=x[B];E=
0;h[c++]=.25*l[B][0]+t.uvOrigin[0];h[c++]=t.uvOrigin[1]-.25*l[B][1];for(var C=0;3>C;C++)0!==t.axis[C]?(g[n++]=.5*t.axis[C],m[p++]=t.axis[C]):(g[n++]=.5*D[E++],m[p++]=0)}}return{position:g,normal:m,uv:h,faces:k}};b.createUnitSizeSphere=function(a){void 0===a&&(a=0);a=Math.round(8*Math.pow(2,a));for(var b=2*a,e=(a-1)*(b+1)+2*b,h=new Float64Array(3*e),g=new Float32Array(3*e),e=new Float32Array(2*e),k=new Uint32Array((a-1)*b*6),n=0,v=0,p=0,c=0,f=0,q=0;q<=a;q++){var u=q/a*Math.PI+.5*Math.PI,t=Math.cos(u);
m[2]=Math.sin(u);for(var x=(u=0===q||q===a)?b-1:b,D=0;D<=x;D++){var E=D/x*2*Math.PI;m[0]=-Math.sin(E)*t;m[1]=Math.cos(E)*t;for(E=0;3>E;E++)h[n++]=.5*m[E],g[v++]=m[E];e[p++]=(D+(u?.5:0))/b;e[p++]=q/a;0!==q&&D!==b&&(q!==a&&(k[c++]=f,k[c++]=f+1,k[c++]=f-b),1!==q&&(k[c++]=f,k[c++]=f-b,k[c++]=f-b-1));f++}}return{position:h,normal:g,uv:e,faces:k}};b.createUnitSizeCylinder=function(a){void 0===a&&(a=0);a=Math.round(16*Math.pow(2,a));for(var b=4*(a+1)+2*a,e=new Float64Array(3*b),h=new Float32Array(3*b),b=
new Float32Array(2*b),g=new Uint32Array(12*a),k=0,n=0,v=0,p=0,c=0,f=0;5>=f;f++)for(var q=0===f||5===f,u=1>=f||4<=f,t=2===f||4===f,x=q?a-1:a,D=0;D<=x;D++){var E=D/x*2*Math.PI,C=q?0:.5;m[0]=C*Math.sin(E);m[1]=C*-Math.cos(E);m[2]=2>=f?.5:-.5;for(E=0;3>E;E++)e[k++]=m[E],u?h[n++]=2===E?1>=f?1:-1:0:h[n++]=2===E?0:m[E]/C;b[v++]=(D+(q?.5:0))/a;1>=f?b[v++]=1*f/3:3>=f?b[v++]=1*(f-2)/3+1/3:b[v++]=1*(f-4)/3+2/3;t||0===f||D===a||(5!==f&&(g[p++]=c,g[p++]=c+1,g[p++]=c-a),1!==f&&(g[p++]=c,g[p++]=c-a,g[p++]=c-a-1));
c++}return{position:e,normal:h,uv:b,faces:g}};b.createUnitSizePlane=function(a){a=g.facingAxisOrderSwap[a];for(var b=g.position,e=g.normal,h=new Float64Array(b.length),m=new Float32Array(e.length),k=0,n=0;4>n;n++)for(var v=k,p=0;3>p;p++){var c=a[p],f=Math.abs(c)-1,c=0<=c?1:-1;h[k]=b[v+f]*c;m[k]=e[v+f]*c;k++}return{position:h,normal:m,uv:new Float32Array(g.uv),faces:new Uint32Array(g.faces)}};var g={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],
faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};b.convertUnitGeometry=function(a,b,l){for(var d=0;d<a.position.length;d+=3)a.position[d+2]+=.5;d=l&&l.size;if(null!=d){d="number"===typeof d?[d,d,d]:[null!=d.width?d.width:1,null!=d.depth?d.depth:1,null!=d.height?d.height:1];x[0]=d[0];x[4]=d[1];x[8]=d[2];for(var e=0;e<a.position.length;e+=3){for(var g=0;3>g;g++)m[g]=a.position[e+g];t.mat3d.multiplyVec3(x,m);for(g=0;3>g;g++)a.position[e+
g]=m[g]}if(d[0]!==d[1]||d[1]!==d[2])for(x[0]=1/d[0],x[4]=1/d[1],x[8]=1/d[2],e=0;e<a.normal.length;e+=3){for(g=0;3>g;g++)m[g]=a.normal[e+g];t.mat3d.multiplyVec3(x,m);t.vec3d.normalize(m);for(g=0;3>g;g++)a.normal[e+g]=m[g]}}d=n.georeference(a,b,l);return new k.Mesh({vertexAttributes:{position:d.position,normal:d.normal,uv:a.uv},components:[{faces:a.faces,material:l&&l.material||null}],spatialReference:b.spatialReference})};var u={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,
-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]};b.boxFaceOrder={south:0,east:1,north:2,west:3,up:4,
down:5};var m=t.vec3d.create(),x=t.mat3d.identity()})},"esri/geometry/support/meshUtils/georeference":function(){define(["require","exports","../../../views/3d/lib/glMatrix","../../../views/3d/support/projectionUtils"],function(a,b,k,n){Object.defineProperty(b,"__esModule",{value:!0});b.georeference=function(a,b,x){var e=b.spatialReference;if(e.isWGS84||e.isWebMercator&&(!x||!1!==x.geographic)){x=b.spatialReference;n.computeLinearTransformation(b.spatialReference,[b.x,b.y,b.z||0],t,n.SphericalECEFSpatialReference);
var e=a.position,d=t,l=b.spatialReference,h=new Float64Array(e.length);for(b=0;b<e.length;b+=3){for(var m=0;3>m;m++)g[m]=e[b+m];k.mat4d.multiplyVec3(d,g);for(m=0;3>m;m++)h[b+m]=g[m]}b=new Float64Array(e.length);n.bufferToBuffer(h,n.SphericalECEFSpatialReference,0,b,l,0,h.length/3);a=a.normal;if(x.isWebMercator&&a){x=new Float32Array(a.length);for(e=0;e<a.length;e+=3)for(d=n.webMercator.y2lat(b[e+1]),d=Math.cos(d),g[0]=a[e+0]*d,g[1]=a[e+1]*d,g[2]=a[e+2],k.vec3d.normalize(g),d=0;3>d;d++)x[e+d]=g[d];
a=x}a={position:b,normal:a}}else{x=new Float64Array(a.position.length);e=a.position;for(d=0;d<e.length;d+=3)x[d+0]=e[d+0]+b.x,x[d+1]=e[d+1]+b.y,x[d+2]=e[d+2]+(b.z||0);a={position:x,normal:a.normal}}return a};var t=k.mat4d.create(),g=k.vec3d.create()})},"esri/geometry/support/meshUtils/rotate":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/glMatrix ../../../views/3d/support/projectionUtils".split(" "),function(a,b,k,n,t,g){function u(a,b,c){void 0===c&&(c=
z);if(a)for(t.mat4d.identity(h),t.mat4d.rotate(h,b[3],b),b=0;b<a.length;b+=3){for(var d=0;3>d;d++)x[d]=a[b+d]-c[d];t.mat4d.multiplyVec3(h,x);for(d=0;3>d;d++)a[b+d]=x[d]+c[d]}}Object.defineProperty(b,"__esModule",{value:!0});var m=k.getLogger("esri.geometry.support.meshUtils.rotate");b.rotate=function(a,b,c){if(a.vertexAttributes&&a.vertexAttributes.position&&0!==b[3]){var d=a.spatialReference,l=c&&c.origin||a.extent.center;if(d.isWGS84||d.isWebMercator&&(!c||!1!==c.geographic)){c=a.spatialReference;
d=r;g.pointToVector(l,d,g.SphericalECEFSpatialReference)||g.pointToVector(a.extent.center,d,g.SphericalECEFSpatialReference);var l=a.vertexAttributes.position,p=a.vertexAttributes.normal,k=new Float64Array(l.length),v=new Float32Array(p?p.length:0);g.computeLinearTransformation(g.SphericalECEFSpatialReference,d,h,g.SphericalECEFSpatialReference);t.mat4d.toMat3(h,y);var x=t.mat3d.multiplyVec3(y,b,e);x[3]=b[3];n.projectToECEF(l,c,k);p&&n.projectNormalToECEF(p,l,k,c,v);u(k,x,d);n.projectFromECEF(k,l,
c);p&&(u(v,x),n.projectNormalFromECEF(v,l,k,c,p))}else c=r,g.pointToVector(l,c,a.spatialReference)||(d=a.extent.center,c[0]=d.x,c[1]=d.y,c[2]=d.z,m.error("Failed to project specified origin (wkid:"+l.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+"). Using mesh extent.center instead")),u(a.vertexAttributes.position,b,c),u(a.vertexAttributes.normal,b);a.clearCache()}};b.axisAngleFrom=function(a,b,c){t.vec3d.set(a,c);c[3]=b;return c};b.axisAngleMultiply=function(a,
b,c){t.quat4d.fromAngleAxis(a[3],a,d);t.quat4d.fromAngleAxis(b[3],b,l);t.quat4d.multiply(l,d,d);t.quat4d.toAngleAxis(d,c);return c};var x=t.vec3d.create(),e=t.vec4d.create(),d=t.quat4d.create(),l=t.quat4d.create(),h=t.mat4d.create(),y=t.mat3d.create(),z=[0,0,0],r=[0,0,0]})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,k,n,t,g,u,m,x,e){function d(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}k(b,a);l=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var d={};Array.isArray(a)?(d.points=a,d.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(d.points=a.points),a.spatialReference&&(d.spatialReference=
a.spatialReference),a.hasZ&&(d.hasZ=a.hasZ),a.hasM&&(d.hasM=a.hasM)):d.spatialReference=a;if(a=d.points&&d.points[0])void 0===d.hasZ&&void 0===d.hasM?(d.hasZ=2<a.length,d.hasM=!1):void 0===d.hasZ?d.hasZ=3<a.length:void 0===d.hasM&&(d.hasM=3<a.length);return d};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new u,e=this.hasZ,h=this.hasM,c=e?3:2,f=a[0],l=d(Math.min),g=d(Math.max),m=f[0],k=f[1],n=f[0],f=f[1],t,x,y,O,U=0,Y=a.length;U<Y;U++){var R=
a[U],S=R[0],X=R[1],m=l(m,S),k=l(k,X),n=g(n,S),f=g(f,X);e&&2<R.length&&(S=R[2],t=l(t,S),y=g(y,S));h&&R.length>c&&(R=R[c],x=l(x,R),O=g(O,R))}b.xmin=m;b.ymin=k;b.xmax=n;b.ymax=f;b.spatialReference=this.spatialReference;e?(b.zmin=t,b.zmax=y):(b.zmin=null,b.zmax=null);h?(b.mmin=x,b.mmax=O):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b,d,e){b.points=t.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();e.updateSupportFromPoint(this,
a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:t.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new l(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},d=2;this.hasZ&&(b.z=a[2],d=3);this.hasM&&(b.m=a[d]);return new x(b)};b.prototype.removePoint=function(a){if(!this._validateInputs(a))return null;
this.clearCache();return new x(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();e.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};n([g.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);n([g.property({dependsOn:["cache"]})],
b.prototype,"extent",null);n([g.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);n([g.writer("points")],b.prototype,"writePoints",null);return b=l=n([g.subclass("esri.geometry.Multipoint")],b);var l}(g.declared(m));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.updateSupportFromPoint=function(a,b,t){void 0===t&&(t=!1);var g=
a.hasM,k=a.hasZ;Array.isArray(b)?4!==b.length||g||k?3===b.length&&t&&!g?(k=!0,g=!1):3===b.length&&g&&k&&(k=g=!1):k=g=!0:(k=!k&&b.hasZ&&(!g||b.hasM),g=!g&&b.hasM&&(!k||b.hasZ));a.hasZ=k;a.hasM=g}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,k,n,t,g,u,m,x,e,d,l,h,y,z,r){function v(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var p=v(Math.min),c=v(Math.max);a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}k(b,a);f=b;b.createEllipse=function(a){var b=a.center.x,c=a.center.y,d=a.center.z,e=a.center.m,h=a.center.hasZ,l=a.center.hasM,g=a.longAxis,m=a.shortAxis,p=a.numberOfPoints;a=a.view;for(var k=[],n=2*Math.PI/p,q=h?3:2,r=0;r<p;r++){var v=
a.toMap(g*Math.cos(r*n)+b,m*Math.sin(r*n)+c),v=[v.x,v.y];h&&(v[2]=d);l&&(v[q]=e);k.push(v)}k.push(k[0]);return new f({rings:[k],spatialReference:a.spatialReference})};b.createCircle=function(a){return f.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,
a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var e=a.zmin+.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(e);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new f(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,f,h=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),d=a.hasZ,f=a.hasM):c=a;c=c||[];b=b||e.WGS84;
c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(h=c[0]&&c[0][0])void 0===d&&void 0===f?(d=2<h.length,f=!1):void 0===d?d=!f&&3<h.length:void 0===f&&(f=!d&&3<h.length);return{rings:c,spatialReference:b,hasZ:d,hasM:f}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=d.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new x;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,d=this.spatialReference,e=this.rings,f=a?3:2;if(!e.length||!e[0].length)return null;for(var h=e[0][0],l=h[0],h=h[1],g=e[0][0],m=g[0],g=g[1],k=void 0,n=void 0,q=void 0,r=void 0,v=[],t=0;t<e.length;t++){for(var x=e[t],w=x[0],y=w[0],w=w[1],z=x[0],L=z[0],z=z[1],J=void 0,I=void 0,N=void 0,T=void 0,W=0;W<x.length;W++){var G=x[W],aa=G[0],ea=G[1],l=p(l,aa),h=p(h,ea),m=c(m,aa),g=c(g,ea),y=p(y,aa),w=p(w,
ea),L=c(L,aa),z=c(z,ea);a&&2<G.length&&(aa=G[2],k=p(k,aa),n=c(n,aa),J=p(J,aa),I=c(I,aa));b&&G.length>f&&(T=G[f],q=p(k,T),r=c(n,T),N=p(J,T),T=c(I,T))}v.push(new u({xmin:y,ymin:w,zmin:J,mmin:N,xmax:L,ymax:z,zmax:I,mmax:T,spatialReference:d}))}e=new u;e.xmin=l;e.ymin=h;e.xmax=m;e.ymax=g;e.spatialReference=d;a&&(e.zmin=k,e.zmax=n);b&&(e.mmin=q,e.mmax=r);e.cache._partwise=1<v.length?v:null;return e},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return y.isSelfIntersecting(this.rings)},
enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.rings=t.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],e=0,f=a.length;e<f;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new f;a.spatialReference=this.spatialReference;a.rings=t.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;
z.canProject(a,this.spatialReference)&&(a=z.project(a,this.spatialReference));return l.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return h.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new x(a[0],a[1],a[2],void 0,this.spatialReference):
c&&!b?new x(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new x(a[0],a[1],a[2],a[3],this.spatialReference):new x(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();r.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new x(this.rings[a].splice(b,1)[0],
this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new x(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();r.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>
a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};n([g.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);n([g.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",null);n([g.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);n([g.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);n([g.property({type:[[[Number]]],
json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);n([g.writer("rings")],b.prototype,"writePaths",null);return b=f=n([g.subclass("esri.geometry.Polygon")],b);var f}(g.declared(m));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports","../support/coordsUtils"],function(a,b,k){function n(a,b){if(!a||!a.length)return null;for(var m=[],e=[],d=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,
-Infinity],l=0,h=a.length;l<h;l++){var k=t(a[l],b,d);k&&e.push(k)}e.sort(function(a,d){var e=a[2]-d[2];0===e&&b&&(e=a[4]-d[4]);return e});e.length&&(l=6*e[0][2],m[0]=e[0][0]/l,m[1]=e[0][1]/l,b&&(l=6*e[0][4],m[2]=0!==l?e[0][3]/l:0),m[0]<d[0]||m[0]>d[1]||m[1]<d[2]||m[1]>d[3]||b&&(m[2]<d[4]||m[2]>d[5]))&&(m.length=0);if(!m.length)if(a=a[0]&&a[0].length?g(a[0],b):null)m[0]=a[0],m[1]=a[1],b&&2<a.length&&(m[2]=a[2]);else return null;return m}function t(a,b,g){for(var e=0,d=0,l=0,h=0,m=0,k=0,n=a.length-
1;k<n;k++){var v=a[k],p=v[0],c=v[1],f=v[2],q=a[k+1],u=q[0],t=q[1],x=q[2],D=p*t-u*c,h=h+D,e=e+(p+u)*D,d=d+(c+t)*D;b&&2<v.length&&2<q.length&&(D=p*x-u*f,l+=(f+x)*D,m+=D);p<g[0]&&(g[0]=p);p>g[1]&&(g[1]=p);c<g[2]&&(g[2]=c);c>g[3]&&(g[3]=c);b&&(f<g[4]&&(g[4]=f),f>g[5]&&(g[5]=f))}0<h&&(h*=-1);0<m&&(m*=-1);if(!h)return null;a=[e,d,.5*h];b&&(a[3]=l,a[4]=.5*m);return a}function g(a,b){for(var g=b?[0,0,0]:[0,0],e=b?[0,0,0]:[0,0],d=0,l=0,h=0,m=0,n=0,r=a.length;n<r-1;n++){var v=a[n],p=a[n+1];v&&p&&(g[0]=v[0],
g[1]=v[1],e[0]=p[0],e[1]=p[1],b&&2<v.length&&2<p.length&&(g[2]=v[2],e[2]=p[2]),length=k.getLength(g,e))&&(d+=length,v=k.getMidpoint(v,p),l+=length*v[0],h+=length*v[1],b&&2<v.length&&(m+=length*v[2]))}return 0<d?b?[l/d,h/d,m/d]:[l/d,h/d]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?n(a.rings,a.hasZ):null};
b.ringsCentroid=n;b.lineCentroid=g})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/zmUtils".split(" "),function(a,b,k,n,t,g,u,m,x,e,d){function l(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}var h=l(Math.min),y=l(Math.max);a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||
this;b.paths=[];b.type="polyline";return b}k(b,a);l=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,h,g=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,h=a.hasM):c=a;c=c||[];b=b||e.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(g=c[0]&&c[0][0])void 0===d&&void 0===h?(d=2<g.length,h=!1):void 0===d?d=!h&&3<g.length:void 0===h&&(h=!d&&3<g.length);return{paths:c,spatialReference:b,hasZ:d,hasM:h}};
Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,d=this.spatialReference,e=this.paths,g=a?3:2;if(!e.length||!e[0].length)return null;for(var l=e[0][0],m=l[0],l=l[1],k=e[0][0],n=k[0],k=k[1],r=void 0,v=void 0,t=void 0,x=void 0,z=[],R=0;R<e.length;R++){for(var S=e[R],X=S[0],M=X[0],X=X[1],K=S[0],V=K[0],K=K[1],Q=void 0,Z=void 0,P=void 0,H=void 0,L=0;L<S.length;L++){var J=S[L],I=J[0],N=J[1],m=h(m,I),l=h(l,N),n=y(n,I),k=y(k,N),M=h(M,I),X=h(X,N),V=y(V,I),K=y(K,N);a&&
2<J.length&&(I=J[2],r=h(r,I),v=y(v,I),Q=h(Q,I),Z=y(Z,I));b&&J.length>g&&(H=J[g],t=h(r,H),x=y(v,H),P=h(Q,H),H=y(Z,H))}z.push(new u({xmin:M,ymin:X,zmin:Q,mmin:P,xmax:V,ymax:K,zmax:Z,mmax:H,spatialReference:d}))}e=new u;e.xmin=m;e.ymin=l;e.xmax=n;e.ymax=k;e.spatialReference=d;a&&(e.zmin=r,e.zmax=v);b&&(e.mmin=t,e.mmax=x);e.cache._partwise=1<z.length?z:null;return e},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,d,e){b.paths=t.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();
var b=this.paths,d=b.length;if(Array.isArray(a[0]))b[d]=a.concat();else{for(var e=[],h=0,g=a.length;h<g;h++)e[h]=a[h].toArray();b[d]=e}return this}};b.prototype.clone=function(){var a=new l;a.spatialReference=this.spatialReference;a.paths=t.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new x(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new x(a[0],
a[1],void 0,a[2],this.spatialReference):b&&c?new x(a[0],a[1],a[2],a[3],this.spatialReference):new x(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,e){if(!this._validateInputs(a,b,!0))return this;this.clearCache();d.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[a].splice(b,0,e);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new x(a,
b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new x(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,e){if(!this._validateInputs(a,b))return this;this.clearCache();d.updateSupportFromPoint(this,e);Array.isArray(e)||(e=e.toArray());this.paths[a][b]=e;return this};b.prototype._validateInputs=function(a,b,d){void 0===d&&(d=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],d&&
(0>b||b>a.length)||!d&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};n([g.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);n([g.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);n([g.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);n([g.writer("paths")],b.prototype,"writePaths",null);return b=l=n([g.subclass("esri.geometry.Polyline")],b);var l}(g.declared(m));a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/ScreenPoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,b,k,n,t,g){return function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;return b}k(b,a);u=b;b.prototype.normalizeCtorArgs=function(a,b){return"number"===typeof a?{x:a,y:b}:Array.isArray(a)?{x:a[0],y:a[1]}:
a};b.prototype.clone=function(){return new u({x:this.x,y:this.y,z:this.z})};b.prototype.toArray=function(){return null==this.z?[this.x,this.y]:[this.x,this.y,this.z]};n([g.property({type:Number})],b.prototype,"x",void 0);n([g.property({type:Number})],b.prototype,"y",void 0);n([g.property({type:Number})],b.prototype,"z",void 0);return b=u=n([g.subclass("esri.geometry.ScreenPoint")],b);var u}(g.declared(t))})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(a,b,k,n,t,g,u){function m(a){if(a){if(void 0!==a.x&&void 0!==a.y)return t.fromJSON(a);if(void 0!==a.paths)return u.fromJSON(a);if(void 0!==a.rings)return g.fromJSON(a);if(void 0!==a.points)return n.fromJSON(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return k.fromJSON(a)}return null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(d){console.warn(d.stack)}return m(a)};
b.fromJSON=m;b.getJsonType=function(a){return a instanceof t?"esriGeometryPoint":a instanceof u?"esriGeometryPolyline":a instanceof g?"esriGeometryPolygon":a instanceof k?"esriGeometryEnvelope":a instanceof n?"esriGeometryMultipoint":null};var x={esriGeometryPoint:t,esriGeometryPolyline:u,esriGeometryPolygon:g,esriGeometryEnvelope:k,esriGeometryMultipoint:n};b.getGeometryType=function(a){return a&&x[a]||null}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ../lib/glMatrix ./mathUtils".split(" "),
function(a,b,k,n,t,g,u){function m(a,d,e,g){var h,l;a instanceof k&&d instanceof k&&(e=d.longitude,g=d.latitude,l=a.latitude,h=a.longitude);a=u.deg2rad(l);g=u.deg2rad(g);h=u.deg2rad(h);d=u.deg2rad(e);e=Math.sin((a-g)/2);h=Math.sin((h-d)/2);e=2*u.asin(Math.sqrt(e*e+Math.cos(a)*Math.cos(g)*h*h))*b.earthRadius;return Math.round(1E4*e)/1E4}function x(a,d,e){a=e/b.earthRadius;d=u.deg2rad(d);a=Math.sin(a/2);d=Math.cos(d);d=2*u.asin(Math.sqrt(a*a/(d*d)));return u.rad2deg(d)}function e(a,d,e){return u.rad2deg(e/
b.earthRadius)}function d(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215;b.earthRadius=b.wgs84Radius;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;var l=new k(0,0,
n.WGS84);b.getGreatCircleDistance=m;b.getGreatCircleSpanAt=function(a,b,d){var e=b.spatialReference,h=new k(b.x,a.y,e),g=new k(d.x,a.y,e);b=new k(a.x,b.y,e);a=new k(a.x,d.y,e);return{lon:m(h,g),lat:m(b,a)}};b.getLonDeltaForDistance=x;b.getLatDeltaForDistance=e;b.getLatLonDeltaForDistance=function(a,b,d){return{lat:e(a,b,d),lon:x(a,b,d)}};b.getMaxCameraAltitude=function(a){a=u.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,d){d=u.deg2rad(d/2);return 2*
u.acos((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(d)-Math.sqrt(Math.pow(Math.cos(d)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*b.earthRadius))*b.earthRadius};b.computeCarthesianDistance=function(a,d){function e(a){var d=u.deg2rad(a.latitude),e=u.deg2rad(a.longitude),c=Math.cos(d);a=b.earthRadius+(a.z||0);return[Math.cos(e)*c*a,Math.sin(d)*a,-Math.sin(e)*c*a]}a=e(a);d=e(d);d=[d[0]-a[0],d[1]-a[1],d[2]-a[2]];return Math.sqrt(d[0]*
d[0]+d[1]*d[1]+d[2]*d[2])};b.longitudeToTimezone=d;b.positionToTimezone=function(a,b){a.spatialReference.wkid!==n.WGS84.wkid?t.webMercatorToGeographic(a,!1,l):(l.x=a.x,l.y=a.y);l.z=a.z;b||(b={hours:0,minutes:0,seconds:0});b.hours=d(l.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,d){d=d||b.earthRadius;a=g.vec3d.dot(a,a);return Math.sqrt(Math.abs(a-d*d))}})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var g=a[b],k=a[b+1];a=a[b+2];return Math.sqrt(g*g+k*k+a*a)};a.normalize=function(a,b){var g=a[b],k=a[b+1],m=a[b+2],g=1/Math.sqrt(g*g+k*k+m*m);a[b]*=g;a[b+1]*=g;a[b+2]*=g};a.scale=function(a,b,g){a[b]*=g;a[b+1]*=g;a[b+2]*=g};a.add=function(a,b,g,k,m,x){void 0===x&&(x=b);m=m||a;m[x]=a[b]+g[k];m[x+1]=a[b+1]+g[k+1];m[x+2]=a[b+2]+g[k+2]};a.subtract=function(a,b,g,k,m,x){void 0===x&&(x=b);m=m||
a;m[x]=a[b]-g[k];m[x+1]=a[b+1]-g[k+1];m[x+2]=a[b+2]-g[k+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../geometry/support/aaBoundingBox ../lib/glMatrix ./dito ./geometryUtils".split(" "),function(a,b,k,n,t,g){function u(a,b,h){return{center:n.vec3d.createFrom(a[0],a[1],a[2]),halfSize:d.createFrom(b[0],b[1],b[2]),quaternion:e.createFrom(h[0],h[1],h[2],h[3])}}function m(a,b){var d=g.plane.distance(b,a.center);a=x(a,b);
return d>a?1:d<-a?-1:0}function x(a,b){e.conjugate(a.quaternion,l);e.multiplyVec3(l,b,h);a=a.halfSize;return Math.abs(h[0]*a[0])+Math.abs(h[1]*a[1])+Math.abs(h[2]*a[2])}Object.defineProperty(b,"__esModule",{value:!0});var e=n.quat4,d=n.vec3;a=n.mat3d;var l=e.create(),h=d.create(),y=d.create(),z=a.create();a=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=0;b<a;b++)this.obbs[b]={center:new Float64Array(this.buffer,56*b+0,3),halfSize:new Float32Array(this.buffer,
56*b+24,3),quaternion:new Float32Array(this.buffer,56*b+36,4)}}}();b.ObbArray=a;b.create=u;b.clone=function(a){return u(a.center,a.halfSize,a.quaternion)};b.set=function(a,b){n.vec3d.set(a.center,b.center);n.vec3.set(a.halfSize,b.halfSize);n.quat4.set(a.quaternion,b.quaternion)};b.compute=function(a,b){b||(b=u([0,0,0],[-1,-1,-1],[0,0,0,1]));t.computeOBB(a,b);return b};b.intersectPlane=m;b.toAaBoundingBox=function(a,b){b||(b=k.create());var d=e.toMat3(a.quaternion,z),c=a.halfSize[0]*Math.abs(d[0])+
a.halfSize[1]*Math.abs(d[3])+a.halfSize[2]*Math.abs(d[6]),f=a.halfSize[0]*Math.abs(d[1])+a.halfSize[1]*Math.abs(d[4])+a.halfSize[2]*Math.abs(d[7]),d=a.halfSize[0]*Math.abs(d[2])+a.halfSize[1]*Math.abs(d[5])+a.halfSize[2]*Math.abs(d[8]);b[0]=a.center[0]-c;b[1]=a.center[1]-f;b[2]=a.center[2]-d;b[3]=a.center[0]+c;b[4]=a.center[1]+f;b[5]=a.center[2]+d;return b};b.minimumDistancePlane=function(a,b){var d=g.plane.distance(b,a.center);a=x(a,b);return d-a};b.maximumDistancePlane=function(a,b){var d=g.plane.distance(b,
a.center);a=x(a,b);return d+a};b.isVisible=function(a,b){return 0>=m(a,b[0])&&0>=m(a,b[1])&&0>=m(a,b[2])&&0>=m(a,b[3])&&0>=m(a,b[4])&&0>=m(a,b[5])};b.intersectLine=function(a,b,d,c){void 0===c&&(c=0);e.conjugate(a.quaternion,l);n.vec3.subtract(b,a.center,h);b=e.multiplyVec3(l,h,h);d=e.multiplyVec3(l,d,y);for(var f=-Infinity,g=Infinity,m=0;3>m;m++)if(1E-6<Math.abs(d[m]))var k=(c+a.halfSize[m]-b[m])/d[m],p=(-c-a.halfSize[m]-b[m])/d[m],f=Math.max(f,Math.min(k,p)),g=Math.min(g,Math.max(k,p));else if(b[m]>
a.halfSize[m]+c||b[m]<-a.halfSize[m]-c)return!1;return f<=g}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(a,b,k,n){function t(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function g(a){return a[0]>=a[3]?0:a[3]-a[0]}function u(a){return a[1]>=a[4]?0:a[4]-a[1]}function m(a){return a[2]>=a[5]?0:a[5]-a[2]}function x(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function e(a){return 6===
a.length}Object.defineProperty(b,"__esModule",{value:!0});b.create=t;b.fromValues=function(a,b,e,g,m,k){return[a,b,e,g,m,k]};b.fromExtent=function(a,b){void 0===b&&(b=t());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new k({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new k({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,e){void 0===
e&&(e=t());e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=b[0];e[4]=b[1];e[5]=b[2];return e};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(a,b,h){void 0===h&&(h=a);e(b)?(h[0]=Math.min(a[0],b[0]),h[1]=Math.min(a[1],b[1]),h[2]=Math.min(a[2],b[2]),h[3]=Math.max(a[3],b[3]),h[4]=Math.max(a[4],b[4]),h[5]=Math.max(a[5],b[5])):n.is(b)?(h[0]=Math.min(a[0],b[0]),h[1]=Math.min(a[1],
b[1]),h[3]=Math.max(a[3],b[2]),h[4]=Math.max(a[4],b[3])):2===b.length?(h[0]=Math.min(a[0],b[0]),h[1]=Math.min(a[1],b[1]),h[3]=Math.max(a[3],b[0]),h[4]=Math.max(a[4],b[1])):3===b.length&&(h[0]=Math.min(a[0],b[0]),h[1]=Math.min(a[1],b[1]),h[2]=Math.min(a[2],b[2]),h[3]=Math.max(a[3],b[0]),h[4]=Math.max(a[4],b[1]),h[5]=Math.max(a[5],b[2]));return h};b.expandWithBuffer=function(a,b,e,g,m){void 0===m&&(m=a);var d=a[0],h=a[1],l=a[2],c=a[3],f=a[4];a=a[5];for(var k=0;k<g;k++)d=Math.min(d,b[e+3*k]),h=Math.min(h,
b[e+3*k+1]),l=Math.min(l,b[e+3*k+2]),c=Math.max(c,b[e+3*k]),f=Math.max(f,b[e+3*k+1]),a=Math.max(a,b[e+3*k+2]);m[0]=d;m[1]=h;m[2]=l;m[3]=c;m[4]=f;m[5]=a;return m};b.expandWithNestedArray=function(a,b,e,g){void 0===g&&(g=a);var d=b.length,h=a[0],l=a[1],m=a[2],c=a[3],f=a[4];a=a[5];if(e)for(e=0;e<d;e++){var k=b[e],h=Math.min(h,k[0]),l=Math.min(l,k[1]),m=Math.min(m,k[2]),c=Math.max(c,k[0]),f=Math.max(f,k[1]);a=Math.max(a,k[2])}else for(e=0;e<d;e++)k=b[e],h=Math.min(h,k[0]),l=Math.min(l,k[1]),c=Math.max(c,
k[0]),f=Math.max(f,k[1]);g[0]=h;g[1]=l;g[2]=m;g[3]=c;g[4]=f;g[5]=a;return g};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=g;b.depth=u;b.height=m;b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+g(a)/2;b[1]=a[1]+u(a)/2;b[2]=a[2]+m(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=g(a);b[1]=u(a);b[2]=m(a);return b};b.maximumDimension=function(a){return Math.max(g(a),m(a),u(a))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=
a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,e){return b[0]>=a[0]-e&&b[1]>=a[1]-e&&b[2]>=a[2]-e&&b[0]<=a[3]+e&&b[1]<=a[4]+e&&b[2]<=a[5]+e};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};b.offset=function(a,b,e,g,m){void 0===m&&(m=a);m[0]=
a[0]+b;m[1]=a[1]+e;m[2]=a[2]+g;m[3]=a[3]+b;m[4]=a[4]+e;m[5]=a[5]+g;return m};b.setMin=function(a,b,e){void 0===e&&(e=a);e[0]=b[0];e[1]=b[1];e[2]=b[2];e!==a&&(e[3]=a[3],e[4]=a[4],e[5]=a[5]);return e};b.setMax=function(a,b,e){void 0===e&&(e=a);e[3]=b[0];e[4]=b[1];e[5]=b[2];e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2]);return a};b.set=x;b.empty=function(a){return a?x(a,b.NEGATIVE_INFINITY):t(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=n.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};b.fromRect=
function(a,b){a[0]=b[0];a[1]=b[1];a[3]=b[2];a[4]=b[3];return a};b.is=e;b.isPoint=function(a){return 0===g(a)&&0===u(a)&&0===m(a)};b.equals=function(a,b,g){if(null==a||null==b)return a===b;if(!e(a)||!e(b))return!1;if(g)for(var d=0;d<a.length;d++){if(!g(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,
0,0,0,0,0]})},"esri/views/3d/support/dito":function(){define(["require","exports","../lib/glMatrix"],function(a,b,k){function n(a,b,c,d,e,f){if(!(1E-6>k.vec3d.length2(b)))for(k.vec3d.cross(c,b,w),k.vec3d.cross(d,b,A),k.vec3d.cross(e,b,B),t(a,b,q),E[1]=q[0],D[1]=q[1],C[1]=D[1]-E[1],c=[c,d,e],d=[w,A,B],e=0;3>e;++e){t(a,c[e],q);E[0]=q[0];D[0]=q[1];t(a,d[e],q);E[2]=q[0];D[2]=q[1];C[0]=D[0]-E[0];C[2]=D[2]-E[2];var g=x(C);g<f.quality&&(k.vec3d.set(c[e],f.b0),k.vec3d.set(b,f.b1),k.vec3d.set(d[e],f.b2),f.quality=
g)}}function t(a,b,c){var d=a.data,e=a.offsetIdx;a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;e<d.length;e+=a){var f=d[e]*b[0]+d[e+1]*b[1]+d[e+2]*b[2];c[0]=Math.min(c[0],f);c[1]=Math.max(c[1],f)}}function g(a,b,c){k.vec3d.set(a,c.center);k.vec3d.scale(b,.5,c.halfSize);k.quat4.identity(c.quaternion)}function u(a,b,c,d,e,f){t(a,b,q);e[0]=q[0];f[0]=q[1];t(a,c,q);e[1]=q[0];f[1]=q[1];t(a,d,q);e[2]=q[0];f[2]=q[1]}function m(a,b,c,d,e,f,g){K[0]=a[0];K[3]=a[1];K[6]=a[2];K[1]=
b[0];K[4]=b[1];K[7]=b[2];K[2]=c[0];K[5]=c[1];K[8]=c[2];k.quat4.fromRotationMatrix(K,g.quaternion);k.vec3d.add(d,e,V);k.vec3d.scale(V,.5);k.vec3d.scale(a,V[0],g.center);k.vec3d.scale(b,V[1],M);k.vec3d.add(g.center,M);k.vec3d.scale(c,V[2],M);k.vec3d.add(g.center,M);k.vec3d.scale(f,.5,g.halfSize)}function x(a){return a[0]*a[1]+a[0]*a[2]+a[1]*a[2]}Object.defineProperty(b,"__esModule",{value:!0});var e=k.vec3d.create(),d=k.vec3d.create();b.computeOBB=function(a,b){var t=a.data.length/a.strideIdx;if(!(0>=
t)){var w=new Q(a);k.vec3d.add(w.minProj,w.maxProj,e);k.vec3d.scale(e,.5);k.vec3d.subtract(w.maxProj,w.minProj,d);var A=x(d),B=new Z;B.quality=A;14>t&&(a={data:new Float64Array(w.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var D=k.vec3d.create(),C=k.vec3d.create(),H=k.vec3d.create(),t=k.vec3d.create(),P=k.vec3d.create(),E=k.vec3d.create(),M=k.vec3d.create(),K;K=a;for(var V=k.vec3d.dist2(w.maxVert[0],w.minVert[0]),ca=0,ba=1;7>ba;++ba){var fa=k.vec3d.dist2(w.maxVert[ba],w.minVert[ba]);fa>V&&(V=
fa,ca=ba)}k.vec3d.set(w.minVert[ca],D);k.vec3d.set(w.maxVert[ca],C);if(1E-6>k.vec3d.dist2(D,C))K=1;else{k.vec3d.subtract(D,C,t);k.vec3d.normalize(t);w=K.data;V=K.strideIdx;ca=Number.NEGATIVE_INFINITY;ba=0;for(fa=K.offsetIdx;fa<w.length;fa+=V){k.vec3d.set3(w[fa]-D[0],w[fa+1]-D[1],w[fa+2]-D[2],f);var da=t[0]*f[0]+t[1]*f[1]+t[2]*f[2],ha=k.vec3d.length2(t),da=k.vec3d.length2(f)-da*da/ha;da>ca&&(ca=da,ba=fa)}k.vec3d.set3(w[ba],w[ba+1],w[ba+2],H);1E-6>ca?K=2:(k.vec3d.subtract(C,H,P),k.vec3d.normalize(P),
k.vec3d.subtract(H,D,E),k.vec3d.normalize(E),k.vec3d.cross(P,t,M),k.vec3d.normalize(M),n(K,M,t,P,E,B),K=0)}switch(K){case 1:g(e,d,b);return;case 2:A=a;k.vec3d.set(t,O);Math.abs(t[0])>Math.abs(t[1])&&Math.abs(t[0])>Math.abs(t[2])?O[0]=0:Math.abs(t[1])>Math.abs(t[2])?O[1]=0:O[2]=0;1E-6>k.vec3d.length2(O)&&(O[0]=O[1]=O[2]=1);k.vec3d.cross(t,O,U);k.vec3d.normalize(U);k.vec3d.cross(t,U,Y);k.vec3d.normalize(Y);u(A,t,U,Y,R,S);k.vec3d.subtract(S,R,X);m(t,U,Y,R,S,X,b);return}K=a;w=l;V=h;ca=q;ba=K.data;da=
K.offsetIdx;fa=K.strideIdx;k.vec3d.set3(ba[da],ba[da+1],ba[da+2],V);k.vec3d.set(V,w);ca[0]=k.vec3d.dot(F,M);ca[1]=ca[0];for(da+=fa;da<ba.length;da+=fa)k.vec3d.set3(ba[da],ba[da+1],ba[da+2],F),ha=k.vec3d.dot(F,M),ha<ca[0]&&(ca[0]=ha,k.vec3d.set(F,V)),ha>ca[1]&&(ca[1]=ha,k.vec3d.set(F,w));M=k.vec3.dot(D,M);q[1]-1E-6<=M&&(w[0]=void 0);q[0]+1E-6>=M&&(V[0]=void 0);void 0!==l[0]&&(k.vec3d.subtract(l,D,y),k.vec3d.normalize(y),k.vec3d.subtract(l,C,z),k.vec3d.normalize(z),k.vec3d.subtract(l,H,r),k.vec3d.normalize(r),
k.vec3d.cross(z,t,v),k.vec3d.normalize(v),k.vec3d.cross(r,P,p),k.vec3d.normalize(p),k.vec3d.cross(y,E,c),k.vec3d.normalize(c),n(K,v,t,z,y,B),n(K,p,P,r,z,B),n(K,c,E,y,r,B));void 0!==h[0]&&(k.vec3d.subtract(h,D,y),k.vec3d.normalize(y),k.vec3d.subtract(h,C,z),k.vec3d.normalize(z),k.vec3d.subtract(h,H,r),k.vec3d.normalize(r),k.vec3d.cross(z,t,v),k.vec3d.normalize(v),k.vec3d.cross(r,P,p),k.vec3d.normalize(p),k.vec3d.cross(y,E,c),k.vec3d.normalize(c),n(K,v,t,z,y,B),n(K,p,P,r,z,B),n(K,c,E,y,r,B));u(a,B.b0,
B.b1,B.b2,R,S);a=k.vec3d.create();k.vec3d.subtract(S,R,a);B.quality=x(a);B.quality<A?m(B.b0,B.b1,B.b2,R,S,a,b):g(e,d,b)}};var l=k.vec3d.create(),h=k.vec3d.create(),y=k.vec3d.create(),z=k.vec3d.create(),r=k.vec3d.create(),v=k.vec3d.create(),p=k.vec3d.create(),c=k.vec3d.create(),f=k.vec3d.create(),q=k.vec2d.create(),w=k.vec3d.create(),A=k.vec3d.create(),B=k.vec3d.create(),D=k.vec3d.create(),E=k.vec3d.create(),C=k.vec3d.create(),F=k.vec3d.create(),O=k.vec3d.create(),U=k.vec3d.create(),Y=k.vec3d.create(),
R=k.vec3d.create(),S=k.vec3d.create(),X=k.vec3d.create(),M=k.vec3d.create(),K=k.mat3d.create(),V=k.vec3d.create(),Q=function(){return function(a){this.minVert=[];this.maxVert=[];this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(b+=56;7>this.minVert.length;)this.minVert.push(new Float64Array(this.buffer,b,3)),b+=24;for(;7>this.maxVert.length;)this.maxVert.push(new Float64Array(this.buffer,b,3)),b+=24;for(b=
0;7>b;++b)this.minProj[b]=Number.POSITIVE_INFINITY,this.maxProj[b]=Number.NEGATIVE_INFINITY;for(var c=[],d=[],e=a.data,f=a.strideIdx,b=a.offsetIdx;b<e.length;b+=f)a=e[b],a<this.minProj[0]&&(this.minProj[0]=a,c[0]=b),a>this.maxProj[0]&&(this.maxProj[0]=a,d[0]=b),a=e[b+1],a<this.minProj[1]&&(this.minProj[1]=a,c[1]=b),a>this.maxProj[1]&&(this.maxProj[1]=a,d[1]=b),a=e[b+2],a<this.minProj[2]&&(this.minProj[2]=a,c[2]=b),a>this.maxProj[2]&&(this.maxProj[2]=a,d[2]=b),a=e[b]+e[b+1]+e[b+2],a<this.minProj[3]&&
(this.minProj[3]=a,c[3]=b),a>this.maxProj[3]&&(this.maxProj[3]=a,d[3]=b),a=e[b]+e[b+1]-e[b+2],a<this.minProj[4]&&(this.minProj[4]=a,c[4]=b),a>this.maxProj[4]&&(this.maxProj[4]=a,d[4]=b),a=e[b]-e[b+1]+e[b+2],a<this.minProj[5]&&(this.minProj[5]=a,c[5]=b),a>this.maxProj[5]&&(this.maxProj[5]=a,d[5]=b),a=e[b]-e[b+1]-e[b+2],a<this.minProj[6]&&(this.minProj[6]=a,c[6]=b),a>this.maxProj[6]&&(this.maxProj[6]=a,d[6]=b);for(b=0;7>b;++b)a=c[b],k.vec3d.set3(e[a],e[a+1],e[a+2],this.minVert[b]),a=d[b],k.vec3d.set3(e[a],
e[a+1],e[a+2],this.maxVert[b])}}(),Z=function(){return function(){this.b0=k.vec3d.createFrom(1,0,0);this.b1=k.vec3d.createFrom(0,1,0);this.b2=k.vec3d.createFrom(0,0,1);this.quality=0}}()})},"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":function(){define(["require","exports","./ComponentUtils","./geometryDataUtils","../../../webgl/Util"],function(a,b,k,n,t){function g(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;
case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(b,u,e,d,l){void 0===e&&(e=null);void 0===d&&(d=a.DefaultOffsets);void 0===l&&(l=a.DefaultIndices);this.preinterleaved=!0;this.primitiveType="triangle";this._positionData=null;var h=t.getStride(u)/4,h=b.length/h;(this._hasDefaultIndices=l===a.DefaultIndices)&&(l=n.generateDefaultIndexArray(h));for(var h={},m=0;m<u.length;m++){var x=u[m],r=new (g(x.type))(b.buffer),
v=t.getBytesPerElement(x.type);h[x.name]={data:r,size:x.count,offsetIdx:x.offset/v,strideIdx:x.stride/v}}e&&(this._positionData=e,h.position={data:e.data,size:3,offsetIdx:0,strideIdx:3});this._id=n.getNewId();this._vertexData=b;this._vertexAttributes=h;this._layout=u;this._indexData=l;this._componentOffsets=k.createOffsets(d);this._gpuMemoryUsage=b.byteLength+(this._hasDefaultIndices?0:l.byteLength)}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0});a.prototype.toRenderData=function(){var a={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this._indexData.length,vertexData:this._vertexData,layout:this._layout};this._indexData=this._vertexData=null;
this._vertexAttributes={position:this._vertexAttributes.position};return a};a.prototype.getIndices=function(a){return"position"===a&&this._positionData?this._positionData.indices:this._indexData};a.prototype.getAttribute=function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage};a.DefaultOffsets=new Uint32Array(0);a.DefaultIndices=new Uint32Array(0);return a}()})},"esri/views/3d/webgl-engine/lib/ComponentUtils":function(){define(["require",
"exports","../../../../core/arrayUtils"],function(a,b,k){function n(a,b){if(null!=a){var c=a.isVisibleBit,d=a.data,e=8*d.BYTES_PER_ELEMENT;return b<d.length*e?h(c,d,b,e):!a.isVisibleBit}return!0}function t(a){return null===a.component?-1:a.component}function g(a,b,c,d,e){n(b,d)&&u(a,b,c,c[d],c[d+1]-1,e)}function u(a,b,c,d,e,g){c=(b=0<a.length?a[a.length-1]:null)?b.range[1]:-1;var f=b?b.options:null;c>=d||(c+1===d&&f===g?b.range[1]=e:a.push({range:[d,e],options:g}))}function m(a){void 0===a&&(a=!0);
return{isVisibleBit:!a,data:new Uint32Array(0)}}function x(a,b){return d(a,b,!0)}function e(a,b){return d(a,b,!1)}function d(a,b,c){var d=!1;a=a||z;d=a.isVisibleBit;a=a.data;b=y(b);var e=8*a.BYTES_PER_ELEMENT,g=a.length*e;c=c===d;if(0===a.length||0===b)d=!c;else if(g<b&&!c)d=!0;else{for(var h=r[e],g=r[0],l=0;l<a.length-1;l++)if(d=!c&&a[l]!==h||c&&a[l]!==g)return d;d=a.length-1;b=r[(b-1)%e+1];d=!c&&(a[d]&b)!==b||c&&(a[d]&b)!==g}return d}function l(a){return 0<a.length}function h(a,b,c,d){var e=c/d|
0;return 0!==(b[e]&1<<c-e*d)===a}function y(a){return Math.max(0,a.length-1)}Object.defineProperty(b,"__esModule",{value:!0});b.updateVisibility=function(a,b,c,d){if(c<y(b)){null==a&&(a=m());var e=a.isVisibleBit,f=a.data,g=8*f.BYTES_PER_ELEMENT,h=c/g|0,l=c-g*h;b=(y(b)-1)/g|0;var k=f;d=d===e;c<k.length*g||!d||(c=Math.max(h+1,Math.ceil(1.5*k.length)),c=Math.min(c,b+1),f=new Uint32Array(c),f.set(k));h<f.length&&(f[h]=f[h]&~(1<<l)|(d?1:0)<<l);a.data=f}return a};b.getVisibility=n;b.hideAllComponents=function(a){if(null==
a)a=m(!1);else{a.isVisibleBit=!0;for(var b=0;b<a.data.length;b++)a.data[b]=0}return a};b.unhideAllComponents=function(a){var b;if(null!=a)for(b=a,b.isVisibleBit=!1,a=0;a<b.data.length;a++)b.data[a]=0;return b};b.generateVisibleIndexRanges=function(a,b){var c;if(a)if(l(b))if(0===a.data.length)c=[],b=[[b[0],b[b.length-1]-1]],c=a.isVisibleBit?c:b;else{c=[];for(var d=a.isVisibleBit,e=a.data,g=8*e.BYTES_PER_ELEMENT,m=e.length*g,k=y(b),n=!1,p=0;p<m&&p<k;p++){var r=h(d,e,p,g);if(r!==n){var t=b[p];r?c.push([t,
0]):(n=c[c.length-1],n[1]=t-1);n=r}}a=!a.isVisibleBit;k>m&&a&&!n?c.push([b[m],b[k]-1]):n&&(n=c[c.length-1],n[1]=b[a?k:Math.min(k,m)]-1)}else c=[],c=a.isVisibleBit?c:null;else c=null;return c};b.addHighlight=function(a,b,c,d){a=a||[];b={component:b,options:c,id:d};a.push(b);b=t(b);for(c=a.length-1;0<c&&b<t(a[c-1]);)d=[a[c],a[c-1]],a[c-1]=d[0],a[c]=d[1],--c;return a};b.removeHighlight=function(a,b){return a?(a=a.filter(function(a){return a.id!==b}),0===a.length?null:a):a};b.generateHighlightedIndexRanges=
function(a,b,c){if(b){if(l(c)){for(var d=c[0],h=c[c.length-1]-1,m=[],k=!e(a,c),n=0;n<b.length;++n){var p=b[n].options,r=b[n].component;if(null!==r)g(m,a,c,r,p);else if(k)u(m,a,c,d,h,p);else for(r=0;r<y(c);++r)g(m,a,c,r,p)}return 0<m.length?m:null}var k=!a||!a.isVisibleBit;return k?b.map(function(a){return{range:null,options:a.options}}):null}return null};b.defaultVisibilities=m;b.isAllVisible=function(a,b){return!e(a,b)};b.isAllHidden=function(a,b){return!x(a,b)};b.hasVisible=x;b.hasHidden=e;var z=
m();b.createOffsets=function(a){return Array.isArray(a)?new Uint32Array(a):a};b.hasComponent=function(a,b){return b<y(a)};b.hasComponents=l;var r=[];for(a=0;65>a;a++)r.push(Math.pow(2,a)-1);b.componentCount=y;b.componentFind=function(a,b){a=k.binaryIndexOf(a,b,!0);return 0<=a?a:null}})},"esri/core/arrayUtils":function(){define(["require","exports"],function(a,b){function k(a,b,e){for(var d=a.length,g=0;g<d;g++)if(b.call(e,a[g],g,a))return g;return-1}function n(a,b,e){void 0===e&&(e=a.length);for(var d=
Math.max(0,u-5),g=-1,h=d;h<e;++h)if(a[h]===b){g=h;break}if(-1===g){for(h=0;h<d;++h)if(a[h]===b){g=h;break}if(-1===g)return}a[g]=a[e-1];a.pop();u=g;return b}function t(a,b){return-1===a.indexOf(b)}function g(a,b,e){return!a.some(b.bind(null,e))}Object.defineProperty(b,"__esModule",{value:!0});b.findIndex=k;b.find=function(a,b,e){for(var d=a.length,g=0;g<d;g++){var h=a[g];if(b.call(e,h,g,a))return h}};b.equals=function(a,b,e){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(e)for(var d=
0;d<a.length;d++){if(!e(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.difference=function(a,b,e){var d;e?(d=b.filter(g.bind(null,a,e)),a=a.filter(g.bind(null,b,e))):(d=b.filter(t.bind(null,a)),a=a.filter(t.bind(null,b)));return{added:d,removed:a}};b.intersect=function(a,b,e){return a&&b?e?a.filter(function(a){return-1<k(b,function(b){return e(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};b.constant=function(a,b){for(var e=Array(a),d=0;d<a;d++)e[d]=
b;return e};b.range=function(a,b){void 0===b&&(b=a,a=0);for(var e=Array(b-a),d=a;d<b;d++)e[d-a]=d;return e};b.binaryIndexOf=function(a,b,e){for(var d=a.length,g=0,h=d-1;g<h;){var k=g+Math.floor((h-g)/2);b>a[k]?g=k+1:h=k}h=a[g];return e?b>=a[d-1]?-1:h===b?g:g-1:h===b?g:-1};b.removeUnordered=n;b.removeUnorderedMany=function(a,b,e){void 0===e&&(e=a.length);var d=[];b.forEach(function(b){void 0!==n(a,b,e)&&(d.push(b),--e)});return d};var u=0;b.keysOfMap=function(a){var b=[];a.forEach(function(a,d){return b.push(d)});
return b};b.keysOfSet=function(a){var b=[];a.forEach(function(a){return b.push(a)});return b}})},"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var k=1,n=null;b.generateDefaultIndexArray=function(a){if(a>k||null==n){for(;a>k;)k*=2;n=new Uint32Array(k);for(var b=0;b<k;b++)n[b]=b}return new Uint32Array(n.buffer,0,a)};var t=0;b.getNewId=function(){return t++}})},"esri/views/webgl/Util":function(){define(["require",
"exports","../../core/tsSupport/assignHelper","../../core/Error"],function(a,b,k,n){return function(){function a(){}a.vertexCount=function(b,k){return b.vertexBuffers[k].size/a.getStride(b.layout[k])};a.getStride=function(a){return a[0].stride};a.getBytesPerElement=function(a){switch(a){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");}};a.addDescriptor=function(b,k,m,n,e,d){var g=
a.getBytesPerElement(n);if(0<b.length){var h=b[0].stride,t=h+g*m;b.forEach(function(a){return a.stride=t});b.push({name:k,count:m,type:n,offset:h,stride:t,normalized:e,divisor:d})}else b.push({name:k,count:m,type:n,offset:0,stride:g*m,normalized:e,divisor:d})};a.assertCompatibleVertexAttributeLocations=function(a,b){(a=a.locations===b.locations)||console.error("VertexAttributeLocations are incompatible");return a};a.hasAttribute=function(a,b){for(var g=0;g<a.length;g++)if(a[g].name===b)return!0;return!1};
a.findAttribute=function(a,b){for(var g=0;g<a.length;g++)if(a[g].name===b)return a[g];return null};a.copyFramebufferToTexture=function(a,b,k,n,e){void 0===e&&(e=0);var d=a.getBoundFramebufferObject(),g=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(k,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,e,k.descriptor.pixelFormat,n[0],n[1],n[2],n[3],0);a.gl.flush();a.bindFramebuffer(d);a.bindTexture(g,0)};a.assert=function(a,b){if(!a)throw new n(b);};a.setBaseInstanceOffset=function(a,b){var g={},n;for(n in a)g[n]=
a[n].map(function(a){return a.divisor?k({},a,{baseInstance:b}):a});return g};a.bindVertexBufferLayout=function(a,b,k,n,e){var d=a.gl,g=a.capabilities.instancing;a.bindBuffer(k);n.forEach(function(a){var h=b[a.name],k=(e?e:0+a.baseInstance?a.baseInstance:0)*a.stride;void 0===h&&console.error("There is no location for vertex attribute '"+a.name+"' defined.");a.baseInstance&&!a.divisor&&console.error("Vertex attribute '"+a.name+"' uses baseInstanceOffset without divisor.");if(4>=a.count)d.vertexAttribPointer(h,
a.count,a.type,a.normalized,a.stride,a.offset+k),d.enableVertexAttribArray(h),a.divisor&&0<a.divisor&&g&&g.vertexAttribDivisor(h,a.divisor);else if(9===a.count)for(var l=0;3>l;l++)d.vertexAttribPointer(h+l,3,a.type,a.normalized,a.stride,a.offset+12*l+k),d.enableVertexAttribArray(h+l),a.divisor&&0<a.divisor&&g&&g.vertexAttribDivisor(h+l,a.divisor);else if(16===a.count)for(l=0;4>l;l++)d.vertexAttribPointer(h+l,4,a.type,a.normalized,a.stride,a.offset+16*l+k),d.enableVertexAttribArray(h+l),a.divisor&&
0<a.divisor&&g&&g.vertexAttribDivisor(h+l,a.divisor);else console.error("Unsupported vertex attribute element count: "+a.count)})};a.unbindVertexBufferLayout=function(a,b,k,n){var e=a.gl;a.bindBuffer(k);n.forEach(function(a){var d=b[a.name];if(4>=a.count)e.disableVertexAttribArray(d);else if(9===a.count)for(a=0;3>a;a++)e.disableVertexAttribArray(d+a);else if(16===a.count)for(a=0;4>a;a++)e.disableVertexAttribArray(d+a);else console.error("Unsupported vertex attribute element count: "+a.count)});a.unbindBuffer(34962)};
return a}()})},"*noref":1}});
define("require exports ../../../core/promiseUtils ../../../geometry/SpatialReference ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ../lib/glMatrix ../support/meshProcessing ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/PreinterleavedGeometryData ../webgl-engine/lib/Util".split(" "),function(a,b,k,n,t,g,u,m,x,e,d,l){a=function(){function a(){}a.prototype.process=function(a){var b=[a.geometryBuffer];return k.resolve({result:this.transform(a,b),transferList:b})};a.prototype.transform=
function(a,b){var c=n.fromJSON(a.indexSR),f=n.fromJSON(a.vertexSR),k=n.fromJSON(a.renderSR),p=!1,r=0,v=[],y=a.obb?null:x.create([0,0,0],[-1,-1,-1],[0,0,0,1]);u.vec3d.set(a.center,h);h[2]+=a.elevationOffset;var z=u.mat4d.create();e.computeLinearTransformation(c,h,z,k);for(var C=0,F=a.geometryData;C<F.length;C++)for(var O=F[C],U=O.componentOffsets,Y=0,O=O.geometries;Y<O.length;Y++){var R=O[Y],S=a.layouts[r];++r;var X=t.interleaveGeometryBuffer(R,a.geometryBuffer,S,[{name:l.VertexAttrConstants.COLOR,
byteValue:255}],[l.VertexAttrConstants.NORMAL,l.VertexAttrConstants.NORMALCOMPRESSED,l.VertexAttrConstants.SYMBOLCOLOR,l.VertexAttrConstants.COMPONENTINDEX]),M=new d(new Float32Array(X),S),K=M.getAttribute(l.VertexAttrConstants.POSITION),V=g.reprojectPoints(K,a.center,a.elevationOffset,c,f,k);y&&this._updateObb(y,K,z);a.needNormals&&(K={normals:M.getAttribute(l.VertexAttrConstants.NORMALCOMPRESSED),positions:K,normalInd:M.getIndices(l.VertexAttrConstants.NORMALCOMPRESSED),positionInd:M.getIndices(l.VertexAttrConstants.POSITION)},
t.processAndInterleaveNormals(a.normalReferenceFrame,R,a.geometryBuffer,V.globalTrafo,K));(R=M.getAttribute(l.VertexAttrConstants.COMPONENTINDEX))&&this._createComponentNumbers(R,U);(M=M.getAttribute(l.VertexAttrConstants.COLOR))&&!p&&(p=this._hasColors(M));M=S[0].stride;M=m.deduplicate(X,M/4,1-.8*M/(M+4));null!=M?(X=65536>M.uniqueCount?new Uint16Array(M.indices):M.indices,v.push({layout:S,interleavedVertexData:M.buffer,indices:X,corMatrices:V,hasColors:p}),b&&(b.push(M.buffer),b.push(X.buffer))):
(v.push({layout:S,interleavedVertexData:X,corMatrices:V,hasColors:p}),b&&b.push(X))}y&&(u.mat4d.multiplyVec3(z,y.center,y.center),e.vectorToVector(y.center,k,y.center,f),y.center[2]-=a.elevationOffset);return{geometryBuffer:a.geometryBuffer,transformedGeometries:v,obb:y}};a.prototype._hasColors=function(a){var b=a.data,c=a.size,d=a.strideIdx;for(a=a.offsetIdx;a<b.length;a+=d)for(var e=0;e<c;e++)if(255!==b[a+e])return!0;return!1};a.prototype._createComponentNumbers=function(a,b){var c=a.data,d=a.strideIdx,
e=c.length/d,g=0;a=a.offsetIdx;for(var h=0;h<e;h++)h>=b[g+1]&&g++,c[a]=g,a+=d};a.prototype._updateObb=function(a,b,c){if(0<a.halfSize[0]){u.vec3.subtract(a.center,a.halfSize,h);u.vec3.add(a.center,a.halfSize,y);for(c=b.offsetIdx;c<b.data.length;c+=b.strideIdx)h[0]=Math.min(h[0],b.data[c]),h[1]=Math.min(h[1],b.data[c+1]),h[2]=Math.min(h[2],b.data[c+2]),y[0]=Math.max(y[0],b.data[c]),y[1]=Math.max(y[1],b.data[c+1]),y[2]=Math.max(y[2],b.data[c+2]);u.vec3.subtract(y,h,a.halfSize);u.vec3d.scale(a.halfSize,
.5);u.vec3d.add(h,y,a.center);u.vec3d.scale(a.center,.5)}else x.compute(b,a),b=2*Math.sqrt(1+c[0]+c[5]+c[10]),z[0]=(c[9]-c[6])/b,z[1]=(c[2]-c[8])/b,z[2]=(c[4]-c[1])/b,z[3]=.25*b,u.quat4.conjugate(z),u.quat4.multiply(z,a.quaternion,a.quaternion)};return a}();var h=u.vec3d.create(),y=u.vec3d.create(),z=u.quat4.create();return a});